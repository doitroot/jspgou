webpackJsonp([178],{"+mfl":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),o=a.n(r),s=a("x1ym"),i=a("lcoF"),l=a("wNC5"),m={requestMethod:1,apiName:"",apiUrl:"",platformType:"",apiClassCode:"",useScene:""},n={mixins:[i.a],data:function(){var e=this;return{methodItems:[{id:1,name:"GET"},{id:2,name:"POST"},{id:3,name:"DELETE"},{id:4,name:"UPDATE"},{id:5,name:"PUT"}],formData:o()({},m),rules:{platformType:[s.a.required("必须选择一个平台")],apiName:[s.a.required("请填写API名称")],apiUrl:[s.a.required("请填写API地址"),s.a.custom(function(t,a,r){Object(l.a)({url:a,id:e.formData.id}).then(function(e){e.data?r():r(new Error("API地址已存在"))})})],requestMethod:[s.a.required()],isSuper:[s.a.required()],menuid:[]}}},computed:{typeList:function(){return this.$getDictData("systemType")}},methods:{getFormData:function(e){var t=this;Object(l.c)({id:e}).then(function(e){200===e.code&&(t.formData=e.data)})},update:function(){this.updateForm(l.f,this.formData,"/apiMange","list",{platformType:this.formData.platformType})},reset:function(){this.getFormData(this.$route.query.id),this.$refs.form.resetFields()}},created:function(){this.getFormData(this.$route.query.id)}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("cms-breadcrumb",{attrs:{to:"/apiMange",type:"list",params:{platformType:e.$route.query.platformType}},on:{click:e.rest}},[a("li",[e._v(e._s(e.$route.name))])]),e._v(" "),a("div",{staticClass:"cms-form-layout"},[a("cms-prompt",{attrs:{collapse:!1}},[a("li",[e._v("可进行api的修改")])]),e._v(" "),a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.formData,"label-width":"210px"}},[a("el-form-item",{attrs:{label:"平台",prop:"platformType",error:e.errorMessage.platformType}},[a("el-select",{model:{value:e.formData.platformType,callback:function(t){e.$set(e.formData,"platformType",t)},expression:"formData.platformType"}},[a("el-option",{attrs:{label:"平台端",value:1}}),e._v(" "),a("el-option",{attrs:{label:"商家端",value:2}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"API名称",prop:"apiName",error:e.errorMessage.apiName}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.formData.apiName,callback:function(t){e.$set(e.formData,"apiName",t)},expression:"formData.apiName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"API地址",prop:"apiUrl",error:e.errorMessage.roleName}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.formData.apiUrl,callback:function(t){e.$set(e.formData,"apiUrl",t)},expression:"formData.apiUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"请求方式",prop:"requestMethod",error:e.errorMessage.requestMethod}},[a("el-radio-group",{model:{value:e.formData.requestMethod,callback:function(t){e.$set(e.formData,"requestMethod",t)},expression:"formData.requestMethod"}},e._l(e.methodItems,function(t,r){return a("el-radio",{key:r,attrs:{label:t.id}},[e._v(e._s(t.name))])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"使用场景",prop:"useScene",error:e.errorMessage.useScene}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},model:{value:e.formData.useScene,callback:function(t){e.$set(e.formData,"useScene",t)},expression:"formData.useScene"}})],1)],1),e._v(" "),a("div",{staticClass:"cms-form-footer"},[a("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(t){e.update()}}},[e._v("保存修改")]),e._v(" "),a("cms-button",{attrs:{type:"rest"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var p=a("C7Lr")(n,u,!1,function(e){a("b521")},null,null);t.default=p.exports},b521:function(e,t){}});
//# sourceMappingURL=178.ef43fd141391e77230d1.js.map