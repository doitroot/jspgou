{"version":3,"sources":["webpack:///./src/api/shop/shopStatistics.js","webpack:///src/views/shop/shops/shopStatistics/view.vue","webpack:///./src/views/shop/shops/shopStatistics/view.vue?5dcb","webpack:///./src/views/shop/shops/shopStatistics/view.vue"],"names":["__webpack_require__","d","__webpack_exports__","shopStatisticsList","storeStatisticsUpdate","commentList","commentUpdate","__WEBPACK_IMPORTED_MODULE_0__fetch__","params","axios","get","post","defaultData","storeId","memberName","orderCode","page","size","view","mixins","list","data","queryParams","assign_default","tableData","loading","selecteAll","flag","updateParams","commentdList","commenthList","methods","getAll","_this","this","forEach","v","rowCheck","$set","item","getRows","_this2","getGoods","comment","index","goodsCheck","acc","length","getTableData","_this3","Object","shopStatistics","then","res","code","content","total","totalElements","$errorMessage","message","batchUpdate","_this4","commenthObj","id","express","matchV","service","push","commentdObj","$successMessage","update","_this5","arraySpanMethod","_ref","row","rowIndex","column","columnIndex","orderSpan","rowspan","colspan","created","$route","query","shopStatistics_view","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","collapse","_v","nativeOn","keyup","$event","_k","keyCode","key","model","value","callback","$$v","expression","colorPicker","on","click","disabled","directives","name","rawName","border","_e","staticStyle","height","line-height","background-color","font-weight","width","_l","min-height","text-align","padding","_s","indexs","change","product","min","max","$moment","createTime","icon","type","stopPropagation","getPage","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"4EAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IAAAL,EAAAC,EAAAC,EAAA,sBAAAI,IAAA,IAAAC,EAAAP,EAAA,QAIaG,EAAqB,SAAAK,GAAY,OAAOC,IAAMC,IAAI,wCAA0CF,OAAQA,KAGpGJ,EAAwB,SAAAI,GAAY,OAAOC,IAAME,KAAK,yCAA0CH,IAGhGH,EAAc,SAAAG,GAAY,OAAOC,IAAMC,IAAI,gCAAkCF,OAAQA,KAGrFF,EAAgB,SAAAE,GAAY,OAAOC,IAAME,KAAK,iCAAkCH,2IC+G7FI,GACAC,QAAA,GACAC,WAAA,GACAC,UAAA,GACAC,KAAA,EACAC,KAAA,IAEAC,GACAC,QAAAC,EAAA,GACAC,KAFA,WAGA,OACAC,YAAAC,OAAAX,GACAY,aACAC,SAAA,EACAC,YAAA,EACAC,MAAA,EACAC,cACAC,gBACAC,mBAIAC,SACAC,OADA,WACA,IAAAC,EAAAC,KACAA,KAAAR,YAAAQ,KAAAR,WACAQ,KAAAV,UAAAW,QAAA,SAAAC,GACAA,EAAAC,UAAAJ,EAAAP,WACAO,EAAAK,KAAAF,EAAA,YAAAH,EAAAP,YACAU,EAAAP,aAAAM,QAAA,SAAAI,GACAN,EAAAK,KAAAC,EAAA,cAAAN,EAAAP,iBAIAc,QAXA,SAWAD,GAAA,IAAAE,EAAAP,KACAK,EAAAV,aAAAM,QAAA,SAAAC,GACAK,EAAAH,KAAAF,EAAA,cAAAG,EAAAF,aAGAK,SAhBA,SAgBAH,EAAAI,EAAAC,GACAV,KAAAI,KAAAK,EAAAC,GAAA,aAAAD,EAAAC,GAAAC,YACA,IAAAC,EAAA,EACAH,EAAAR,QAAA,SAAAC,GACAA,EAAAS,aACAC,GAAA,KAGAH,EAAAI,SAAAD,EACAZ,KAAAI,KAAAC,EAAA,eAEAL,KAAAI,KAAAC,EAAA,gBAGAS,aA9BA,WA8BA,IAAAC,EAAAf,KACAA,KAAAT,SAAA,EACMyB,OAAAC,EAAA,EAAAD,CAANhB,KAAAZ,aAAA8B,KAAA,SAAAC,GACA,MAAAA,EAAAC,MACAD,EAAAhC,KAAAkC,QAAApB,QAAA,SAAAC,GACAA,EAAAC,UAAA,EACAD,EAAAP,aAAAM,QAAA,SAAAI,GACAA,EAAAM,YAAA,MAGAI,EAAAzB,UAAA6B,EAAAhC,KAAAkC,QACAN,EAAAO,MAAAH,EAAAhC,KAAAoC,cACAR,EAAAxB,SAAA,IAEAwB,EAAAS,cAAAL,EAAAM,SACAV,EAAAxB,SAAA,MAIAmC,YAjDA,WAiDA,IAAAC,EAAA3B,KACAA,KAAAV,UAAAW,QAAA,SAAAC,GACA,GAAAA,EAAAC,SAAA,CACA,IAAAyB,GACAC,GAAA3B,EAAA2B,GACAC,QAAA5B,EAAA4B,QACAC,OAAA7B,EAAA6B,OACAC,QAAA9B,EAAA8B,SAEA,KAAA9B,EAAA4B,SAAA,KAAA5B,EAAA6B,QAAA,KAAA7B,EAAA8B,UACAL,EAAAlC,MAAA,GAEAkC,EAAAjC,aAAAE,aAAAqC,KAAAL,GAEA1B,EAAAP,aAAAM,QAAA,SAAAI,GACA,GAAAA,EAAAM,WAAA,CACA,IAAAuB,GACAL,GAAA,GACAE,OAAA,IAEA,KAAA1B,EAAA0B,SACAJ,EAAAlC,MAAA,GAEAyC,EAAAL,GAAAxB,EAAAwB,GACAK,EAAAH,OAAA1B,EAAA0B,OACAJ,EAAAjC,aAAAC,aAAAsC,KAAAC,QAIA,IAAAlC,KAAAN,aAAAC,aAAAkB,QAAA,IAAAb,KAAAN,aAAAE,aAAAiB,OACAb,KAAAwB,cAAA,aAEQR,OAAAC,EAAA,EAAAD,CAARhB,KAAAN,cAAAwB,KAAA,SAAAC,GACA,MAAAA,EAAAC,MACAO,EAAAQ,gBAAA,QACAR,EAAAb,eACAa,EAAAjC,cAAAC,gBAAAC,iBACA+B,EAAAnC,YAAA,GAEAmC,EAAAH,cAAAL,EAAAM,YAKAW,OA7FA,SA6FA/B,GAAA,IAAAgC,EAAArC,KACAK,EAAAV,aAAAM,QAAA,SAAAC,GACA,IAAAgC,GACAL,GAAA,GACAE,OAAA,IAEA,KAAA7B,EAAA6B,SACAM,EAAA5C,MAAA,GAEAyC,EAAAL,GAAA3B,EAAA2B,GACAK,EAAAH,OAAA7B,EAAA6B,OACAM,EAAA3C,aAAAC,aAAAsC,KAAAC,KAEA,KAAA7B,EAAAyB,SAAA,KAAAzB,EAAA0B,QAAA,KAAA1B,EAAA2B,UACAhC,KAAAP,MAAA,GAEA,IAAAmC,GACAC,GAAAxB,EAAAwB,GACAC,QAAAzB,EAAAyB,QACAC,OAAA1B,EAAA0B,OACAC,QAAA3B,EAAA2B,SAEAhC,KAAAN,aAAAE,aAAAqC,KAAAL,GACA5B,KAAAP,KAIAY,EAAAF,SAGUa,OAAAC,EAAA,EAAAD,CAAVhB,KAAAN,cAAAwB,KAAA,SAAAC,GACA,MAAAA,EAAAC,MACAiB,EAAAF,gBAAA,QACAE,EAAAvB,eACAuB,EAAA3C,cAAAC,gBAAAC,kBAEAyC,EAAAb,cAAAL,EAAAM,WARAzB,KAAAwB,cAAA,WAJAxB,KAAAwB,cAAA,eACAxB,KAAAP,MAAA,IAiBA6C,gBAvIA,SAAAC,GAuIA,IAAAC,EAAAD,EAAAC,IAAAC,GAAAF,EAAAG,OAAAH,EAAAE,UAAAE,EAAAJ,EAAAI,YACAC,EAAA5C,KAAAV,UAAAmD,GAAA9C,aAAAkB,OACA,OAAA2B,EAAA7C,aAAAkB,OAAA,CACA,GAAA4B,EAAA,UAAAE,EACA,YACA,GAAAF,EAAA,UAAAE,EACA,YAQA,OAAAF,EAAA,UAAAE,GACA,KAEA,IAAAA,GAAA,IAAAA,GAEAE,QAAAD,EACAE,QAAA,GAEA,IAAAH,GAAA,IAAAA,GACA,UADA,IAMAI,QAlLA,WAmLA/C,KAAAZ,YAAAT,QAAAqB,KAAAgD,OAAAC,MAAApB,GACA7B,KAAAc,iBCpTeoC,GADEC,OAFjB,WAA0B,IAAAC,EAAApD,KAAaqD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA8BF,EAAA,cAAmBG,OAAOC,SAAA,UAAmBJ,EAAA,MAAAH,EAAAQ,GAAA,qBAAAR,EAAAQ,GAAA,KAAAL,EAAA,WAAiEE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,gBAA0BF,EAAA,SAAAH,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,YAA0DM,UAAUC,MAAA,SAAAC,GAAyB,iBAAAA,IAAAX,EAAAY,GAAAD,EAAAE,QAAA,WAAAF,EAAAG,IAAA,SAA+Fd,EAAAH,MAAAc,GAAf,OAAyCI,OAAQC,MAAAhB,EAAAhE,YAAA,WAAAiF,SAAA,SAAAC,GAA4DlB,EAAAhD,KAAAgD,EAAAhE,YAAA,aAAAkF,IAA6CC,WAAA,6BAAsC,GAAAnB,EAAAQ,GAAA,KAAAL,EAAA,OAA4BE,YAAA,gBAA0BF,EAAA,SAAAH,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,KAAAL,EAAA,YAAyDM,UAAUC,MAAA,SAAAC,GAAyB,iBAAAA,IAAAX,EAAAY,GAAAD,EAAAE,QAAA,WAAAF,EAAAG,IAAA,SAA+Fd,EAAAH,MAAAc,GAAf,OAAyCI,OAAQC,MAAAhB,EAAAhE,YAAA,UAAAiF,SAAA,SAAAC,GAA2DlB,EAAAhD,KAAAgD,EAAAhE,YAAA,YAAAkF,IAA4CC,WAAA,4BAAqC,GAAAnB,EAAAQ,GAAA,KAAAL,EAAA,OAA4BE,YAAA,gBAA0BF,EAAA,cAAmBG,OAAO3E,KAAA,QAAAyF,aAAA,GAAkCC,IAAKC,MAAAtB,EAAAH,SAAmBG,EAAAQ,GAAA,cAAAR,EAAAQ,GAAA,KAAAL,EAAA,WAAiDE,YAAA,cAAwBF,EAAA,cAAmBG,OAAO3E,KAAA,QAAA4F,SAAA,GAAAvB,EAAA9D,UAAAuB,OAAA2D,aAAA,GAAqEC,IAAKC,MAAAtB,EAAA1B,eAAyB0B,EAAAQ,GAAA,cAAAR,EAAAQ,GAAA,KAAAL,EAAA,SAA+CqB,aAAaC,KAAA,UAAAC,QAAA,YAAAV,MAAAhB,EAAA,QAAAmB,WAAA,YAA4Ed,YAAA,qBAAAC,OAA0CqB,OAAA,MAAa3B,EAAA7D,QAA81B6D,EAAA4B,KAA91BzB,EAAA,MAA0B0B,aAAaC,OAAA,OAAAC,cAAA,OAAAC,mBAAA,UAAAC,cAAA,YAA0F9B,EAAA,MAAW0B,aAAaK,MAAA,UAAgB/B,EAAA,eAAoBM,UAAUa,MAAA,SAAAX,GAAyB,OAAAX,EAAAtD,OAAAiE,KAA2BI,OAAQC,MAAAhB,EAAA,WAAAiB,SAAA,SAAAC,GAAgDlB,EAAA5D,WAAA8E,GAAmBC,WAAA,iBAA0B,GAAAnB,EAAAQ,GAAA,KAAAL,EAAA,MAA2BE,YAAA,eAAyBL,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAuCE,YAAA,eAAyBL,EAAAQ,GAAA,YAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAA0CE,YAAA,eAAyBL,EAAAQ,GAAA,YAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAA0CE,YAAA,eAAyBL,EAAAQ,GAAA,WAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAyCE,YAAA,eAAyBL,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAuCE,YAAA,eAAyBL,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAwCE,YAAA,eAAyBL,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAwCE,YAAA,eAAyBL,EAAAQ,GAAA,YAAAR,EAAAQ,GAAA,KAAAR,EAAAmC,GAAAnC,EAAA,mBAAA/C,EAAAK,GAAsF,OAAA6C,EAAA,SAAmBW,IAAAxD,IAAU6C,EAAA,MAAW0B,aAAaO,aAAA,OAAAJ,mBAAA,WAAiDX,IAAKC,MAAA,SAAAX,GAAyBX,EAAA9C,QAAAD,OAAoBkD,EAAA,MAAW0B,aAAaQ,aAAA,YAAuBlC,EAAA,eAAoBY,OAAOC,MAAA/D,EAAA,SAAAgE,SAAA,SAAAC,GAA+ClB,EAAAhD,KAAAC,EAAA,WAAAiE,IAAgCC,WAAA,oBAA6B,GAAAnB,EAAAQ,GAAA,KAAAL,EAAA,MAA2B0B,aAAaS,QAAA,OAAgBhC,OAAQZ,QAAA,OAAeM,EAAAQ,GAAAR,EAAAuC,GAAAtF,EAAAxB,gBAAAuE,EAAAQ,GAAA,KAAAR,EAAAmC,GAAAlF,EAAA,sBAAAI,EAAAmF,GAAqG,OAAArC,EAAA,MAAgBW,IAAA0B,EAAAnC,YAAA,gBAAAwB,aAAoDS,QAAA,WAAmBnC,EAAA,MAAW0B,aAAaQ,aAAA,YAAuBlC,EAAA,eAAoBkB,IAAIoB,OAAA,SAAA9B,GAA0BX,EAAA5C,SAAAH,IAAAV,aAAAiG,KAA6CzB,OAAQC,MAAA3D,EAAA,WAAA4D,SAAA,SAAAC,GAAoDlB,EAAAhD,KAAAK,EAAA,aAAA6D,IAAqCC,WAAA,yBAAkC,GAAAnB,EAAAQ,GAAA,KAAAL,EAAA,MAA2BE,YAAA,iBAA2BL,EAAAQ,GAAAR,EAAAuC,GAAAlF,EAAAqF,QAAAjB,SAAAzB,EAAAQ,GAAA,QAAAgC,EAAArC,EAAA,MAA0EE,YAAA,gBAAAC,OAAmCb,QAAAxC,EAAAV,aAAAkB,UAAoC0C,EAAA,mBAAwBG,OAAOqC,IAAA,EAAAC,IAAA,GAAgB7B,OAAQC,MAAA/D,EAAA,QAAAgE,SAAA,SAAAC,GAA8ClB,EAAAhD,KAAAC,EAAA,UAAAiE,IAA+BC,WAAA,mBAA4B,GAAAnB,EAAA4B,KAAA5B,EAAAQ,GAAA,QAAAgC,EAAArC,EAAA,MAAgDE,YAAA,gBAAAC,OAAmCb,QAAAxC,EAAAV,aAAAkB,UAAoC0C,EAAA,mBAAwBG,OAAOqC,IAAA,EAAAC,IAAA,GAAgB7B,OAAQC,MAAA/D,EAAA,QAAAgE,SAAA,SAAAC,GAA8ClB,EAAAhD,KAAAC,EAAA,UAAAiE,IAA+BC,WAAA,mBAA4B,GAAAnB,EAAA4B,KAAA5B,EAAAQ,GAAA,QAAAgC,EAAArC,EAAA,MAAgDE,YAAA,gBAAAC,OAAmCb,QAAAxC,EAAAV,aAAAkB,UAAoC0C,EAAA,mBAAwBG,OAAOqC,IAAA,EAAAC,IAAA,GAAgB7B,OAAQC,MAAA/D,EAAA,OAAAgE,SAAA,SAAAC,GAA6ClB,EAAAhD,KAAAC,EAAA,SAAAiE,IAA8BC,WAAA,kBAA2B,GAAAnB,EAAA4B,KAAA5B,EAAAQ,GAAA,KAAAL,EAAA,MAAoCE,YAAA,kBAA4BF,EAAA,mBAAwBG,OAAOqC,IAAA,EAAAC,IAAA,GAAgB7B,OAAQC,MAAA3D,EAAA,OAAA4D,SAAA,SAAAC,GAAgDlB,EAAAhD,KAAAK,EAAA,SAAA6D,IAAiCC,WAAA,qBAA8B,GAAAnB,EAAAQ,GAAA,QAAAgC,EAAArC,EAAA,MAAuC0B,aAAaQ,aAAA,SAAAC,QAAA,SAAwChC,OAAQb,QAAAxC,EAAAV,aAAAkB,UAAoCuC,EAAAQ,GAAA,eAAAR,EAAAuC,GAAAtF,EAAAzB,YAAA,gBAAAwE,EAAA4B,KAAA5B,EAAAQ,GAAA,QAAAgC,EAAArC,EAAA,MAA0G0B,aAAaQ,aAAA,UAAsB/B,OAAQb,QAAAxC,EAAAV,aAAAkB,UAAoCuC,EAAAQ,GAAA,eAAAR,EAAAuC,GAAAvC,EAAA6C,QAAA5F,EAAA6F,aAAA,gBAAA9C,EAAA4B,KAAA5B,EAAAQ,GAAA,QAAAgC,EAAArC,EAAA,MAAuH0B,aAAaQ,aAAA,UAAsB/B,OAAQb,QAAAxC,EAAAV,aAAAkB,UAAoC0C,EAAA,cAAmBG,OAAOyC,KAAA,OAAApH,KAAA,QAAAqH,KAAA,QAA2C3B,IAAKC,MAAA,SAAAX,GAAyBA,EAAAsC,kBAAyBjD,EAAAhB,OAAA/B,OAAmB+C,EAAAQ,GAAA,YAAAR,EAAA4B,UAAgC,MAAM,GAAA5B,EAAAQ,GAAA,QAAAR,EAAA9D,UAAAuB,OAAA0C,EAAA,kBAAiEG,OAAOpC,MAAA8B,EAAA9B,OAAkBmD,IAAKoB,OAAAzC,EAAAkD,WAAsBlD,EAAA4B,MAAA,IAE1wKuB,oBCCjB,IAcAC,EAdyB1I,EAAQ,OAcjC2I,CACEzH,EACAkE,GATF,EAVA,SAAAwD,GACE5I,EAAQ,SAaV,kBAEA,MAUeE,EAAA,QAAAwI,EAAiB","file":"static/js/58.01cea8a155fa70bf7b03.js","sourcesContent":["// 店铺权益相关接口\nimport axios from '../fetch'\n\n// 商家评分详细信息分页\nexport const shopStatisticsList = params => { return axios.get('/admin/platform/storeStatistics/page', { params: params }) }\n\n// 修改商家评分详细信息\nexport const storeStatisticsUpdate = params => { return axios.post('/admin/platform/storeStatistics/update', params) }\n\n// 查看商家评分构想详细信\nexport const commentList = params => { return axios.get('/admin/platform/comment/page', { params: params }) }\n\n// 修改商家评分构想详细信\nexport const commentUpdate = params => { return axios.post('/admin/platform/comment/update', params) }\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/shop/shopStatistics.js","<template>\r\n  <div class=\"cms-list-layout\">\r\n    <cms-prompt collapse='true'>\r\n      <li>可查看商家评分构成详细信息</li>\r\n    </cms-prompt>\r\n    <!-- 筛选区 -->\r\n    <section class=\"cms-list-query\">\r\n      <div class=\"query-group\">\r\n        <label>买家账户</label>\r\n        <el-input v-model=\"queryParams.memberName\" @keyup.native.enter=\"query\"></el-input>\r\n      </div>\r\n      <div class=\"query-group\">\r\n        <label>订单号</label>\r\n        <el-input v-model=\"queryParams.orderCode\" @keyup.native.enter=\"query\"></el-input>\r\n      </div>\r\n      <div class=\"query-group\">\r\n      <cms-button size=\"small\" :colorPicker='true' @click=\"query\">查询</cms-button>\r\n      </div>\r\n    </section>\r\n    <!-- 操作区 -->\r\n    <section class=\"cms-batch\">\r\n       <cms-button size=\"small\" @click=\"batchUpdate\" :disabled=\"tableData.length==0\" :colorPicker='true'>保存修改</cms-button>\r\n    </section>\r\n    <!-- <el-table :data=\"tableData\" style=\"width: 100%\" stripe \r\n     v-loading=\"loading\" @selection-change='getCheckItems' @row-click='checkRows' ref='dataTable'\r\n     :span-method=\"arraySpanMethod\" border>\r\n     \r\n      <el-table-column type=\"selection\" width=\"46\" fixed='left'></el-table-column>\r\n      <el-table-column prop=\"orderCode\" label=\"订单号\" min-width=\"160\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.commentdList==1\">{{scope.row.orderCode}}</span>\r\n          <span v-for=\"(item,index) in scope.row.commentdList\" :key=\"index\">{{item.product.name}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"service\" min-width=\"260\">\r\n        <template slot-scope=\"scope\">\r\n         \r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"service\" label=\"商家服务态度\" min-width=\"110\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input v-model=\"scope.row.service\"> </el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"express\" label=\"商家发货速度\" min-width=\"110\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input v-model=\"scope.row.express\"> </el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"matchV\" label=\"商家符合度\" min-width=\"110\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input v-model=\"scope.row.matchV\"> </el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"exp\" label=\"经验值\" min-width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input v-model=\"scope.row.service\"> </el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"memberName\" label=\"买家账户\" min-width=\"110\">\r\n      </el-table-column>\r\n      <el-table-column label=\"评论时间\" min-width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n         <span>{{$moment(scope.row.createTime)}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作选项\" width='105' fixed=\"right\" align=\"center\">\r\n        <div slot-scope=\"scope\">\r\n          <cms-button icon='edit' size='small' type='info'>修改</cms-button>\r\n        </div>\r\n      </el-table-column>\r\n    </el-table> -->\r\n    <table border class=\"comment-table-wrap\" v-loading=\"loading\">\r\n      <tr style=\"height:35px;line-height:35px;background-color:#F7F7F7;font-weight:normal;\" v-if=\"!loading\">\r\n        <th style=\"width:30px;\"><el-checkbox v-model=\"selecteAll\" @click.native=\"getAll\"></el-checkbox></th>\r\n        <th class=\"comment-th\">订单号</th>\r\n        <th class=\"comment-th\">商家服务态度</th>\r\n        <th class=\"comment-th\">商家发货速度</th>\r\n        <th class=\"comment-th\">商家符合度</th>\r\n        <th class=\"comment-th\">经验值</th>\r\n        <th class=\"comment-th\">买家账户</th>\r\n        <th class=\"comment-th\">评论时间</th>\r\n        <th class=\"comment-th\">操作选项</th>\r\n      </tr>\r\n      <tbody v-for=\"(item,index) in tableData\" :key=\"index\" >\r\n        <tr style=\"min-height:30px;background-color:#FAFAFA;\" @click=\"getRows(item)\">\r\n          <td style=\"text-align:center;\"><el-checkbox v-model=\"item.rowCheck\"></el-checkbox></td>\r\n          <td colspan=\"8\" style=\"padding: 5px;\">{{item.orderCode}}</td>\r\n        </tr>\r\n        <tr v-for=\"(comment,indexs) in item.commentdList\" :key=\"indexs\" style=\"padding:5px 0;\" class=\"comment-table\">\r\n          <td style=\"text-align:center;\">\r\n            <el-checkbox v-model=\"comment.goodsCheck\" @change=\"getGoods(item,item.commentdList,indexs)\"></el-checkbox>\r\n          </td>\r\n          <td class=\"comment-name\">{{comment.product.name}}</td>\r\n          <td :rowspan=\"item.commentdList.length\" v-if=\"indexs==0\" class=\"comment-value\">\r\n            <el-input-number v-model=\"item.service\" :min=\"0\" :max=\"5\"></el-input-number>\r\n          </td>\r\n          <td :rowspan=\"item.commentdList.length\" v-if=\"indexs==0\" class=\"comment-value\">\r\n            <el-input-number v-model=\"item.express\" :min=\"0\" :max=\"5\"></el-input-number>\r\n          </td>\r\n          <td :rowspan=\"item.commentdList.length\" v-if=\"indexs==0\" class=\"comment-value\">\r\n            <el-input-number v-model=\"item.matchV\" :min=\"0\" :max=\"5\"></el-input-number>\r\n          </td>\r\n          <td  class=\"comment-value\"> \r\n             <el-input-number v-model=\"comment.matchV\" :min=\"0\" :max=\"5\"></el-input-number>\r\n          </td>\r\n          <td :rowspan=\"item.commentdList.length\" v-if=\"indexs==0\"  style=\"text-align:center;padding:0 5px;\">\r\n            {{item.memberName}}\r\n          </td>\r\n          <td :rowspan=\"item.commentdList.length\" v-if=\"indexs==0\"  style=\"text-align:center;\">\r\n            {{$moment(item.createTime)}}\r\n          </td>\r\n          <td :rowspan=\"item.commentdList.length\"  v-if=\"indexs==0\" style=\"text-align:center;\">\r\n             <cms-button icon='edit' size='small' type='info' @click.stop=\"update(item)\">修改</cms-button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <cms-pagination @change=\"getPage\" :total='total' v-if=\"tableData.length!=0\"></cms-pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nimport list from '@/mixins/list'\r\nimport { commentList, commentUpdate } from '@/api/shop/shopStatistics.js'\r\nvar defaultData = {\r\n  'storeId': '',\r\n  'memberName': '',\r\n  'orderCode': '',\r\n  'page': 1,\r\n  'size': 10\r\n}\r\nexport default {\r\n  mixins: [list],\r\n  data() {\r\n    return {\r\n      queryParams: Object.assign({}, defaultData),\r\n      tableData: [],\r\n      loading: false,\r\n      selecteAll: false, // 全选状态的控制\r\n      flag: true, // 判断是否全部填写完整\r\n      updateParams: {// 修改需要提交的参数\r\n        commentdList: [],\r\n        commenthList: []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getAll() { // 全选复选框\r\n      this.selecteAll = !this.selecteAll\r\n      this.tableData.forEach(v => {\r\n        v.rowCheck = !this.selecteAll\r\n        this.$set(v, 'rowCheck', !this.selecteAll)\r\n        v.commentdList.forEach(item => {\r\n          this.$set(item, 'goodsCheck', !this.selecteAll)\r\n        })\r\n      })\r\n    },\r\n    getRows(item) { // 订单号行复选框的点击\r\n      item.commentdList.forEach(v => {\r\n        this.$set(v, 'goodsCheck', !item.rowCheck)\r\n      })\r\n    },\r\n    getGoods(item, comment, index) { // 商品行复选框的点击\r\n      this.$set(comment[index], 'goodsCheck', comment[index].goodsCheck)// 点亮单前复选框\r\n      let acc = 0// 定义一个累加器\r\n      comment.forEach(v => {\r\n        if (v.goodsCheck) {\r\n          acc += 1\r\n        }\r\n      })\r\n      if (comment.length === acc) { // 商品全部选中时，点亮订单行的选中\r\n        this.$set(item, 'rowCheck', true)\r\n      } else {\r\n        this.$set(item, 'rowCheck', false)\r\n      }\r\n    },\r\n    getTableData() {\r\n      this.loading = true\r\n      commentList(this.queryParams).then(res => {\r\n        if (res.code === 200) {\r\n          res.data.content.forEach(v => { // 订单号的复选框选中状态\r\n            v.rowCheck = false\r\n            v.commentdList.forEach(item => { // 商品行的复选框选中状态\r\n              item.goodsCheck = false\r\n            })\r\n          })\r\n          this.tableData = res.data.content\r\n          this.total = res.data.totalElements\r\n          this.loading = false\r\n        } else {\r\n          this.$errorMessage(res.message)\r\n          this.loading = false\r\n        }\r\n      })\r\n    },\r\n    batchUpdate() { // 批量保存修改\r\n      this.tableData.forEach(v => { // 循环第一层订单的信息\r\n        if (v.rowCheck) {\r\n          const commenthObj = {\r\n            id: v.id,\r\n            express: v.express,\r\n            matchV: v.matchV,\r\n            service: v.service\r\n          }\r\n          if (v.express === '' || v.matchV === '' || v.service === '') {\r\n            this.flag = false\r\n          }\r\n          this.updateParams.commenthList.push(commenthObj)\r\n        }\r\n        v.commentdList.forEach(item => { // 循环第二层商品的信息\r\n          if (item.goodsCheck) {\r\n            const commentdObj = {\r\n              id: '',\r\n              matchV: ''\r\n            }\r\n            if (item.matchV === '') { // 判断是否为填写完整\r\n              this.flag = false\r\n            }\r\n            commentdObj.id = item.id\r\n            commentdObj.matchV = item.matchV\r\n            this.updateParams.commentdList.push(commentdObj)\r\n          }\r\n        })\r\n      })\r\n      if (this.updateParams.commentdList.length === 0 || this.updateParams.commenthList.length === 0) {\r\n        this.$errorMessage('至少选中一条订单项')\r\n      } else {\r\n        commentUpdate(this.updateParams).then(res => {\r\n          if (res.code === 200) {\r\n            this.$successMessage('修改成功')\r\n            this.getTableData()\r\n            this.updateParams = { commentdList: [], commenthList: [] }\r\n            this.selecteAll = false\r\n          } else {\r\n            this.$errorMessage(res.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    update(item) { // 修改\r\n      item.commentdList.forEach(v => {\r\n        const commentdObj = {\r\n          id: '',\r\n          matchV: ''\r\n        }\r\n        if (v.matchV === '') { // 判断是否为填写完整\r\n          this.flag = false\r\n        }\r\n        commentdObj.id = v.id\r\n        commentdObj.matchV = v.matchV\r\n        this.updateParams.commentdList.push(commentdObj)\r\n      })\r\n      if (item.express === '' || item.matchV === '' || item.service === '') {\r\n        this.flag = false\r\n      }\r\n      const commenthObj = {\r\n        id: item.id,\r\n        express: item.express,\r\n        matchV: item.matchV,\r\n        service: item.service\r\n      }\r\n      this.updateParams.commenthList.push(commenthObj)\r\n      if (!this.flag) {\r\n        this.$errorMessage('请全部填写完整后再保存')\r\n        this.flag = true// 再次还原\r\n      } else {\r\n        if (!item.rowCheck) {\r\n          this.$errorMessage('请勾选订单项')\r\n        } else {\r\n          commentUpdate(this.updateParams).then(res => {\r\n            if (res.code === 200) {\r\n              this.$successMessage('修改成功')\r\n              this.getTableData()\r\n              this.updateParams = { commentdList: [], commenthList: [] }\r\n            } else {\r\n              this.$errorMessage(res.message)\r\n            }\r\n          })\r\n        }\r\n      }\r\n    },\r\n    arraySpanMethod({ row, column, rowIndex, columnIndex }) {\r\n      const orderSpan = this.tableData[rowIndex].commentdList.length// 商品信息的条数\r\n      if (row.commentdList.length === 1) {\r\n        if (rowIndex % 2 === 0 && columnIndex === 1) {\r\n          return [1, 2]\r\n        } else if (rowIndex % 2 === 1 && columnIndex !== 1) {\r\n          return [1, 1]\r\n        }\r\n      }\r\n      // if (rowIndex === 0) { // 第一行\r\n      //   return [1, 9]\r\n      // } else if (orderSpan === 1 && rowIndex > 0) {\r\n      //   return [1, 9]\r\n      // }\r\n      if (rowIndex % 2 === 0 && columnIndex === 1) {\r\n        return [0, 0]\r\n      }\r\n      if (columnIndex !== 1 && columnIndex !== 5) {\r\n        return {\r\n          rowspan: orderSpan,\r\n          colspan: 1\r\n        }\r\n      } else if (columnIndex === 1 || columnIndex === 5) {\r\n        return [0, 0]\r\n      }\r\n    }\r\n\r\n  },\r\n  created() {\r\n    this.queryParams.storeId = this.$route.query.id\r\n    this.getTableData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.comment-table-wrap{\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  border:1px solid #F0F0F0;\r\n  font-size: 14px;\r\n  color: rgb(53, 53, 53)\r\n}\r\n.static-check{\r\n  height: 16px;\r\n  width: 16px;\r\n  text-align: center;\r\n}\r\n.comment-th{\r\n  font-weight: normal;\r\n}\r\n.comment-name{\r\n  width: 37%;\r\n  padding: 5px;\r\n}\r\n.comment-value{\r\n  width: 8%;\r\n  text-align: center;\r\n  padding: 5px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/shop/shops/shopStatistics/view.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cms-list-layout\"},[_c('cms-prompt',{attrs:{\"collapse\":\"true\"}},[_c('li',[_vm._v(\"可查看商家评分构成详细信息\")])]),_vm._v(\" \"),_c('section',{staticClass:\"cms-list-query\"},[_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"买家账户\")]),_vm._v(\" \"),_c('el-input',{nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.query($event)}},model:{value:(_vm.queryParams.memberName),callback:function ($$v) {_vm.$set(_vm.queryParams, \"memberName\", $$v)},expression:\"queryParams.memberName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"订单号\")]),_vm._v(\" \"),_c('el-input',{nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.query($event)}},model:{value:(_vm.queryParams.orderCode),callback:function ($$v) {_vm.$set(_vm.queryParams, \"orderCode\", $$v)},expression:\"queryParams.orderCode\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('cms-button',{attrs:{\"size\":\"small\",\"colorPicker\":true},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1)]),_vm._v(\" \"),_c('section',{staticClass:\"cms-batch\"},[_c('cms-button',{attrs:{\"size\":\"small\",\"disabled\":_vm.tableData.length==0,\"colorPicker\":true},on:{\"click\":_vm.batchUpdate}},[_vm._v(\"保存修改\")])],1),_vm._v(\" \"),_c('table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"comment-table-wrap\",attrs:{\"border\":\"\"}},[(!_vm.loading)?_c('tr',{staticStyle:{\"height\":\"35px\",\"line-height\":\"35px\",\"background-color\":\"#F7F7F7\",\"font-weight\":\"normal\"}},[_c('th',{staticStyle:{\"width\":\"30px\"}},[_c('el-checkbox',{nativeOn:{\"click\":function($event){return _vm.getAll($event)}},model:{value:(_vm.selecteAll),callback:function ($$v) {_vm.selecteAll=$$v},expression:\"selecteAll\"}})],1),_vm._v(\" \"),_c('th',{staticClass:\"comment-th\"},[_vm._v(\"订单号\")]),_vm._v(\" \"),_c('th',{staticClass:\"comment-th\"},[_vm._v(\"商家服务态度\")]),_vm._v(\" \"),_c('th',{staticClass:\"comment-th\"},[_vm._v(\"商家发货速度\")]),_vm._v(\" \"),_c('th',{staticClass:\"comment-th\"},[_vm._v(\"商家符合度\")]),_vm._v(\" \"),_c('th',{staticClass:\"comment-th\"},[_vm._v(\"经验值\")]),_vm._v(\" \"),_c('th',{staticClass:\"comment-th\"},[_vm._v(\"买家账户\")]),_vm._v(\" \"),_c('th',{staticClass:\"comment-th\"},[_vm._v(\"评论时间\")]),_vm._v(\" \"),_c('th',{staticClass:\"comment-th\"},[_vm._v(\"操作选项\")])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.tableData),function(item,index){return _c('tbody',{key:index},[_c('tr',{staticStyle:{\"min-height\":\"30px\",\"background-color\":\"#FAFAFA\"},on:{\"click\":function($event){_vm.getRows(item)}}},[_c('td',{staticStyle:{\"text-align\":\"center\"}},[_c('el-checkbox',{model:{value:(item.rowCheck),callback:function ($$v) {_vm.$set(item, \"rowCheck\", $$v)},expression:\"item.rowCheck\"}})],1),_vm._v(\" \"),_c('td',{staticStyle:{\"padding\":\"5px\"},attrs:{\"colspan\":\"8\"}},[_vm._v(_vm._s(item.orderCode))])]),_vm._v(\" \"),_vm._l((item.commentdList),function(comment,indexs){return _c('tr',{key:indexs,staticClass:\"comment-table\",staticStyle:{\"padding\":\"5px 0\"}},[_c('td',{staticStyle:{\"text-align\":\"center\"}},[_c('el-checkbox',{on:{\"change\":function($event){_vm.getGoods(item,item.commentdList,indexs)}},model:{value:(comment.goodsCheck),callback:function ($$v) {_vm.$set(comment, \"goodsCheck\", $$v)},expression:\"comment.goodsCheck\"}})],1),_vm._v(\" \"),_c('td',{staticClass:\"comment-name\"},[_vm._v(_vm._s(comment.product.name))]),_vm._v(\" \"),(indexs==0)?_c('td',{staticClass:\"comment-value\",attrs:{\"rowspan\":item.commentdList.length}},[_c('el-input-number',{attrs:{\"min\":0,\"max\":5},model:{value:(item.service),callback:function ($$v) {_vm.$set(item, \"service\", $$v)},expression:\"item.service\"}})],1):_vm._e(),_vm._v(\" \"),(indexs==0)?_c('td',{staticClass:\"comment-value\",attrs:{\"rowspan\":item.commentdList.length}},[_c('el-input-number',{attrs:{\"min\":0,\"max\":5},model:{value:(item.express),callback:function ($$v) {_vm.$set(item, \"express\", $$v)},expression:\"item.express\"}})],1):_vm._e(),_vm._v(\" \"),(indexs==0)?_c('td',{staticClass:\"comment-value\",attrs:{\"rowspan\":item.commentdList.length}},[_c('el-input-number',{attrs:{\"min\":0,\"max\":5},model:{value:(item.matchV),callback:function ($$v) {_vm.$set(item, \"matchV\", $$v)},expression:\"item.matchV\"}})],1):_vm._e(),_vm._v(\" \"),_c('td',{staticClass:\"comment-value\"},[_c('el-input-number',{attrs:{\"min\":0,\"max\":5},model:{value:(comment.matchV),callback:function ($$v) {_vm.$set(comment, \"matchV\", $$v)},expression:\"comment.matchV\"}})],1),_vm._v(\" \"),(indexs==0)?_c('td',{staticStyle:{\"text-align\":\"center\",\"padding\":\"0 5px\"},attrs:{\"rowspan\":item.commentdList.length}},[_vm._v(\"\\n          \"+_vm._s(item.memberName)+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(indexs==0)?_c('td',{staticStyle:{\"text-align\":\"center\"},attrs:{\"rowspan\":item.commentdList.length}},[_vm._v(\"\\n          \"+_vm._s(_vm.$moment(item.createTime))+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(indexs==0)?_c('td',{staticStyle:{\"text-align\":\"center\"},attrs:{\"rowspan\":item.commentdList.length}},[_c('cms-button',{attrs:{\"icon\":\"edit\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){$event.stopPropagation();_vm.update(item)}}},[_vm._v(\"修改\")])],1):_vm._e()])})],2)})],2),_vm._v(\" \"),(_vm.tableData.length!=0)?_c('cms-pagination',{attrs:{\"total\":_vm.total},on:{\"change\":_vm.getPage}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-de3d8752\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/shop/shops/shopStatistics/view.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-de3d8752\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./view.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./view.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./view.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-de3d8752\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./view.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-de3d8752\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/shop/shops/shopStatistics/view.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}