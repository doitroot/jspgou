webpackJsonp([35],{"4uqa":function(t,e){},Ee4i:function(t,e){},"gQr+":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("GBzI"),r={data:function(){return{checkItem:"男装、女装、内衣 > 女装 > 衬衫",items0:[],items1:[],items2:[],items3:[],checkIds:[],categoryId:0}},computed:{categoryName:function(){for(var t="",e=0;e<this.checkIds.length;e++)""!==this.checkIds[e].name&&(t=t+this.checkIds[e].name+"> ");return t}},methods:{getCategoryList:function(t,e){var a=this;if(0===e)this.items2=[],this.items3=[],this.$set(this.checkIds,1,{name:"",id:""}),this.$set(this.checkIds,2,{name:"",id:""}),this.$set(this.checkIds,3,{name:"",id:""});else if(1===e)this.items3=[],this.$set(this.checkIds,2,{name:"",id:""}),this.$set(this.checkIds,3,{name:"",id:""});else if(2===e)this.$set(this.checkIds,3,{name:"",id:""});else{if(3===e)return!0;this.checkIds=[{name:"",id:""},{name:"",id:""},{name:"",id:""},{name:"",id:""}]}Object(s.e)({parentId:t}).then(function(t){if(0===e)a.items1=t.data;else if(1===e)a.items2=t.data;else if(2===e)a.items3=t.data;else{if(3===e)return!1;a.items0=t.data}})},nextStep:function(){this.$store.dispatch("setCateGoryInfo",{categoryId:this.categoryId,parentInfo:this.checkIds})},setCheckItem:function(t,e,a){this.categoryId=t.id,this.$set(this.checkIds,a,{name:t.cateName,id:t.id}),this.getCategoryList(t.id,a)}},activated:function(){this.getCategoryList()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cms-form-layout "},[t._m(0),t._v(" "),a("div",{staticClass:"step-class-warpper"},[a("div",{staticClass:"check-class-title"},[t._v("您当前选择的分类：\n       "),t._l(t.checkIds,function(e,s){return a("span",{key:s,staticClass:"blue"},[e.name&&s>0?a("span",[t._v(">")]):t._e(),t._v("\n             "+t._s(e.name)+"\n       ")])})],2),t._v(" "),a("section",{staticClass:"step-class-group"},[a("div",{staticClass:"class-group-header"},[t._v("\n         请选择分类\n       ")]),t._v(" "),a("ul",{staticClass:"class-group-body"},t._l(t.items0,function(e,s){return a("li",{key:e.id,staticClass:"items",class:[t.checkIds[0]&&t.checkIds[0].id===e.id?"active":""],on:{click:function(a){t.setCheckItem(e,s,0)}}},[t._v(t._s(e.cateName))])}),0)]),t._v(" "),t.items1.length>0?a("section",{staticClass:"step-class-group"},[a("div",{staticClass:"class-group-header"},[t._v("\n         请选择分类\n       ")]),t._v(" "),a("ul",{staticClass:"class-group-body"},t._l(t.items1,function(e,s){return a("li",{key:e.id,staticClass:"items",class:t.checkIds[1]&&t.checkIds[1].id===e.id?"active":"",on:{click:function(a){t.setCheckItem(e,s,1)}}},[t._v(t._s(e.cateName))])}),0)]):t._e(),t._v(" "),t.items2.length>0?a("section",{staticClass:"step-class-group"},[a("div",{staticClass:"class-group-header"},[t._v("\n         请选择分类\n       ")]),t._v(" "),a("ul",{staticClass:"class-group-body"},t._l(t.items2,function(e,s){return a("li",{key:e.id,staticClass:"items",class:t.checkIds[2]&&t.checkIds[2].id===e.id?"active":"",on:{click:function(a){t.setCheckItem(e,s,2)}}},[t._v(t._s(e.cateName))])}),0)]):t._e(),t._v(" "),t.items3.length>0?a("section",{staticClass:"step-class-group"},[a("div",{staticClass:"class-group-header"},[t._v("\n         请选择分类\n       ")]),t._v(" "),a("ul",{staticClass:"class-group-body"},t._l(t.items3,function(e,s){return a("li",{key:e.id,staticClass:"items",class:t.checkIds[3]&&t.checkIds[3].id===e.id?"active":"",on:{click:function(a){t.setCheckItem(e,s,3)}}},[t._v(t._s(e.cateName))])}),0)]):t._e()]),t._v(" "),a("div",{staticStyle:{"text-align":"center",padding:"15px 0"}},[a("cms-button",{attrs:{disabled:0===t.categoryId},on:{click:t.nextStep}},[t._v("下一步，填写商品信息")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"commonly-class"},[e("label",{staticClass:"commonly-class-label"},[this._v("常用分类")])])}]};var i=a("C7Lr")(r,o,!1,function(t){a("mLXA")},null,null).exports,c=a("aA9S"),l=a.n(c),n=a("AsmT"),d=a("NyU8"),u={product:{storeId:"",storeCategoryId:"",categoryId:"",name:"",virtualCardTplId:"",itemNumber:"",brandId:1,summary:"",summaryColor:"#ff0000",templeteId:1,weight:"",volume:"",sellGoodsSale:!0,isInvoice:!0,status:3},productTypeId:"",storeCategoryIds:[],imageResources:[{remark:"",imgResourceId:"",url:""}],videoResources:[{remark:"",vdResourceId:"",url:""}],txt:{pcTxt:"pc端内容",mobileTxt:"移动端内容"},ext:{maxDeductible:0,unit:"件",keyword:"",evaluation:"",storeServiceId:""}},m={coreModel:{salePrice:"",marketPrice:0,costPrice:0,inventory:0,warningValue:0,hasSku:!1},skuTypeAttrs:[],skus:[],proTypeAttrs:[]},p=[],v={data:function(){return{btnStatus:this.$route.query.status,dialogVisible:!1,dialogVisible2:!1,loading:!0,status:!1,fixed:!0,txtModel:"pc",storeItems:[],roleList:["超级管理员","运营"],options:[],props:{value:"id",label:"cateName",children:"childs",disabled:"isAuth"},formData:l()({},u),formData2:l()({},m),categoryName:"",isVirtual:!1,errorMessage:{},popoverVisible:!1,popoverForm:{name:"",attrValues:""},storeId:0,productTypeId:0,loadingTitle:"正在保存,请勿进行其他操作",defaultData:{},batch:{salesPrice:"",costPrice:"",inventory:"",marketPrice:"",warning:""},customStandardValue:{},customAttributeValue:{},checkSaleStandardIds:[],standardImageUrls:{},properties:[],attributes:[],saleStandardInfos:[],productStandardInfos:[],skus:[],attributeGroups:{},form:{code:"",name:"",data:"",id:""},form2:{status:!0,code:"",name:"",data:"",id:""}}},methods:{showDialog:function(){this.form.data="",this.form.code=this.formData.product.itemCode,this.form.name=this.formData.product.name,this.form.id=[this.formData.product.id],this.dialogVisible=!0},showDialogDis:function(){this.form2.code=this.formData.product.itemCode,this.form2.name=this.formData.product.name,this.form2.id=[this.formData.product.id],this.dialogVisible2=!0},productReviewReject:function(){var t=this;Object(d.m)({ids:this.form.id,data:this.form.data}).then(function(e){t.dialogVisible2=!1,200===e.code?(t.$successMessage("操作成功"),t.$routerLink("/productMange/list")):t.$errorMessage("操作失败")})},productReview:function(){var t=this,e=this.formData.product.id;this.$confirm("是否确定通过审核该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(d.l)({ids:[e]}).then(function(e){200===e.code?(t.$successMessage("审核成功"),t.$routerLink("/productMange/list")):t.$errorMessage("审核失败,"+e.message)})}).catch(function(){})},reStoreProduct:function(){var t=this,e=this.formData.product.id;this.$confirm("是否确认还原商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(d.k)({ids:[e]}).then(function(e){200===e.code?(t.$successMessage("恢复成功"),t.$routerLink("/productMange/list")):t.$errorMessage("恢复失败,"+e.message)})}).catch(function(){})},productReviewPass:function(){var t=this,e=this.formData.product.id;this.$confirm("是否确定重新上架该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(d.l)({ids:[e]}).then(function(e){200===e.code?(t.$successMessage("上架成功"),t.$routerLink("/productMange/list")):t.$errorMessage("上架失败,"+e.message)})}).catch(function(){})},productOffShelve:function(){var t=this;Object(d.h)({ids:this.form.id,data:this.form.data}).then(function(e){t.dialogVisible=!1,200===e.code?(t.$successMessage("操作成功"),t.$routerLink("/productMange/list")):t.$errorMessage("操作失败")})},initData:function(){var t=this;this.loading=!0,Object(d.g)({id:this.$route.query.productId}).then(function(e){t.formData.product=e.data.product,t.formData.txt=e.data.txt,t.formData.ext=e.data.ext,t.setStoreData(e.data),t.getProductTypeId(t.formData.product.category.id),t.getStroeCategory(e.data.product.storeId);var a=t.$cms.deepCopy(t.formData);a.product.storeCategoryId=a.storeCategoryIds[a.storeCategoryIds.length-1],t.$store.dispatch("setBaseProductInfo",a).then(function(e){t.initData2()})})},initData2:function(){var t=this.$store.state.product.productInfo;this.storeId=this.$store.state.product.storeId,this.productTypeId=this.$store.state.product.productTypeId,this.formData2.coreModel=t.coreModel,this.saleStandardInfos=t.proTypeAttrItems.saleAttrs,this.productStandardInfos=t.proTypeAttrItems.nsaleAttrs,this.attributes=t.proAttrs,this.properties=t.skuTypeAttrs,this.setDefaultProperties(),this.setDefaultAttributes(t.proAttrs),this.defaultData=t},setDefaultProperties:function(){var t=this;this.properties.forEach(function(e){e.attrValueList.forEach(function(e){t.checkSaleStandardIds.push(e.attrCode),t.standardImageUrls[e.attrCode]=e.url})})},setDefaultAttributes:function(t){var e={};return t.forEach(function(t){3===t.attrValueType?e[t.proTypeAttrId+"s"]=t.attrVc.split(","):e[t.proTypeAttrId+"s"]=t.attrVc}),this.attributeGroups=e,e},getStroeCategory:function(t){var e=this;Object(n.s)({storeId:t}).then(function(t){e.options=[];e.options=[{id:0,cateName:"顶级分类"}].concat(t.data)})},setStoreData:function(t){var e=this.$cms.deepCopy(t),a=[],s=[{remark:"",vdResourceId:"",url:""}];return this.formData.storeCategoryIds=e.product.storeProductCategory?e.product.storeProductCategory.nodeIds:[0],e.resources.forEach(function(t){if(t.videoResource&&""!==t.videoResource.id){var e={remark:"",alias:t.videoResource.alias,vdResourceId:t.videoResource.id,url:t.videoResource.url};s[0]=e}else if(t.imageResouce&&""!==t.imageResouce.id){var r={remark:"",imgResourceId:t.imageResouce.id,url:t.imageResouce.url};a.push(r)}}),this.formData.product.categoryId=this.formData.product.category.id,e.product.categoryId=e.product.category.id,this.getCategoryName(e.product.category),this.formData.imageResources=l()(this.formData.imageResources,a),e.imageResources=l()(this.formData.imageResources,a),this.formData.videoResources=s,e.videoResources=s,e.product.brand&&""!==e.product.brand.id?(this.formData.product.brandId=e.product.brand.id,e.product.brandId=e.product.brand.id):(this.formData.product.brandId="",e.product.brandId=""),e.skuTypeAttrs=this.createSkuTypeAttrs(e.proTypeAttrs.saleAttrs,e.skuTypeAttrs),e.skus=this.createSku(e.skus),e.proTypeAttrItems=e.proTypeAttrs,e.proTypeAttrs=e.proAttrs,delete e.product.category,delete e.product.brand,this.$store.dispatch("setProductInfo",e),this.status=!0,e},createSku:function(t){var e=[];return t.forEach(function(t,a){e.push(t),e[a].attrCodes=t.saleAttrCode.split("-")}),e},createSkuTypeAttrs:function(t,e){var a=[];return t.map(function(t){a.push({valueType:t.valueType,attrGroupName:t.attrGroupName,name:t.name,id:t.id,attrValueList:[]})}),e.forEach(function(t,e){a.forEach(function(e,a){if(t.productTypeAttr.id===e.id){var s={url:t.resourceData?t.resourceData.url:"",valueResourceId:t.resourceData?t.resourceData.id:"",attrCode:t.attrValueCode,attrValue:t.attrValueName};e.attrValueList.push(s)}})}),a},getCategoryName:function(t){var e=this;(p.push(t.cateName),t.parent)?this.getCategoryName(t.parent):p.reverse().forEach(function(t,a){e.categoryName=0===a?t:e.categoryName+" > "+t})},getProductTypeId:function(t){var e=this;Object(s.c)({id:t}).then(function(t){e.loading=!1,200===t.code?(e.formData.productTypeId=t.data.productTypeId,e.isVirtual=t.data.virtual):e.$errorMessage(t.message)})}},activated:function(){p=[],this.$route.query.productId&&0!==this.$route.query.productId&&this.initData()},mounted:function(){var t=this;document.querySelector("#layout").addEventListener("scroll",function(e){var a=e.target.scrollTop,s=e.target.clientHeight,r=e.target.scrollHeight;!1===t.fixed&&(a+=70),parseInt(a)>r-s-70?t.fixed=!1:t.fixed=!0})}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:t.loading,expression:"loading",modifiers:{fullscreen:!0}}],staticClass:"cms-form-layout loading-top product-main-warpper",attrs:{"element-loading-text":"正在加载..."}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"210px"}},[a("h3",{staticClass:"cms-segmentation"},[t._v("基本信息")]),t._v(" "),a("el-form-item",{attrs:{label:"商品分类",prop:"product.categoryId"}},[t._v("\n      "+t._s(t.categoryName)+"\n    ")]),t._v(" "),a("el-form-item",{attrs:{label:"店铺"}},[t.formData.product.store?a("span",[t._v(t._s(t.formData.product.store.storeName))]):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"店铺分类"}},[a("span",[t._v(t._s(0===t.formData.storeCategoryIds[0]?"顶级分类":t.formData.storeCategoryIds))])]),t._v(" "),a("el-form-item",{attrs:{label:"商品名称"}},[t.formData.product?a("span",[t._v(t._s(t.formData.product.name))]):t._e(),t._v(" "),a("span",{staticClass:"gray"},[t._v("商品名称长度控制在100个字符以内")])]),t._v(" "),a("el-form-item",{attrs:{label:"货号"}},[a("span",[t._v(t._s(t.formData.product.itemNumber?t.formData.product.itemNumber:"暂无"))])]),t._v(" "),a("el-form-item",{attrs:{label:"品牌"}},[a("span",[t._v(t._s(t.formData.product.brand?t.formData.product.brand.name:"暂无"))])]),t._v(" "),a("el-form-item",{attrs:{label:"商品简介"}},[a("p",[t._v(t._s(t.formData.product.summary))]),t._v(t._s(t.formData.product.summaryColor)+"\n    ")]),t._v(" "),a("el-form-item",{attrs:{label:"运费模板",prop:"product.templeteId"}},[a("div",[a("table",{staticClass:"sku-table",staticStyle:{width:"380px","margin-top":"10px"}},[a("tr",[a("th",[t._v("运送方式")]),t._v(" "),a("th",[t._v("运送到")]),t._v(" "),a("th",[t._v("首件(个)")]),t._v(" "),a("th",[t._v("运费")]),t._v(" "),a("th",[t._v("续建(个)")]),t._v(" "),a("th",[t._v("续费")])]),t._v(" "),a("tr",[a("td",[t._v("快递")]),t._v(" "),a("td",[t._v("全国")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("8")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("5")])])])])]),t._v(" "),a("el-form-item",{attrs:{label:"体积"}},[a("span",[t._v(t._s(t.formData.product.volume))]),t._v("立方米\n    ")]),t._v(" "),a("el-form-item",{attrs:{label:"重量"}},[a("span",[t._v(t._s(t.formData.product.weight))]),t._v("kg\n    ")]),t._v(" "),a("h3",{staticClass:"cms-segmentation"},[t._v("商品相册")]),t._v(" "),a("el-form-item",{ref:"imageResources",staticClass:"imageResource",attrs:{label:"商品相册",prop:"imageResources",error:t.errorMessage.imageResources}},[a("div",{staticClass:"clearfix"},t._l(t.formData.imageResources,function(e,s){return a("div",{key:s,staticClass:"product-img-box",attrs:{preview:!1,index:s}},[a("div",{staticClass:"product-img-warpper"},[t.formData.imageResources[s]&&""!==t.formData.imageResources[s].url?a("img",{attrs:{src:t.$cms.filterUrl(t.formData.imageResources[s].url)}}):a("span",{staticClass:"img-plus el-icon-plus"})])])}),0),t._v(" "),a("span",{staticClass:"gray",staticStyle:{"max-width":"490px"}},[t._v("\n        用于显示在商品详情页介绍图，最多可支持7张，第一张默认为商品主图用于显示商品列表\n      ")])]),t._v(" "),a("el-form-item",{attrs:{label:"顶部版式",prop:"roleName"}},[a("span",[t._v(t._s(t.formData.txt.topTplId?t.formData.txt.topTplId:"未设置"))]),t._v(" "),a("span",{staticClass:"gray"},[t._v("\n        选中的版式将插入至PC端商品详情最顶部\n      ")])]),t._v(" "),a("el-form-item",{attrs:{label:"底部版式",prop:"roleName"}},[a("span",[t._v(t._s(t.formData.txt.bottomTplId?t.formData.txt.bottomTplId:"未设置"))]),t._v(" "),a("span",{staticClass:"gray"},[t._v("\n        选中的版式将插入至PC端商品详情最底部\n      ")])]),t._v(" "),a("h3",{staticClass:"cms-segmentation"},[t._v("其他信息")]),t._v(" "),a("el-form-item",{attrs:{label:"商品单位"}},[a("span",[t._v(t._s(t.formData.ext.unit))])]),t._v(" "),a("el-form-item",{attrs:{label:"商品服务"}},[a("span",[t._v(t._s(t.formData.ext.storeServiceId?t.formData.ext.storeServiceId:"未选择"))])]),t._v(" "),a("el-form-item",{attrs:{label:"是否为销售商品出售"}},[a("el-switch",{attrs:{disabled:""},model:{value:t.formData.product.sellGoodsSale,callback:function(e){t.$set(t.formData.product,"sellGoodsSale",e)},expression:"formData.product.sellGoodsSale"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否为提供发票"}},[a("el-switch",{attrs:{disabled:""},model:{value:t.formData.product.isInvoice,callback:function(e){t.$set(t.formData.product,"isInvoice",e)},expression:"formData.product.isInvoice"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品关键词",prop:"ext.keyword"}},[a("span",[t._v(t._s(t.formData.ext.keyword))]),t._v(" "),a("span",{staticClass:"gray"},[t._v("设置检索关键词,用于商品搜索,最多支持5个")])]),t._v(" "),a("el-form-item",{attrs:{label:"评价标签",prop:"ext.evaluation"}},[a("span",[t._v(t._s(t.formData.ext.evaluationView?t.formData.ext.evaluationView:"暂无"))]),t._v(" "),a("span",{staticClass:"gray"},[t._v("买家评价商品时，可对商品选择对应标签进行评价，如性价比高，最多支持10个关键词\n      ")])])],1),t._v(" "),a("el-form",{attrs:{model:t.formData2,"label-width":"210px"}},[a("el-form-item",{attrs:{label:"售价"}},[a("span",[t._v(t._s(t.$cms.float(t.formData2.coreModel.salePrice)))]),t._v(" "),a("span",{staticClass:"gray"},[t._v("价格控制在0.01~99999999之间的数字，且不高于市场价，如商品设置SKU，此价格自动记录为最低SKU价格")])]),t._v(" "),a("el-form-item",{attrs:{label:"市场价"}},[a("span",[t._v(t._s(t.$cms.float(t.formData2.coreModel.marketPrice)))])]),t._v(" "),a("el-form-item",{attrs:{label:"成本价"}},[a("span",[t._v(t._s(t.$cms.float(t.formData2.coreModel.costPrice)))])]),t._v(" "),a("el-form-item",{attrs:{label:"库存量"}},[a("span",[t._v(t._s(t.formData2.coreModel.inventory))]),t._v(" "),a("span",{staticClass:"gray"},[t._v("库存量控制在1~99999999之间的整数，如商品设置SKU，库存量自动计算为所有SKU库存总和 ")])]),t._v(" "),a("el-form-item",{attrs:{label:"库存预警值"}},[a("span",[t._v(t._s(t.formData2.coreModel.warningValue))]),t._v(" "),a("span",{staticClass:"gray"},[t._v("库存预警值必须少于库存量，如商品设置SKU，预警值自动计算为所有 SKU设定的预警值总和\n      ")])]),t._v(" "),t.formData2.coreModel.hasSku?a("el-form-item",{attrs:{label:"商品规格"}},[t.formData2.coreModel.hasSku?a("el-checkbox-group",{attrs:{disabled:""},model:{value:t.checkSaleStandardIds,callback:function(e){t.checkSaleStandardIds=e},expression:"checkSaleStandardIds"}},t._l(t.saleStandardInfos,function(e,s){return a("section",{key:e.id,staticClass:"standard-group"},[a("div",{staticClass:"standard-group-header"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"standard-group-name"},[t._v(t._s(e.name))]),t._v(" "),4==e.valueType?a("span",{staticClass:"standard-group-desc"},[t._v("( 该规格需要上传图片 )")]):t._e()])]),t._v(" "),a("div",{staticClass:"standard-group-body"},[4===e.valueType?a("ul",{staticClass:"clearfix"},t._l(e.attrValueSet,function(e,r){return a("li",{key:e.attrCode,staticClass:"type-img-items"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.checkSaleStandardIds.indexOf(e.attrCode)>-1,expression:"checkSaleStandardIds.indexOf(item.attrCode) >-1"}],staticClass:"product-img-box",attrs:{preview:!1,index:r,params:{parentIndex:s,attrCode:e.attrCode}}},[a("div",{staticClass:"product-img-warpper"},[t.standardImageUrls[e.attrCode]&&""!==t.standardImageUrls[e.attrCode]?a("img",{attrs:{src:t.$cms.filterUrl(t.standardImageUrls[e.attrCode]),alt:""}}):a("span",{staticClass:"img-plus el-icon-plus"})])]),t._v(" "),a("div",{staticClass:"img-txt"},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.checkSaleStandardIds.indexOf(e.attrCode)>-1,expression:"checkSaleStandardIds.indexOf(item.attrCode) >-1"}],staticClass:"check-box",attrs:{disabled:"",label:e.attrCode}},[a("span",{staticClass:"type-value"},[t._v(t._s(e.attrValue))])])],1)])}),0):a("ul",{staticClass:"clearfix"},t._l(e.attrValueSet,function(e){return a("li",{key:e.attrCode,staticClass:"type-checkbox-items"},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.checkSaleStandardIds.indexOf(e.attrCode)>-1,expression:"checkSaleStandardIds.indexOf(item.attrCode) >-1"}],attrs:{disabled:"",label:e.attrCode}},[a("span",{staticClass:"type-value"},[t._v(t._s(e.attrValue))])])],1)}),0)])])}),0):t._e()],1):t._e(),t._v(" "),t.formData2.coreModel.hasSku&&t.skus.length>0?a("el-form-item",{attrs:{label:"sku信息",prop:"name"}},[a("table",{staticClass:"sku-table"},[a("tr",[t._l(t.properties,function(e,s){return a("th",{key:s,attrs:{rowspan:"2"}},[t._v("\n            "+t._s(e.name)+"\n          ")])}),t._v(" "),a("th",[t._v("售价")]),t._v(" "),a("th",[t._v("市场价")]),t._v(" "),a("th",[t._v("成本价")]),t._v(" "),a("th",[t._v("库存")]),t._v(" "),a("th",[t._v("预警值")])],2),t._v(" "),a("tr",[a("td",[a("span",[t._v(t._s(t.batch.salesPrice))])]),t._v(" "),a("td",[a("span",[t._v(t._s(t.batch.marketPrice))])]),t._v(" "),a("td",[a("span",[t._v(t._s(t.batch.costPrice))])]),t._v(" "),a("td",[a("span",[t._v(t._s(t.batch.inventory))])]),t._v(" "),a("td",[a("span",[t._v(t._s(t.batch.warning))])])]),t._v(" "),t._l(t.skus,function(e,s){return a("tr",{key:s},[t._l(e.name,function(e,s){return a("td",{key:s,staticClass:"min-w-90"},[t._v("\n            "+t._s(e)+"\n          ")])}),t._v(" "),a("td",[a("span",[t._v(t._s(e.salesPrice))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.marketPrice))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.costPrice))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.inventory))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.warning))])])],2)})],2),t._v(" "),a("span",{staticClass:"gray"},[t._v("注：商品实际销售SKU不存在的组合，可删除，系统将默认保存为空")])]):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"商品属性",prop:"name"}},t._l(t.productStandardInfos,function(e,s){return a("section",{key:s,staticClass:"standard-group"},[a("div",{staticClass:"standard-group-header"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"standard-group-name"},[t._v(t._s(e.attrGroupName))])])]),t._v(" "),a("div",{staticClass:"standard-group-body",staticStyle:{padding:"20px"}},t._l(e.attrs,function(e,s){return a("div",{key:s,staticClass:"clearfix",class:[1==e.valueType?"w-50":"w-100"]},[a("label",{staticClass:"fl  attribute-name"},[t._v(t._s(e.name))]),t._v(" "),3===e.valueType&&e.attrValueSet.length>0?a("ul",{staticClass:"fl"},[a("el-checkbox-group",{attrs:{disabled:""},model:{value:t.attributeGroups[e.id+"s"],callback:function(a){t.$set(t.attributeGroups,e.id+"s",a)},expression:"attributeGroups[standard.id+'s']"}},t._l(e.attrValueSet,function(s){return a("li",{key:s.id,staticClass:"type-checkbox-items"},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.attributeGroups[e.id+"s"]===s.attrValue,expression:"attributeGroups[standard.id+'s'] === item.attrValue"}],attrs:{disabled:"",label:s.attrCode}},[a("span",{staticClass:"type-value"},[t._v(t._s(s.attrValue))])])],1)}),0)],1):t._e(),t._v(" "),2===e.valueType&&e.attrValueSet.length>0?a("ul",{staticClass:"fl"},[a("el-radio-group",{attrs:{disabled:""},model:{value:t.attributeGroups[e.id+"s"],callback:function(a){t.$set(t.attributeGroups,e.id+"s",a)},expression:"attributeGroups[standard.id+'s']"}},t._l(e.attrValueSet,function(s){return a("li",{key:s.id,staticClass:"type-radio-items"},[a("el-radio",{directives:[{name:"show",rawName:"v-show",value:t.attributeGroups[e.id+"s"]===s.attrValue,expression:"attributeGroups[standard.id+'s'] === item.attrValue"}],attrs:{label:s.attrCode}},[a("span",{staticClass:"type-value"},[t._v(t._s(s.attrValue))])])],1)}),0)],1):t._e(),t._v(" "),1===e.valueType?a("ul",t._l(e.attrValueSet,function(s){return a("li",{key:s.id,staticClass:"type-radio-items"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.attributeGroups[e.id+"s"]===s.attrValue,expression:"attributeGroups[standard.id+'s'] === item.attrValue"}],staticClass:"type-value"},[t._v(t._s(s.attrValue))])])}),0):t._e()])}),0)])}),0),t._v(" "),a("h3",{staticClass:"cms-segmentation"},[t._v("详细信息")]),t._v(" "),a("el-form-item",{attrs:{label:"pc"===t.txtModel?"PC端":"移动端"}},[a("span")]),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"pc"==t.txtModel,expression:"txtModel=='pc'"}],attrs:{label:"商品详情"}},[a("p",{domProps:{innerHTML:t._s(t.formData.txt.pcTxt)}})]),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"mobile"==t.txtModel,expression:"txtModel=='mobile'"}],attrs:{label:"商品详情"}},[a("p",{domProps:{innerHTML:t._s(t.formData.txt.mobileTxt)}})])],1),t._v(" "),a("el-dialog",{attrs:{title:"商品下架",top:"35vh",visible:t.dialogVisible,width:"580px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"dialog-form"},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"SPU编号","label-width":"120px"}},[a("span",{staticClass:"dialog-info"},[t._v(t._s(t.form.code))])]),t._v(" "),a("el-form-item",{attrs:{label:"商品名称","label-width":"120px"}},[a("span",{staticClass:"dialog-info"},[t._v(" "+t._s(t.form.name)+" ")])]),t._v(" "),a("el-form-item",{attrs:{label:"下架说明","label-width":"120px"}},[a("el-input",{attrs:{maxlength:"150",type:"textarea",rows:4,placeholder:"请输入最多150字的下架说明"},model:{value:t.form.data,callback:function(e){t.$set(t.form,"data",e)},expression:"form.data"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.productOffShelve}},[t._v("确认")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},nativeOn:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"商品审核",top:"35vh",visible:t.dialogVisible2,width:"580px"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("div",{staticClass:"dialog-form"},[a("el-form",{attrs:{model:t.form2}},[a("el-form-item",{attrs:{label:"SPU编号","label-width":"120px"}},[a("span",{staticClass:"dialog-info"},[t._v(t._s(t.form2.code))])]),t._v(" "),a("el-form-item",{attrs:{label:"商品名称","label-width":"120px"}},[a("span",{staticClass:"dialog-info"},[t._v(" "+t._s(t.form2.name)+" ")])]),t._v(" "),a("el-form-item",{attrs:{label:"审核说明","label-width":"120px"}},[a("el-input",{attrs:{maxlength:"150",type:"textarea",rows:4,placeholder:"请输入最多150字的审核说明"},model:{value:t.form2.data,callback:function(e){t.$set(t.form2,"data",e)},expression:"form2.data"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.productReviewReject}},[t._v("确认")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},nativeOn:{click:function(e){t.dialogVisible2=!1}}},[t._v("取消")])],1)]),t._v(" "),a("div",{staticClass:"product-footer",class:[t.fixed?"fixed-footer":""]},[3==t.btnStatus?a("cms-button",{attrs:{icon:"down",size:"small",type:"info"},on:{click:function(e){e.stopPropagation(),t.showDialog()}}},[t._v("下架")]):t._e(),t._v(" "),1==t.btnStatus||2==t.btnStatus?a("cms-button",{attrs:{icon:"up",size:"small",type:"info"},on:{click:function(e){e.stopPropagation(),t.productReviewPass()}}},[t._v("上架")]):t._e(),t._v(" "),a("el-popover",{attrs:{width:"130",trigger:"hover","visible-arrow":!1,offset:45,"popper-class":"table-popover"}},[4==t.btnStatus?a("cms-button",{attrs:{slot:"reference",type:"info",size:"small",icon:"lock"},slot:"reference"},[t._v("审核")]):t._e(),t._v(" "),a("cms-button",{attrs:{type:"info",size:"small",icon:"success"},on:{click:function(e){e.stopPropagation(),t.productReview()}}},[t._v("审核通过")]),t._v(" "),a("cms-button",{attrs:{type:"info",size:"small",icon:"warning"},on:{click:function(e){e.stopPropagation(),t.showDialogDis()}}},[t._v("审核不通过")])],1),t._v(" "),5==t.btnStatus?a("cms-button",{attrs:{icon:"down",size:"small",type:"info"},on:{click:function(e){e.stopPropagation(),t.reStoreProduct()}}},[t._v("还原")]):t._e()],1)],1)},staticRenderFns:[]};var _={components:{step1:i,step2:a("C7Lr")(v,f,!1,function(t){a("Ee4i")},"data-v-f57aae84",null).exports},data:function(){return{}},computed:{currentView:function(){return this.$store.state.product.step}},methods:{setStep:function(t){this.$store.dispatch("setStep",t)}},activated:function(){"update"===this.$route.query.type&&this.$store.dispatch("setStep","step2")}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("cms-breadcrumb",{staticClass:"pos-breadcrumb",attrs:{to:"/productMange/list",type:"list"}},[e("li",[this._v(this._s(this.$route.name))])]),this._v(" "),e("div",{staticClass:"main-layout"},[e("div",{staticClass:"fixed-bar"},[e("cms-prompt",{staticClass:"pos-prompt",attrs:{collapse:"false"}},[e("li",[this._v("查看商品信息 ")])])],1),this._v(" "),e("div",{staticClass:"product-layout",attrs:{id:"productLayout"}},[e("keep-alive",[e(this.currentView,{tag:"component"})],1)],1)])],1)},staticRenderFns:[]};var g=a("C7Lr")(_,h,!1,function(t){a("4uqa")},"data-v-3ed7b9bc",null);e.default=g.exports},mLXA:function(t,e){}});
//# sourceMappingURL=35.706140196233a7aaeffc.js.map