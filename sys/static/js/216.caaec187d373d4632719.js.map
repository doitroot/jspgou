{"version":3,"sources":["webpack:///src/views/shop/product/type/edit.vue","webpack:///./src/views/shop/product/type/edit.vue?a1ca","webpack:///./src/views/shop/product/type/edit.vue"],"names":["edit","mixins","mixins_form","data","status","formData","saveRules","name","rules","required","len","methods","getFormData","id","_this","this","loading","Object","type","then","res","code","groupName","replace","$errorMessage","message","getBrand","items","brandIds","map","v","update","params","productType","custom","updateForm","reset","destroyed","$route","query","$refs","form","resetFields","created","type_edit","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","attrs","to","on","click","rest","_v","_s","staticClass","collapse","ref","model","label-width","nativeOn","submit","$event","preventDefault","label","prop","error","errorMessage","callback","$$v","$set","multiple","select","brandList","max","size","_e","rows","maxlength","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/216.caaec187d373d4632719.js","sourcesContent":["<template>\n  <div v-loading='loading'>\n    <cms-breadcrumb to=\"/productType/list\"  @click=\"rest\" type='list'>\n      <li>{{$route.name}}</li>\n    </cms-breadcrumb>\n    <div class=\"cms-form-layout\">\n      <cms-prompt collapse='true'>\n        <li>带 * 为必填项</li>\n      </cms-prompt>\n      <el-form ref=\"form\" :rules=\"saveRules\" :model=\"formData\" label-width=\"210px\" @submit.native.prevent>\n        <el-form-item label=\"商品类型名称:\" prop=\"name\" :error='errorMessage.name'>\n          <el-input v-model=\"formData.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"管理品牌:\" prop=\"brandIds\" :error='errorMessage.brandIds'>\n          <cms-brand  multiple :select='formData.brandList'  v-model=\"formData.brandIds\" v-if=\"status\" :max=\"8\">\n            <el-button size='mini' type=\"primary\">选择品牌</el-button>\n           </cms-brand>\n         <div class=\"gray\">品牌推荐将显示在商城导航侧栏右侧，为保证商城布局正常显示，推荐最多选择8个</div>\n        </el-form-item>\n         <el-form-item label=\"是否允许自定义:\" prop=\"custom\" :error=\"errorMessage.custom\">\n          <cms-switch  v-model=\"formData.custom\"></cms-switch>\n          <div class=\"gray\">选择“是”，在商家选择添加对应商品类型商品时，可自定义添加属性</div>\n        </el-form-item>\n         <el-form-item label=\"属性分组:\" prop=\"groupName\">\n              <el-input v-model=\"formData.groupName\" type=\"textarea\" :rows=\"6\" maxlength=\"200\"></el-input>\n              <div class=\"gray\">多个请换行填写，显示先后顺序即填写先后顺序</div>\n         </el-form-item>\n      </el-form>\n      <div class=\"cms-form-footer\">\n        <cms-button  @click=\"update(false)\" v-color >修改</cms-button>\n        <cms-button type='rest' @click=\"reset\">重置</cms-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport rules from '@/rules'\nimport form from '@/mixins/form.js'\nimport {\n  productTypeGet,\n  productTypeUpdate\n} from '@/api/product/type.js'\nexport default {\n  mixins: [form],\n  data() {\n    return {\n      status: true,\n      formData: {},\n      saveRules: {// 新增规则\n        name: [rules.required('商品类型名称'), rules.len(1, 150)]\n      }\n    }\n  },\n  methods: {\n    getFormData(id) { // 通过id获取表单信息\n      this.loading = true\n      productTypeGet({ id: id }).then(res => {\n        if (res.code === 200) {\n          this.formData = res.data\n          this.formData.groupName = res.data.groupName.replace(/,/g, '\\n')// 后台从逗号换成换行\n          this.loading = false\n        } else {\n          this.$errorMessage(res.message)\n        }\n      })\n    },\n    getBrand(items) { // 得到品牌相关\n      this.formData.brandIds = items.map(v => v.id)\n    },\n    update() { // 添加\n      const params = {\n        productType: {\n          id: this.formData.id,\n          name: this.formData.name,\n          custom: this.formData.custom,\n          groupName: this.formData.groupName\n        },\n        brandIds: this.formData.brandIds\n      }\n      this.updateForm(productTypeUpdate, params, '/productType/list', 'list')\n    },\n    reset() { // 重置\n      this.destroyed()\n      this.getFormData(this.$route.query.id)\n      this.$refs.form.resetFields()\n    }\n  },\n  created() {\n    this.getFormData(this.$route.query.id)\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/shop/product/type/edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('cms-breadcrumb',{attrs:{\"to\":\"/productType/list\",\"type\":\"list\"},on:{\"click\":_vm.rest}},[_c('li',[_vm._v(_vm._s(_vm.$route.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-layout\"},[_c('cms-prompt',{attrs:{\"collapse\":\"true\"}},[_c('li',[_vm._v(\"带 * 为必填项\")])]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.saveRules,\"model\":_vm.formData,\"label-width\":\"210px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"商品类型名称:\",\"prop\":\"name\",\"error\":_vm.errorMessage.name}},[_c('el-input',{model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"管理品牌:\",\"prop\":\"brandIds\",\"error\":_vm.errorMessage.brandIds}},[(_vm.status)?_c('cms-brand',{attrs:{\"multiple\":\"\",\"select\":_vm.formData.brandList,\"max\":8},model:{value:(_vm.formData.brandIds),callback:function ($$v) {_vm.$set(_vm.formData, \"brandIds\", $$v)},expression:\"formData.brandIds\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"}},[_vm._v(\"选择品牌\")])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"品牌推荐将显示在商城导航侧栏右侧，为保证商城布局正常显示，推荐最多选择8个\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否允许自定义:\",\"prop\":\"custom\",\"error\":_vm.errorMessage.custom}},[_c('cms-switch',{model:{value:(_vm.formData.custom),callback:function ($$v) {_vm.$set(_vm.formData, \"custom\", $$v)},expression:\"formData.custom\"}}),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"选择“是”，在商家选择添加对应商品类型商品时，可自定义添加属性\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"属性分组:\",\"prop\":\"groupName\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":6,\"maxlength\":\"200\"},model:{value:(_vm.formData.groupName),callback:function ($$v) {_vm.$set(_vm.formData, \"groupName\", $$v)},expression:\"formData.groupName\"}}),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"多个请换行填写，显示先后顺序即填写先后顺序\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-footer\"},[_c('cms-button',{directives:[{name:\"color\",rawName:\"v-color\"}],on:{\"click\":function($event){_vm.update(false)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('cms-button',{attrs:{\"type\":\"rest\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-21d7bf51\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/shop/product/type/edit.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21d7bf51\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/shop/product/type/edit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}