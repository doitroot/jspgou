{"version":3,"sources":["webpack:///src/views/wechat/public/programCodeAdmin/draft.vue","webpack:///./src/views/wechat/public/programCodeAdmin/draft.vue?73e3","webpack:///./src/views/wechat/public/programCodeAdmin/draft.vue","webpack:///src/views/wechat/public/programCodeAdmin/templateBase.vue","webpack:///./src/views/wechat/public/programCodeAdmin/templateBase.vue?5b1c","webpack:///./src/views/wechat/public/programCodeAdmin/templateBase.vue","webpack:///src/views/wechat/public/programCodeAdmin/index.vue","webpack:///./src/views/wechat/public/programCodeAdmin/index.vue?62e5","webpack:///./src/views/wechat/public/programCodeAdmin/index.vue"],"names":["draft","mixins","list","data","methods","Synchronous","_this","this","Object","miniProgram","then","res","code","$successMessage","getTableData","queryParams","$errorMessage","addTemplate","id","_this2","created","programCodeAdmin_draft","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","type","on","click","_v","directives","name","rawName","value","expression","ref","staticStyle","width","tableData","stripe","selection-change","getCheckItems","row-click","checkRows","prop","label","min-width","scopedSlots","_u","key","fn","scope","_s","$moment","row","submitTime","fixed","align","icon","$event","total","change","getPage","staticRenderFns","public_programCodeAdmin_draft","__webpack_require__","normalizeComponent","ssrContext","templateBase","deleteData","$confirm","confirmButtonText","cancelButtonText","catch","$message","message","updateTemplate","_this3","programCodeAdmin_templateBase","collapse","height","codeDesc","_e","isNew","stopPropagation","programCodeAdmin","components","templateBase_normalizeComponent","status","activeName","public_programCodeAdmin","padding-top","model","callback","$$v","lazy","programCodeAdmin_Component","programCodeAdmin_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/38.e664afe9b6b24ea11857.js","sourcesContent":["<template>\r\n    <div>\r\n      <div class=\"query-group\">\r\n       <el-button @click=\"Synchronous\" size=\"mini\" type=\"primary\">同步</el-button>\r\n      </div>\r\n    <el-table :data=\"tableData\" style=\"width: 100%\" stripe v-loading=\"loading\" @selection-change='getCheckItems' @row-click='checkRows' ref='dataTable'>\r\n      <el-table-column prop=\"draftId\" label=\"ID\" min-width='120'></el-table-column>\r\n      <el-table-column prop=\"codeVersion\" label=\"版本号\" min-width=\"140\"></el-table-column>\r\n      <el-table-column prop=\"codeDesc\" label=\"描述\" min-width=\"180\"></el-table-column>   \r\n      <el-table-column prop=\"submitTime\" label=\"最近提交时间\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{$moment(scope.row.submitTime)}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width='175' fixed=\"right\" align=\"center\">\r\n        <div slot-scope=\"scope\">\r\n          <cms-button  icon='edit' size='small' type='info' @click=\"addTemplate(scope.row.id)\">添加到模板库</cms-button>\r\n        </div>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cms-pagination @change=\"getPage\" :total='total'></cms-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport list from '@/mixins/list'\r\nimport { templateDraftPageDraft, templateDraftSynchronousDraft, templateDraftAddTemplate } from '@/api/wechat/miniProgram.js'\r\nexport default {\r\n  mixins: [list],\r\n  data() {\r\n    return {}\r\n  },\r\n  methods: {\r\n    Synchronous() {\r\n      templateDraftSynchronousDraft().then(res => {\r\n        if (res.code === 200) {\r\n          this.$successMessage('同步成功!')\r\n          this.getTableData(templateDraftPageDraft, this.queryParams)\r\n        } else {\r\n          this.$errorMessage('同步失败')\r\n        }\r\n      })\r\n    },\r\n    addTemplate(id) {\r\n      templateDraftAddTemplate({ id: id }).then(res => {\r\n        if (res.code === 200) {\r\n          this.$successMessage('添加模板成功')\r\n          this.getTableData(templateDraftPageDraft, this.queryParams)// 添加模板成功之后在重新加载草稿\r\n        } else {\r\n          this.$errorMessage('网络繁忙,请稍候稍后重试')\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.getTableData(templateDraftPageDraft, this.queryParams)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.query-group{\r\n  margin-bottom: 18px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/wechat/public/programCodeAdmin/draft.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"query-group\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.Synchronous}},[_vm._v(\"同步\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"dataTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"},on:{\"selection-change\":_vm.getCheckItems,\"row-click\":_vm.checkRows}},[_c('el-table-column',{attrs:{\"prop\":\"draftId\",\"label\":\"ID\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"codeVersion\",\"label\":\"版本号\",\"min-width\":\"140\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"codeDesc\",\"label\":\"描述\",\"min-width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"submitTime\",\"label\":\"最近提交时间\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.$moment(scope.row.submitTime)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"175\",\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_c('cms-button',{attrs:{\"icon\":\"edit\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){_vm.addTemplate(scope.row.id)}}},[_vm._v(\"添加到模板库\")])],1)}}])})],1),_vm._v(\" \"),_c('cms-pagination',{attrs:{\"total\":_vm.total},on:{\"change\":_vm.getPage}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-764ff1cc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/wechat/public/programCodeAdmin/draft.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-764ff1cc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./draft.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./draft.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./draft.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-764ff1cc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./draft.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-764ff1cc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/wechat/public/programCodeAdmin/draft.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"cms-list-layout\">\n    <cms-prompt collapse='true'>\n      <li>设置为最新版本为后续商家或平台运营小程序提交至微信审核的版本，推荐使用最新的版本号</li>\n      <li>版本库中版本默认可添加最多50份，默认版本仅允许设置一份</li>\n    </cms-prompt>\n    <div class=\"query-group\">\n      <el-button @click=\"Synchronous\" size=\"mini\" type=\"primary\">同步</el-button>\n    </div>\n    <el-table :data=\"tableData\" style=\"width: 100%\" stripe v-loading=\"loading\" @selection-change='getCheckItems' @row-click='checkRows' ref='dataTable'>\n      <el-table-column prop=\"id\" label=\"ID\" min-width='120'></el-table-column>\n      <el-table-column prop=\"codeVersion\" label=\"版本号\" min-width=\"160\">  </el-table-column>\n      <el-table-column prop=\"codeDesc\" label=\"描述\" min-width=\"220\" style=\"height:35px;\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.codeDesc}}</span>\n          <sup class=\"new__tag\" v-if=\"scope.row.isNew\">最新</sup>\n        </template></el-table-column>\n      <el-table-column prop=\"status\" label=\"添加时间\" min-width=\"220\">\n        <template slot-scope=\"scope\">\n          <span>{{$moment(scope.row.submitTime)}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width='235' fixed=\"right\" align=\"center\">\n        <div slot-scope=\"scope\" v-if=\"!scope.row.isNew\">\n          <cms-button  icon='icon-shezhi1' size='small' type='info'\n          @click.stop=\"updateTemplate(scope.row.id)\">设置为最新版本</cms-button>\n          <cms-button  icon='error' size='small' type='info' @click.stop=\"deleteData(scope.row.id)\">删除</cms-button>\n        </div>\n      </el-table-column>\n    </el-table>\n    <cms-pagination @change=\"getPage\" :total='total'></cms-pagination>\n  </div>\n</template>\n\n<script>\nimport list from '@/mixins/list'\nimport { templateDraftPageTemplate,\n  templateDraftSynchronousTemplate,\n  templateDraftUpdateTemplate,\n  templateDraftDeleteTemplate } from '@/api/wechat/miniProgram.js'\nexport default {\n  mixins: [list],\n  data() {\n    return {}\n  },\n  methods: {\n    deleteData(id) { // 删除模板\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        templateDraftDeleteTemplate({ id: id }).then(res => {\n          if (res.code === 200) {\n            this.$successMessage('删除模板成功!')\n            this.getTableData(templateDraftPageTemplate, this.queryParams)\n          } else {\n            this.$errorMessage('删除失败')\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    },\n    Synchronous() { // 同步按钮\n      templateDraftSynchronousTemplate().then(res => {\n        if (res.code === 200) {\n          this.$successMessage('同步成功!')\n          this.getTableData(templateDraftPageTemplate, this.queryParams)\n        } else {\n          this.$errorMessage('同步失败')\n        }\n      })\n    },\n    updateTemplate(id) { // 设置为最新版本\n      templateDraftUpdateTemplate({ id: id }).then(res => {\n        if (res.code === 200) {\n          this.$successMessage('设置成功!')\n          this.getTableData(templateDraftPageTemplate, this.queryParams)\n        } else {\n          this.$errorMessage('设置失败')\n        }\n      })\n    }\n  },\n  created() {\n    this.getTableData(templateDraftPageTemplate, this.queryParams)\n  }\n\n}\n</script>\n\n<style scoped>\n.query-group{\n  margin: 18px 0;\n}\n.new__tag{\n  display: inline-block;\n  width: 30px;\n  height: 20px;\n  line-height: 20px;\n  text-align: center;\n  font-size: 12px;\n  border: 1px solid #009900;\n  border-radius: 9px;\n  background-color:  #009900;\n  color: white;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/wechat/public/programCodeAdmin/templateBase.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cms-list-layout\"},[_c('cms-prompt',{attrs:{\"collapse\":\"true\"}},[_c('li',[_vm._v(\"设置为最新版本为后续商家或平台运营小程序提交至微信审核的版本，推荐使用最新的版本号\")]),_vm._v(\" \"),_c('li',[_vm._v(\"版本库中版本默认可添加最多50份，默认版本仅允许设置一份\")])]),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.Synchronous}},[_vm._v(\"同步\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"dataTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"},on:{\"selection-change\":_vm.getCheckItems,\"row-click\":_vm.checkRows}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"codeVersion\",\"label\":\"版本号\",\"min-width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{staticStyle:{\"height\":\"35px\"},attrs:{\"prop\":\"codeDesc\",\"label\":\"描述\",\"min-width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.codeDesc))]),_vm._v(\" \"),(scope.row.isNew)?_c('sup',{staticClass:\"new__tag\"},[_vm._v(\"最新\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"添加时间\",\"min-width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.$moment(scope.row.submitTime)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"235\",\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return (!scope.row.isNew)?_c('div',{},[_c('cms-button',{attrs:{\"icon\":\"icon-shezhi1\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){$event.stopPropagation();_vm.updateTemplate(scope.row.id)}}},[_vm._v(\"设置为最新版本\")]),_vm._v(\" \"),_c('cms-button',{attrs:{\"icon\":\"error\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){$event.stopPropagation();_vm.deleteData(scope.row.id)}}},[_vm._v(\"删除\")])],1):_vm._e()}}])})],1),_vm._v(\" \"),_c('cms-pagination',{attrs:{\"total\":_vm.total},on:{\"change\":_vm.getPage}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-439b482a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/wechat/public/programCodeAdmin/templateBase.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-439b482a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./templateBase.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./templateBase.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./templateBase.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-439b482a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./templateBase.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-439b482a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/wechat/public/programCodeAdmin/templateBase.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"cms-list-layout\" style=\"padding-top:6px\">\r\n    <el-tabs v-model=\"activeName\" v-if=\"status\" ref='codeTab'>\r\n      <el-tab-pane label=\"草稿箱\" name=\"first\">\r\n        <draft></draft>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"模板库\" name=\"second\" lazy>\r\n        <template-base></template-base>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport draft from './draft'\r\nimport templateBase from './templateBase'\r\nexport default {\r\n  name: 'codeTab',\r\n  components: {\r\n    draft,\r\n    templateBase\r\n  },\r\n  data() {\r\n    return {\r\n      status: true,\r\n      activeName: 'first'\r\n    }\r\n  },\r\n  methods: {}\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/wechat/public/programCodeAdmin/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cms-list-layout\",staticStyle:{\"padding-top\":\"6px\"}},[(_vm.status)?_c('el-tabs',{ref:\"codeTab\",model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"草稿箱\",\"name\":\"first\"}},[_c('draft')],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"模板库\",\"name\":\"second\",\"lazy\":\"\"}},[_c('template-base')],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-280f591d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/wechat/public/programCodeAdmin/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-280f591d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-280f591d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/wechat/public/programCodeAdmin/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}