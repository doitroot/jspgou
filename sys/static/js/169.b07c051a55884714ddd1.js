webpackJsonp([169],{"46K5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),s=a.n(r),n=a("5HJ5"),l=a("Dvzh"),i=a("UH+1"),u={page:1,size:5,refundNum:"",orderNum:"",applyTimeBegin:"",applyTimeEnd:"",refundType:" ",status:"",isPlatformIntervent:""},o={mixins:[n.a],components:{checkService:i.a},data:function(){return{timer:[],activeStatus:"",orderStatus:[{label:"退款单",value:"1"},{label:"退货单",value:"2"},{label:"换货单",value:"3"}],queryParams:s()({},u)}},filters:{statusFilter:function(e){return["待卖家确认","退款中","卖家拒绝","","待买家发货","待卖家收货","待买家收货","待卖家发货","已完成","买家取消"][parseInt(e)]},interventFilter:function(e){return e?"已介入":"未介入"}},methods:{exportOrder:function(){var e={orderRefundNum:this.queryParams.refundNum,orderCode:this.queryParams.orderNum,applyTimeBegin:this.queryParams.applyTimeBegin,applyTimeEnd:this.queryParams.applyTimeEnd,refundType:this.queryParams.refundType,status:this.queryParams.status,platformIntervent:this.queryParams.isPlatformIntervent};Object(l.g)(e).then(function(e){var t=new Blob([e]),a=document.createElement("a");a.download="退换货列表.xls",a.href=window.URL.createObjectURL(t),a.click()})},changeService:function(e){e&&this.query()},checkService:function(e,t){this.$refs.checkService.checkService(e,t)},changeOrderStatus:function(e){this.query()},setTimer:function(e){this.queryParams.applyTimeBegin=e[0],this.queryParams.applyTimeEnd=e[1],this.query()},showAttr:function(e){if(e.length<=0)return"";var t="";return e.forEach(function(e){var a=e.attrName+":"+e.attrValueName+"  ";t+=a}),t},statusClass:function(e){return["info","info","error","","info","info","info","info","success","info"][parseInt(e)]}},created:function(){this.getTableData(l.j,this.queryParams)}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cms-list-layout"},[a("cms-prompt",{attrs:{collapse:"true"}},[a("li",[e._v("显示商城所有用户申请的退/换货申请记录")]),e._v(" "),a("li",[e._v("退/换货可对单件单个商品进行申请售后操作")]),e._v(" "),a("li",[e._v("买家申请记录被商家驳回后，将自动进入平台介入步骤，平台可对信息进行审核")])]),e._v(" "),a("section",{staticClass:"cms-list-query"},[a("div",{staticClass:"query-group"},[a("label",[e._v("退/换货编号")]),e._v(" "),a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.query(t):null}},model:{value:e.queryParams.refundNum,callback:function(t){e.$set(e.queryParams,"refundNum",t)},expression:"queryParams.refundNum"}})],1),e._v(" "),a("div",{staticClass:"query-group"},[a("label",[e._v("订单号")]),e._v(" "),a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.query(t):null}},model:{value:e.queryParams.orderNum,callback:function(t){e.$set(e.queryParams,"orderNum",t)},expression:"queryParams.orderNum"}})],1),e._v(" "),a("div",{staticClass:"query-group"},[a("label",[e._v("申请时间")]),e._v(" "),a("cms-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:e.setTimer},model:{value:e.timer,callback:function(t){e.timer=t},expression:"timer"}})],1),e._v(" "),a("div",{staticClass:"query-group"},[a("label",[e._v("退/换货类型")]),e._v(" "),a("el-select",{on:{change:e.query},model:{value:e.queryParams.refundType,callback:function(t){e.$set(e.queryParams,"refundType",t)},expression:"queryParams.refundType"}},[a("el-option",{attrs:{label:"全部",value:" "}}),e._v(" "),e._l(e.orderStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2)],1),e._v(" "),a("div",{staticClass:"query-group"},[a("label",[e._v("退/换货状态")]),e._v(" "),a("el-select",{on:{change:e.query},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"待卖家确认",value:0}}),e._v(" "),a("el-option",{attrs:{label:"退款中",value:1}}),e._v(" "),a("el-option",{attrs:{label:"待买家发货",value:4}}),e._v(" "),a("el-option",{attrs:{label:"待卖家收货",value:5}}),e._v(" "),a("el-option",{attrs:{label:"待买家收货",value:6}}),e._v(" "),a("el-option",{attrs:{label:"待卖家发货",value:7}}),e._v(" "),a("el-option",{attrs:{label:"已完成",value:8}}),e._v(" "),a("el-option",{attrs:{label:"买家已取消",value:9}})],1)],1),e._v(" "),a("div",{staticClass:"query-group"},[a("label",[e._v("平台介入")]),e._v(" "),a("el-select",{on:{change:e.query},model:{value:e.queryParams.isPlatformIntervent,callback:function(t){e.$set(e.queryParams,"isPlatformIntervent",t)},expression:"queryParams.isPlatformIntervent"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"未介入",value:"false"}}),e._v(" "),a("el-option",{attrs:{label:"已介入",value:"true"}})],1)],1),e._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:e.query}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:e.exportOrder}},[a("i",{staticClass:"iconfont icon-Excel"}),e._v("\n        导出当前列表\n      ")])],1)]),e._v(" "),a("el-tabs",{on:{"tab-click":e.changeOrderStatus},model:{value:e.queryParams.refundType,callback:function(t){e.$set(e.queryParams,"refundType",t)},expression:"queryParams.refundType"}},[a("el-tab-pane",{attrs:{label:"全部",name:" "}}),e._v(" "),e._l(e.orderStatus,function(e){return a("el-tab-pane",{key:e.value,attrs:{label:e.label,name:e.value}})})],2),e._v(" "),a("table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"order-table"},[e._m(0),e._v(" "),e._l(e.tableData,function(t,r){return a("tbody",{key:r},[a("div",{staticStyle:{width:"100%",height:"25px",background:"#fff"}}),e._v(" "),a("tr",{staticClass:"order-header"},[a("td",{staticStyle:{border:"1px solid #EBEEF5"},attrs:{colspan:"11"}},[a("span",{staticStyle:{"margin-left":"15px"}},[e._v("服务单号")]),e._v(" "),a("span",[e._v(e._s(t.orderRefund.orderRefundNum))]),e._v(" "),a("span",{staticStyle:{"margin-left":"15px"}},[e._v("订单编号：")]),e._v(" "),a("span",{staticStyle:{"margin-right":"50px"}},[e._v(e._s(t.order.orderCode))])])]),e._v(" "),a("tr",{staticStyle:{border:"1px solid #EBEEF5"}},[a("td",{staticClass:"product-info",staticStyle:{"min-width":"300px","max-width":"380px"}},[a("div",{staticClass:"product__inner",staticStyle:{"min-height":"80px"}},[t.productVO.product?a("img",{staticClass:"product-img",attrs:{src:e.$cms.filterUrl(t.productVO.product.coverImage)}}):e._e(),e._v(" "),a("div",{staticClass:"product-title"},[a("h3",{staticClass:"title-h3",staticStyle:{"margin-top":"0"}},[e._v(e._s(t.productVO.product.name))]),e._v(" "),a("p",{staticClass:"title-p",staticStyle:{"margin-top":"10px"}},[e._v(e._s(e.showAttr(t.productVO.proSkuAttrList)))])])])]),e._v(" "),a("td",{staticClass:"order-count",staticStyle:{"min-width":"80px","text-align":"center"}},[e._v("x"+e._s(t.orderRefund.productRefundCount))]),e._v(" "),a("td",{staticClass:"order-count",staticStyle:{"min-width":"120px","text-align":"left"}},[a("div",[a("span",[e._v("金额:")]),e._v(" "),a("span",[e._v("￥"+e._s(e.$cms.float(t.orderRefund.refundAmount)))])]),e._v(" "),a("div",[a("span",[e._v("红包:")]),e._v(" "),a("span",[e._v(e._s(t.orderRefund.refundRedPacket))])]),e._v(" "),a("div",[a("span",[e._v("积分:")]),e._v(" "),a("span",[e._v(e._s(t.orderRefund.refundIntegral))])])]),e._v(" "),a("td",{staticClass:"order-count text-center",staticStyle:{"min-width":"80px"}},[1==t.orderRefund.refundType?a("span",[e._v("仅退款")]):e._e(),e._v(" "),2==t.orderRefund.refundType?a("span",[e._v("退款/退货")]):e._e(),e._v(" "),3==t.orderRefund.refundType?a("span",[e._v("换货")]):e._e()]),e._v(" "),a("td",{staticClass:"order-count text-center cell",staticStyle:{"min-width":"80px"}},[a("span",{class:e.statusClass(t.orderRefund.status)},[e._v("\n           "+e._s(e._f("statusFilter")(t.orderRefund.status))+"\n        ")])]),e._v(" "),a("td",{staticClass:"order-count text-center cell",staticStyle:{"min-width":"80px"}},[a("span",[e._v(e._s(e._f("interventFilter")(t.orderRefund.platformIntervent)))])]),e._v(" "),a("td",{staticClass:"order-count text-center",staticStyle:{"min-width":"140px"}},[e._v(e._s(e.$moment(t.orderRefund.applyTime)))]),e._v(" "),a("td",{staticClass:"order-operation"},[a("div",{staticClass:"mb-10"},[1==t.orderRefund.refundType?a("span",{directives:[{name:"prem",rawName:"v-prem",value:"/afterSales/refund",expression:"'/afterSales/refund'"}],staticClass:"orderstate__link",on:{click:function(a){e.$routerLink("/afterSales/refund","view",{id:t.orderRefund.id})}}},[e._v("详情\n            ")]):e._e(),e._v(" "),2==t.orderRefund.refundType?a("span",{directives:[{name:"prem",rawName:"v-prem",value:"/afterSales/fundAndChange",expression:"'/afterSales/fundAndChange'"}],staticClass:"orderstate__link",on:{click:function(a){e.$routerLink("/afterSales/fundAndChange","view",{id:t.orderRefund.id})}}},[e._v("详情\n            ")]):e._e(),e._v(" "),3==t.orderRefund.refundType?a("span",{directives:[{name:"prem",rawName:"v-prem",value:"/afterSales/rechange",expression:"'/afterSales/rechange'"}],staticClass:"orderstate__link",on:{click:function(a){e.$routerLink("/afterSales/rechange","view",{id:t.orderRefund.id})}}},[e._v("详情\n            ")]):e._e()]),e._v(" "),t.orderRefund.lastIntervent?a("div",{staticClass:"mb-10"},[0==t.orderRefund.lastIntervent.platformStatus?a("cms-button",{staticStyle:{width:"100px"},attrs:{size:"small",type:"info"},on:{click:function(a){e.checkService(t,!0)}}},[e._v("确认")]):e._e()],1):e._e(),e._v(" "),t.orderRefund.lastIntervent?a("div",{staticClass:"mb-10"},[0==t.orderRefund.lastIntervent.platformStatus?a("cms-button",{staticStyle:{width:"100px"},attrs:{size:"small",type:"info"},on:{click:function(a){e.checkService(t,!1)}}},[e._v("确认不通过")]):e._e()],1):e._e()])])])})],2),e._v(" "),a("cms-pagination",{attrs:{total:e.total,size:5},on:{change:e.getPage}}),e._v(" "),a("check-service",{ref:"checkService",on:{change:e.changeService}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("服务单信息")]),e._v(" "),a("th",[e._v("数量")]),e._v(" "),a("th",{staticStyle:{"text-align":"left"}},[e._v("退款明细")]),e._v(" "),a("th",{staticStyle:{"text-align":"left"}},[e._v("服务单类型")]),e._v(" "),a("th",[e._v("服务单状态")]),e._v(" "),a("th",[e._v("平台介入")]),e._v(" "),a("th",[e._v("申请时间")]),e._v(" "),a("th",[e._v("操作")])])}]};var d=a("C7Lr")(o,c,!1,function(e){a("Htm0")},"data-v-347c9636",null);t.default=d.exports},Htm0:function(e,t){}});
//# sourceMappingURL=169.b07c051a55884714ddd1.js.map