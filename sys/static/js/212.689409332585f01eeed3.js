webpackJsonp([212],{kCKW:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("aA9S"),o=e.n(r),s=e("x1ym"),c=e("lcoF"),n=e("3jsV"),i=e("AsmT"),l={id:"",contactMail:"",contactMobile:"",contactName:"",enabled:"",storeName:"",pStr:"",checkPassword:""},m={mixins:[c.a],data:function(){var a=this;return{formData:o()({},l),saveRules:{storeName:[s.a.required("请填写店铺名称"),s.a.len(1,150),s.a.custom(function(t,e,r){Object(i.w)({validName:a.formData.storeName,id:a.formData.id}).then(function(a){a.data?r():r(new Error("店铺名已存在，不允许重复添加"))})})],colorValue:[s.a.required("请填写商家账号"),s.a.len(1,150),s.a.custom(function(t,e,r){Object(i.y)({validUsername:a.formData.storeUsername}).then(function(a){a.data?r():r(new Error("该商家账号已存在，不允许重复添加"))})})],contactName:[s.a.required("请填写姓名"),s.a.len(1,150),s.a.custom(function(t,e,r){Object(n.g)({id:a.formData.id,validContactName:a.formData.contactName}).then(function(a){a.data?r():r(new Error("姓名已存在，不允许重复添加"))})})],contactMobile:[s.a.required("请填写手机号"),s.a.len(1,150),s.a.phone(),s.a.custom(function(t,e,r){Object(i.x)({validPhone:a.formData.contactMobile,id:a.formData.id}).then(function(a){a.data?r():r(new Error("手机号已注册店铺，不允许重复添加"))})})],contactMail:[s.a.required("请填写邮箱"),s.a.len(1,150),s.a.custom(function(t,e,r){Object(i.u)({validContactMail:a.formData.contactMail,id:a.formData.id}).then(function(a){a.data?r():r(new Error("联系人邮箱已存在，不允许重复添加"))})})],pStr:[s.a.custom(function(a,t,e){""===t?e():/^[a-zA-Z\d]+$/.test(t)||/^[u4e00-u9fa5]*$/.test(t)?e():e(new Error("只能输入数字和大小写字母"))}),s.a.len(6,16)],checkPassword:[s.a.custom(function(t,e,r){""!==a.formData.pStr&&""===e?r(new Error("请再次输入密码")):e!==a.formData.pStr?r(new Error("两次输入密码不一致!")):r()})]}}},methods:{getFormData:function(a){var t=this;Object(n.c)({id:a}).then(function(a){t.formData=o()(l,a.data),t.formData.pStr="",t.formData.checkPassword=""})},update:function(){var a={id:this.formData.id,contactMail:this.formData.contactMail,contactMobile:this.formData.contactMobile,contactName:this.formData.contactName,enabled:this.formData.enabled,storeName:this.formData.storeName,pStr:this.formData.pStr?this.$cms.encrypt(this.formData.pStr):""};this.updateForm(n.f,a,"/selfShops/list","list")},reset:function(){this.getFormData(this.$route.query.id),this.autoFocus(),this.$refs.form.resetFields()}},created:function(){this.getFormData(this.$route.query.id)}},f={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}]},[e("cms-breadcrumb",{attrs:{to:"/selfShops/list"},on:{click:a.rest}},[e("li",[a._v(a._s(a.$route.name))])]),a._v(" "),e("div",{staticClass:"cms-form-layout"},[e("cms-prompt",{attrs:{collapse:"true"}},[e("li",[a._v("带 * 为必填项")]),a._v(" "),e("li",[a._v("编辑保存只对商家信息进行修改")]),a._v(" "),e("li",[a._v("如需修改对应的会员信息，请移至商城->会员->商城会员下进行编辑操作")])]),a._v(" "),a.loading?a._e():e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"form",attrs:{rules:a.saveRules,model:a.formData,"label-width":"210px"}},[e("el-form-item",{attrs:{label:"店铺名称",prop:"storeName",error:a.errorMessage.storeName}},[e("el-input",{ref:"first",attrs:{autofocus:!0},model:{value:a.formData.storeName,callback:function(t){a.$set(a.formData,"storeName",t)},expression:"formData.storeName"}})],1),a._v(" "),a.formData.member?e("el-form-item",{attrs:{label:"店家账号",prop:"member.username"}},[e("el-input",{attrs:{disabled:""},model:{value:a.formData.member.username,callback:function(t){a.$set(a.formData.member,"username",t)},expression:"formData.member.username"}}),a._v(" "),e("div",{staticClass:"gray"},[a._v("用于登录商城会员中心")])],1):a._e(),a._v(" "),a.formData.member?e("el-form-item",{attrs:{label:"商家账号",prop:"storeUsername"}},[e("el-input",{attrs:{disabled:""},model:{value:a.formData.storeUsername,callback:function(t){a.$set(a.formData,"storeUsername",t)},expression:"formData.storeUsername"}}),a._v(" "),e("div",{staticClass:"gray"},[a._v("用于登录商家中心")])],1):a._e(),a._v(" "),e("el-form-item",{attrs:{label:"姓名",prop:"contactName",error:a.errorMessage.contactName}},[e("el-input",{model:{value:a.formData.contactName,callback:function(t){a.$set(a.formData,"contactName",t)},expression:"formData.contactName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"手机号",prop:"contactMobile",error:a.errorMessage.contactMobile}},[e("el-input",{attrs:{maxlength:"11"},model:{value:a.formData.contactMobile,callback:function(t){a.$set(a.formData,"contactMobile",t)},expression:"formData.contactMobile"}}),a._v(" "),e("div",{staticClass:"gray"},[a._v("用于登录商家中心")])],1),a._v(" "),e("el-form-item",{attrs:{label:"邮箱",prop:"contactMail",error:a.errorMessage.contactMail}},[e("el-input",{attrs:{maxlength:"50"},model:{value:a.formData.contactMail,callback:function(t){a.$set(a.formData,"contactMail",t)},expression:"formData.contactMail"}}),a._v(" "),e("div",{staticClass:"gray"},[a._v("用于登录商家中心")])],1),a._v(" "),e("el-form-item",{attrs:{label:"登录密码",prop:"pStr",error:a.errorMessage.pStr}},[e("el-input",{attrs:{type:"password"},model:{value:a.formData.pStr,callback:function(t){a.$set(a.formData,"pStr",t)},expression:"formData.pStr"}}),a._v(" "),e("div",{staticClass:"gray"},[a._v("6-16位数字、字母组合，留空不修改")])],1),a._v(" "),e("el-form-item",{attrs:{label:"确认密码",prop:"checkPassword",error:a.errorMessage.checkPassword}},[e("el-input",{attrs:{type:"password"},model:{value:a.formData.checkPassword,callback:function(t){a.$set(a.formData,"checkPassword",t)},expression:"formData.checkPassword"}})],1)],1),a._v(" "),e("div",{staticClass:"cms-form-footer"},[e("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:a.update}},[a._v("保存")]),a._v(" "),e("cms-button",{attrs:{type:"rest"},on:{click:a.reset}},[a._v("重置")])],1)],1)],1)},staticRenderFns:[]},u=e("C7Lr")(m,f,!1,null,null,null);t.default=u.exports}});
//# sourceMappingURL=212.689409332585f01eeed3.js.map