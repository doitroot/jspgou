webpackJsonp([231],{"05Mw":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("aA9S"),o=t.n(a),l=t("x1ym"),s=t("lcoF"),i=t("Hy2i"),n={linkName:"",linkUrl:"",isEnable:"",linkLogo:"",enabled:"",sortNum:"",remark:""},m={name:"friendlyEdit",mixins:[s.a],data:function(){return{status:!0,formData:o()({},n),rules:{linkName:[l.a.required("请填写名称"),l.a.len(1,150)],linkUrl:[l.a.required("请填写URL"),l.a.url(),l.a.len(1,150)],linkLogo:[l.a.required("必须选择一张图片","change")],sortNum:[l.a.required("请填写排序值"),l.a.number()],remark:[l.a.len(1,500)]}}},methods:{getLinkLogo:function(e){this.formData.linkLogo=e?e[0].id:"",this.$refs.form.validateField("linkLogo")},getFormData:function(e){var r=this;Object(i.b)({id:e}).then(function(e){r.formData=o()(n,e.data)})},update:function(){this.updateForm(i.e,this.formData,"/friendly/list","list")},reset:function(){this.getFormData(this.$route.query.id),this.$refs.form.resetFields()}},created:function(){this.getFormData(this.$route.query.id)}},u={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("cms-breadcrumb",{attrs:{to:"/friendly/list",type:"list"},on:{click:e.rest}},[t("li",[e._v(e._s(e.$route.name))])]),e._v(" "),t("div",{staticClass:"cms-form-layout"},[t("cms-prompt",{attrs:{collapse:"true"}},[t("li",[e._v("设置为启用，前台可显示友情链接地址")])]),e._v(" "),t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.formData,"label-width":"210px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"名称",prop:"linkName",error:e.errorMessage.linkName}},[t("el-input",{ref:"first",attrs:{autofocus:!0},model:{value:e.formData.linkName,callback:function(r){e.$set(e.formData,"linkName",r)},expression:"formData.linkName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"URL",prop:"linkUrl",error:e.errorMessage.linkUrl}},[t("el-input",{attrs:{maxlength:"50"},model:{value:e.formData.linkUrl,callback:function(r){e.$set(e.formData,"linkUrl",r)},expression:"formData.linkUrl"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否启用",prop:"isEnable"}},[t("cms-switch",{model:{value:e.formData.isEnable,callback:function(r){e.$set(e.formData,"isEnable",r)},expression:"formData.isEnable"}})],1),e._v(" "),t("el-form-item",{staticClass:"brands-logo",attrs:{label:"Logo",prop:"linkLogo",error:e.errorMessage.linkLogo}},[e.status?t("cms-picture-zone",{attrs:{label:"上传图片",data:e.formData.resourcesSpaceData},on:{change:e.getLinkLogo}}):e._e()],1),e._v(" "),t("el-form-item",{attrs:{label:"排序值",prop:"sortNum",error:e.errorMessage.sortNum}},[t("el-input",{attrs:{maxlength:"2"},model:{value:e.formData.sortNum,callback:function(r){e.$set(e.formData,"sortNum",r)},expression:"formData.sortNum"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"备注信息",prop:"remark",error:e.errorMessage.remark}},[t("el-input",{attrs:{type:"textarea",maxlength:"200"},model:{value:e.formData.remark,callback:function(r){e.$set(e.formData,"remark",r)},expression:"formData.remark"}})],1)],1),e._v(" "),t("div",{staticClass:"cms-form-footer"},[t("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:e.update}},[e._v("保存修改")]),e._v(" "),t("cms-button",{attrs:{type:"rest"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]},c=t("C7Lr")(m,u,!1,null,null,null);r.default=c.exports}});
//# sourceMappingURL=231.adecb41c118311796608.js.map