{"version":3,"sources":["webpack:///src/views/shop/product/type/save.vue","webpack:///./src/views/shop/product/type/save.vue?85ce","webpack:///./src/views/shop/product/type/save.vue"],"names":["defaultData","name","custom","groupName","brandIds","type_save","mixins","mixins_form","data","status","formData","assign_default","saveRules","rules","required","len","methods","getBrand","items","this","map","v","id","save","state","_this","params","productType","saveForm","type","then","res","created","_this2","setTimeout","product_type_save","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","attrs","to","on","click","rest","_v","_s","$route","staticClass","collapse","ref","model","label-width","nativeOn","submit","$event","preventDefault","label","prop","error","errorMessage","callback","$$v","$set","multiple","max","size","_e","rows","maxlength","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/215.327f8e8d7785b17154a4.js","sourcesContent":["<template>\n  <div v-loading='loading'>\n    <cms-breadcrumb to=\"/productType/list\"  @click=\"rest\" type='list'>\n      <li>{{$route.name}}</li>\n    </cms-breadcrumb>\n    <div class=\"cms-form-layout\">\n      <cms-prompt collapse='true'>\n        <li>带 * 为必填项</li>\n      </cms-prompt>\n      <el-form ref=\"form\" :rules=\"saveRules\" :model=\"formData\" label-width=\"210px\" @submit.native.prevent>\n        <el-form-item label=\"商品类型名称:\" prop=\"name\" :error='errorMessage.name'>\n          <el-input v-model=\"formData.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"管理品牌:\" prop=\"brandIds\" :error='errorMessage.brandIds'>\n          <cms-brand  multiple  v-if=\"status\" v-model=\"formData.brandIds\" :max=\"8\">\n            <el-button size='mini' type=\"primary\">选择品牌</el-button>\n          </cms-brand>\n         <div class=\"gray\">品牌推荐将显示在商城导航侧栏右侧，为保证商城布局正常显示，推荐最多选择8个</div>\n        </el-form-item>\n         <el-form-item label=\"是否允许自定义:\" prop=\"custom\" :error=\"errorMessage.custom\">\n          <cms-switch  v-model=\"formData.custom\"></cms-switch>\n          <div class=\"gray\">选择“是”，在商家选择添加对应商品类型商品时，可自定义添加属性</div>\n        </el-form-item>\n         <el-form-item label=\"属性分组:\" prop=\"groupName\">\n            <el-input v-model=\"formData.groupName\" type=\"textarea\" :rows=\"6\" maxlength=\"200\"></el-input>\n            <div class=\"gray\">多个请换行填写，显示先后顺序即填写先后顺序</div>\n         </el-form-item>\n      </el-form>\n      <div class=\"cms-form-footer\">\n        <cms-button  @click=\"save(false)\" v-color >保存并新增</cms-button>\n        <cms-button @click=\"save(true)\"  v-color >保存</cms-button>\n        <cms-button type='rest' @click=\"rest\">重置</cms-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport rules from '@/rules'\nimport form from '@/mixins/form.js'\nimport {\n  productTypeSave\n} from '@/api/product/type.js'\n\nvar defaultData = {\n  name: '',\n  custom: true,\n  groupName: '',\n  brandIds: []\n}\nexport default {\n  mixins: [form],\n  data() {\n    return {\n      status: true,\n      formData: Object.assign({}, defaultData),\n      saveRules: {// 新增规则\n        name: [rules.required('商品类型名称'), rules.len(1, 150)]\n      }\n    }\n  },\n  methods: {\n    getBrand(items) { // 得到品牌相关\n      this.formData.brandIds = items.map(v => v.id)\n    },\n\n    save(state) { // 添加\n      const params = {\n        productType: {\n          name: this.formData.name,\n          custom: this.formData.custom,\n          groupName: this.formData.groupName\n        },\n        brandIds: this.formData.brandIds\n      }\n      this.saveForm(productTypeSave, params, state, '/productType/list', 'list').then(res => {\n        this.formData.brandIds = []\n      })\n    }\n  },\n  created() {\n    this.formData = Object.assign({}, defaultData)\n    this.status = false\n    setTimeout(() => {\n      this.status = true\n    }, 1)\n  }\n\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/shop/product/type/save.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('cms-breadcrumb',{attrs:{\"to\":\"/productType/list\",\"type\":\"list\"},on:{\"click\":_vm.rest}},[_c('li',[_vm._v(_vm._s(_vm.$route.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-layout\"},[_c('cms-prompt',{attrs:{\"collapse\":\"true\"}},[_c('li',[_vm._v(\"带 * 为必填项\")])]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.saveRules,\"model\":_vm.formData,\"label-width\":\"210px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"商品类型名称:\",\"prop\":\"name\",\"error\":_vm.errorMessage.name}},[_c('el-input',{model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"管理品牌:\",\"prop\":\"brandIds\",\"error\":_vm.errorMessage.brandIds}},[(_vm.status)?_c('cms-brand',{attrs:{\"multiple\":\"\",\"max\":8},model:{value:(_vm.formData.brandIds),callback:function ($$v) {_vm.$set(_vm.formData, \"brandIds\", $$v)},expression:\"formData.brandIds\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"}},[_vm._v(\"选择品牌\")])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"品牌推荐将显示在商城导航侧栏右侧，为保证商城布局正常显示，推荐最多选择8个\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否允许自定义:\",\"prop\":\"custom\",\"error\":_vm.errorMessage.custom}},[_c('cms-switch',{model:{value:(_vm.formData.custom),callback:function ($$v) {_vm.$set(_vm.formData, \"custom\", $$v)},expression:\"formData.custom\"}}),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"选择“是”，在商家选择添加对应商品类型商品时，可自定义添加属性\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"属性分组:\",\"prop\":\"groupName\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":6,\"maxlength\":\"200\"},model:{value:(_vm.formData.groupName),callback:function ($$v) {_vm.$set(_vm.formData, \"groupName\", $$v)},expression:\"formData.groupName\"}}),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"多个请换行填写，显示先后顺序即填写先后顺序\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-footer\"},[_c('cms-button',{directives:[{name:\"color\",rawName:\"v-color\"}],on:{\"click\":function($event){_vm.save(false)}}},[_vm._v(\"保存并新增\")]),_vm._v(\" \"),_c('cms-button',{directives:[{name:\"color\",rawName:\"v-color\"}],on:{\"click\":function($event){_vm.save(true)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('cms-button',{attrs:{\"type\":\"rest\"},on:{\"click\":_vm.rest}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-3c22cd91\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/shop/product/type/save.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./save.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./save.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c22cd91\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./save.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/shop/product/type/save.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}