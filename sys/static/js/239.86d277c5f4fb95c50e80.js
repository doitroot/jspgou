webpackJsonp([239],{cdb7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("aA9S"),o=a.n(r),s=a("x1ym"),n=a("lcoF"),i=a("bS8P"),l={name:"",show:!0,sortNum:"",bottomShow:!1,id:"",parentId:0,parentIds:[0],description:""},m={mixins:[n.a],data:function(){return{options:[],props:{value:"id",label:"name",children:"childs",disabled:"isAuth"},formData:o()({},l),updateRules:{name:[s.a.required("标题必填"),s.a.len(1,10)],sortNum:[s.a.required("排序值必填"),s.a.number(),s.a.custom(function(t,e,a){e>=1&&e<=100?a():a(new Error("排序值为1到100的整数"))})],description:[s.a.len(1,20)]}}},methods:{getFormData:function(t){var e=this;Object(i.c)({id:t}).then(function(t){e.formData=t.data,t.data.nodeIds.length<=1?e.formData.parentIds=[0]:e.formData.parentIds=t.data.nodeIds})},getMenuTree:function(){var t=this;Object(i.i)().then(function(e){t.options=[{id:0,name:"根目录"}].concat(e.data)})},update:function(){var t=this.$cms.deepCopy(this.formData);t.parentId=t.parentIds[t.parentIds.length-1],this.updateForm(i.b,t,"/articleCategory/list","list")},reset:function(){this.getFormData(this.$route.query.id),this.$refs.form.resetFields()}},created:function(){this.getFormData(this.$route.query.id),this.getMenuTree()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("cms-breadcrumb",{attrs:{to:"/articleCategory"},on:{click:t.rest}},[a("li",[t._v(t._s(t.$route.name))])]),t._v(" "),a("div",{staticClass:"cms-form-layout"},[a("cms-prompt",{attrs:{collapse:"true"}},[a("li",[t._v("带 * 为必填项")])]),t._v(" "),a("el-form",{ref:"form",attrs:{rules:t.updateRules,model:t.formData,"label-width":"210px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"name",error:t.errorMessage.name}},[a("el-input",{ref:"first",attrs:{autofocus:!0},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序值",prop:"sortNum",error:t.errorMessage.sortNum}},[a("el-input",{attrs:{maxlength:"8"},model:{value:t.formData.sortNum,callback:function(e){t.$set(t.formData,"sortNum",t._n(e))},expression:"formData.sortNum"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"description",error:t.errorMessage.description}},[a("el-input",{model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否显示",prop:"show"}},[a("cms-switch",{model:{value:t.formData.show,callback:function(e){t.$set(t.formData,"show",e)},expression:"formData.show"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否显示在底部导航",prop:"bottomShow"}},[a("cms-switch",{model:{value:t.formData.bottomShow,callback:function(e){t.$set(t.formData,"bottomShow",e)},expression:"formData.bottomShow"}})],1)],1),t._v(" "),a("div",{staticClass:"cms-form-footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.update}},[t._v("保存修改")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]},u=a("C7Lr")(m,c,!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=239.86d277c5f4fb95c50e80.js.map