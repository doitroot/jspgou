{"version":3,"sources":["webpack:///src/views/platform/setting/waybillTemplate/save.vue","webpack:///./src/views/platform/setting/waybillTemplate/save.vue?1b58","webpack:///./src/views/platform/setting/waybillTemplate/save.vue","webpack:///./src/views/platform/setting/waybillTemplate/components/vue-drag-resize.js","webpack:///./src/views/platform/setting/waybillTemplate/components/vue-drag-resize.html","webpack:///./src/views/platform/setting/waybillTemplate/components/vue-drag-resize.vue","webpack:///src/views/platform/setting/waybillTemplate/components/tpl.vue","webpack:///./src/views/platform/setting/waybillTemplate/components/tpl.vue?5e69","webpack:///./src/views/platform/setting/waybillTemplate/components/tpl.vue"],"names":["defaultData","name","waybillType","width","height","upperOffset","leftOffset","isEnable","logisticsCompanyId","backgroundImgId","isDefault","waybillTemplate_save","mixins","mixins_form","components","tpl","data","logItems","formData","assign_default","saveRules","rules","required","len","number","methods","save","state","params","this","tplField","stringify_default","saveForm","waybillTemplate","getlogItem","_this","Object","logisticsCompany","page","size","then","res","getTplData","imgId","activated","autoFocus","$route","query","type","created","setting_waybillTemplate_save","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","attrs","to","on","click","rest","_v","_s","staticClass","collapse","ref","model","label-width","label","prop","error","errorMessage","autofocus","callback","$$v","$set","placeholder","_l","item","key","id","cnName","staticStyle","float","maxlength","slot","margin-left","clear","change","_e","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","styleMapping","t","m","b","l","r","vue_drag_resize","props","parentScaleX","Number","default","parentScaleY","isActive","Boolean","preventActiveBehavior","isDraggable","isResizable","aspectRatio","parentLimitation","parentW","validator","val","parentH","w","h","minw","minh","x","y","z","String","dragHandle","dragCancel","sticks","Array","axis","indexOf","customData","active","rawWidth","rawHeight","rawLeft","rawTop","rawRight","rawBottom","zIndex","aspectFactor","parentWidth","parentHeight","left","top","right","bottom","minWidth","minHeight","stickDrag","bodyDrag","stickAxis","stickStartPos","mouseX","mouseY","limits","minLeft","maxLeft","minRight","maxRight","minTop","maxTop","minBottom","maxBottom","currentStick","mounted","parentElement","$el","parentNode","clientWidth","clientHeight","document","documentElement","addEventListener","move","up","deselect","dragHandles","prototype","slice","call","querySelectorAll","i","setAttribute","_uid","cancelHandles","beforeDestroy","removeEventListener","ev","stopPropagation","stickMove","bodyMove","stickUp","bodyUp","bodyDown","target","srcElement","button","$emit","getAttribute","toString","pageX","touches","pageY","calcDragLimitation","delta","obj","rect","stickDown","stick","split","calcResizeLimitation","parentLim","aspectLimits","Math","min","max","aspectRatioCorrection","newWidth","newHeight","computed","style","vdrStick","stickStyle","round","watch","newLeft","newRight","newTop","newBottom","components_vue_drag_resize","class","mousedown","preventDefault","touchstart","_t","filedItems","text","canvasWidth","canvasHeight","checkItems","canvasItems","imageObject","isEdit","vueDragResize","imgData","filedData","handler","newVal","oldVal","getArrDifference","filter","v","index","findIndex","splice","canvasObj","push","deep","resizeCanvas","getImg","immediate","length","map","canvasStyles","$nextTick","body","getElementById","cvs","ctx","getContext","drawImage","changeCheckItems","_this2","Image","src","$cms","filterUrl","url","onload","arr1","arr2","concat","arr","lastIndexOf","components_tpl","margin-bottom","preview","tpl_Component","tpl_normalizeComponent"],"mappings":"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","file":"static/js/22.d5056ff4a1df901593fc.js","sourcesContent":["<template>\n  <div v-loading=\"loading\">\n    <cms-breadcrumb to=\"/waybillTemplate\" @click=\"rest\">\n      <li>{{$route.name}}</li>\n    </cms-breadcrumb>\n    <div class=\"cms-form-layout\">\n      <cms-prompt collapse=\"true\">\n        <li>带 * 为必填项</li>\n        <li>设置模板并启用，方便商家快速选取</li>\n      </cms-prompt>\n      <el-form ref=\"form\" :rules=\"saveRules\" :model=\"formData\" label-width=\"210px\">\n        <el-form-item label=\"模板名称\" prop=\"name\" :error=\"errorMessage.name\">\n          <el-input v-model=\"formData.name\" :autofocus=\"true\" ref=\"first\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"物流公司\" prop=\"logisticsCompanyId\" ref=\"logisticsCompanyId\">\n          <el-select v-model=\"formData.logisticsCompanyId\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in logItems\"\n              :key=\"item.id\"\n              :label=\"item.cnName\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item class=\"board-width\" label=\"自定义尺寸\" style=\"float:left\" prop=\"width\" :error='errorMessage.width'>\n          <el-input maxlength=\"5\" v-model=\"formData.width\" placeholder=\"宽\" style=\"width:185px\" >\n            <template slot=\"append\">mm</template>\n          </el-input>*\n        </el-form-item>\n        <el-form-item\n          class=\"board-height\"\n          style=\"float:left;margin-left:-210px\"\n          prop=\"height\"\n          :error=\"errorMessage.height\"\n        >\n          <el-input maxlength=\"5\" v-model=\"formData.height\" placeholder=\"高\" style=\"width:185px\">\n            <template slot=\"append\">mm</template>\n          </el-input>\n        </el-form-item>\n        <div style=\"clear:both\"></div>\n        <el-form-item label=\"打印偏移校正上偏移量\" prop=\"upperOffset\">\n          <el-input v-model=\"formData.upperOffset\" placeholder=\"上偏移量\">\n            <template slot=\"append\">mm</template>\n          </el-input>\n          <div class=\"gray\">设置运单模板居上偏移量</div>\n        </el-form-item>\n        <el-form-item label=\"打印偏移校正左偏移量\" prop=\"leftOffset\">\n          <el-input v-model=\"formData.leftOffset\" placeholder=\"左偏移量\">\n            <template slot=\"append\">mm</template>\n          </el-input>\n          <div class=\"gray\">设置运单模板居左偏移量</div>\n        </el-form-item>\n        <el-form-item label=\"是否启用\" prop=\"isEnable\" :error=\"errorMessage.isEnable\">\n          <cms-switch v-model=\"formData.isEnable\"></cms-switch>\n          <div class=\"gray\">设置启用的模板，可供订单发货打印面单使用</div>\n        </el-form-item>\n        <el-form-item label=\"是否默认\" prop=\"isDefault\" ref=\"isDefault\">\n          <cms-switch v-model=\"formData.isDefault\"></cms-switch>\n        </el-form-item>\n        <tpl @change=\"getTplData\" :width=\"formData.width\" :height=\"formData.height\" v-if=\"status\"></tpl>\n      </el-form>\n      <div class=\"cms-form-footer\">\n        <cms-button @click=\"save(false)\" v-color>保存并新增</cms-button>\n        <cms-button @click=\"save(true)\" v-color>保存</cms-button>\n        <cms-button type=\"rest\" @click=\"rest\">重置</cms-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport rules from '@/rules'\nimport form from '@/mixins/form.js'\nimport { waybillTemplateSave } from '@/api/setting/waybillTemplate.js'\nimport { logisticsCompanyList } from '@/api/setting/logisticsCompany.js'\nimport tpl from './components/tpl'\nvar defaultData = {\n  name: '',\n  waybillType: 1,\n  width: 200,\n  height: 150,\n  upperOffset: '',\n  leftOffset: '',\n  isEnable: true,\n  logisticsCompanyId: '',\n  backgroundImgId: '',\n  isDefault: false\n}\nexport default {\n  name: 'waybillTemplateSave',\n  mixins: [form],\n  components: {\n    tpl\n  },\n  data() {\n    return {\n      logItems: [], // 物流公司列表\n      formData: Object.assign({}, defaultData),\n      saveRules: {\n        // 新增规则\n        name: [rules.required('模板名称不能为空'), rules.len(1, 20)],\n        width: [rules.required('请输入宽度'), rules.number()],\n        height: [rules.required('请输入高度'), rules.number()],\n        upperOffset: [rules.number(), rules.len(0, 3)],\n        leftOffset: [rules.number(), rules.len(0, 3)],\n        logisticsCompanyId: [rules.required('请选择物流公司', 'change')],\n        isEnable: [rules.required('请选择是否要启用')]\n      }\n    }\n  },\n  methods: {\n    save(state) {\n      // 添加\n      const params = Object.assign({}, this.formData)\n      params.tplField = JSON.stringify(params.tplField)\n\n      this.saveForm(\n        waybillTemplateSave,\n        params,\n        state,\n        '/waybillTemplate/list',\n        'list'\n      )\n    },\n    getlogItem() {\n      // 获取物流公司列表\n      logisticsCompanyList({ page: 1, size: 9999 }).then(res => {\n        this.logItems = res.data\n      })\n    },\n    getTplData(data, imgId) {\n      this.formData.tplField = data\n      this.formData.backgroundImgId = imgId\n    }\n  },\n  activated() {\n    this.autoFocus()\n    if (this.$route.query.type === 'save') {\n      this.formData = Object.assign({}, defaultData)\n    }\n  },\n  created() {\n    this.getlogItem()\n  }\n}\n</script>\n<style>\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/platform/setting/waybillTemplate/save.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('cms-breadcrumb',{attrs:{\"to\":\"/waybillTemplate\"},on:{\"click\":_vm.rest}},[_c('li',[_vm._v(_vm._s(_vm.$route.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-layout\"},[_c('cms-prompt',{attrs:{\"collapse\":\"true\"}},[_c('li',[_vm._v(\"带 * 为必填项\")]),_vm._v(\" \"),_c('li',[_vm._v(\"设置模板并启用，方便商家快速选取\")])]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.saveRules,\"model\":_vm.formData,\"label-width\":\"210px\"}},[_c('el-form-item',{attrs:{\"label\":\"模板名称\",\"prop\":\"name\",\"error\":_vm.errorMessage.name}},[_c('el-input',{ref:\"first\",attrs:{\"autofocus\":true},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{ref:\"logisticsCompanyId\",attrs:{\"label\":\"物流公司\",\"prop\":\"logisticsCompanyId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formData.logisticsCompanyId),callback:function ($$v) {_vm.$set(_vm.formData, \"logisticsCompanyId\", $$v)},expression:\"formData.logisticsCompanyId\"}},_vm._l((_vm.logItems),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.cnName,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"board-width\",staticStyle:{\"float\":\"left\"},attrs:{\"label\":\"自定义尺寸\",\"prop\":\"width\",\"error\":_vm.errorMessage.width}},[_c('el-input',{staticStyle:{\"width\":\"185px\"},attrs:{\"maxlength\":\"5\",\"placeholder\":\"宽\"},model:{value:(_vm.formData.width),callback:function ($$v) {_vm.$set(_vm.formData, \"width\", $$v)},expression:\"formData.width\"}},[_c('template',{slot:\"append\"},[_vm._v(\"mm\")])],2),_vm._v(\"*\\n      \")],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"board-height\",staticStyle:{\"float\":\"left\",\"margin-left\":\"-210px\"},attrs:{\"prop\":\"height\",\"error\":_vm.errorMessage.height}},[_c('el-input',{staticStyle:{\"width\":\"185px\"},attrs:{\"maxlength\":\"5\",\"placeholder\":\"高\"},model:{value:(_vm.formData.height),callback:function ($$v) {_vm.$set(_vm.formData, \"height\", $$v)},expression:\"formData.height\"}},[_c('template',{slot:\"append\"},[_vm._v(\"mm\")])],2)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"打印偏移校正上偏移量\",\"prop\":\"upperOffset\"}},[_c('el-input',{attrs:{\"placeholder\":\"上偏移量\"},model:{value:(_vm.formData.upperOffset),callback:function ($$v) {_vm.$set(_vm.formData, \"upperOffset\", $$v)},expression:\"formData.upperOffset\"}},[_c('template',{slot:\"append\"},[_vm._v(\"mm\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"设置运单模板居上偏移量\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"打印偏移校正左偏移量\",\"prop\":\"leftOffset\"}},[_c('el-input',{attrs:{\"placeholder\":\"左偏移量\"},model:{value:(_vm.formData.leftOffset),callback:function ($$v) {_vm.$set(_vm.formData, \"leftOffset\", $$v)},expression:\"formData.leftOffset\"}},[_c('template',{slot:\"append\"},[_vm._v(\"mm\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"设置运单模板居左偏移量\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否启用\",\"prop\":\"isEnable\",\"error\":_vm.errorMessage.isEnable}},[_c('cms-switch',{model:{value:(_vm.formData.isEnable),callback:function ($$v) {_vm.$set(_vm.formData, \"isEnable\", $$v)},expression:\"formData.isEnable\"}}),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"设置启用的模板，可供订单发货打印面单使用\")])],1),_vm._v(\" \"),_c('el-form-item',{ref:\"isDefault\",attrs:{\"label\":\"是否默认\",\"prop\":\"isDefault\"}},[_c('cms-switch',{model:{value:(_vm.formData.isDefault),callback:function ($$v) {_vm.$set(_vm.formData, \"isDefault\", $$v)},expression:\"formData.isDefault\"}})],1),_vm._v(\" \"),(_vm.status)?_c('tpl',{attrs:{\"width\":_vm.formData.width,\"height\":_vm.formData.height},on:{\"change\":_vm.getTplData}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-footer\"},[_c('cms-button',{directives:[{name:\"color\",rawName:\"v-color\"}],on:{\"click\":function($event){_vm.save(false)}}},[_vm._v(\"保存并新增\")]),_vm._v(\" \"),_c('cms-button',{directives:[{name:\"color\",rawName:\"v-color\"}],on:{\"click\":function($event){_vm.save(true)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('cms-button',{attrs:{\"type\":\"rest\"},on:{\"click\":_vm.rest}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-76382ae0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/platform/setting/waybillTemplate/save.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76382ae0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./save.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./save.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./save.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76382ae0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./save.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/platform/setting/waybillTemplate/save.vue\n// module id = null\n// module chunks = ","const stickSize = 8\nconst styleMapping = {\n  y: {\n    t: 'top',\n    m: 'marginTop',\n    b: 'bottom'\n  },\n  x: {\n    l: 'left',\n    m: 'marginLeft',\n    r: 'right'\n  }\n}\n\nexport default {\n  name: 'vue-drag-resize',\n  props: {\n    parentScaleX: {\n      type: Number, default: 1\n    },\n    parentScaleY: {\n      type: Number, default: 1\n    },\n    isActive: {\n      type: Boolean, default: false\n    },\n    preventActiveBehavior: {\n      type: Boolean, default: false\n    },\n    isDraggable: {\n      type: Boolean, default: true\n    },\n    isResizable: {\n      type: Boolean, default: true\n    },\n    aspectRatio: {\n      type: Boolean, default: false\n    },\n    parentLimitation: {\n      type: Boolean, default: false\n    },\n    parentW: {\n      type: Number,\n      default: 0,\n      validator: function(val) {\n        return val >= 0\n      }\n    },\n    parentH: {\n      type: Number,\n      default: 0,\n      validator: function(val) {\n        return val >= 0\n      }\n    },\n    w: {\n      type: Number,\n      default: 100,\n      validator: function(val) {\n        return val > 0\n      }\n    },\n    h: {\n      type: Number,\n      default: 100,\n      validator: function(val) {\n        return val > 0\n      }\n    },\n    minw: {\n      type: Number,\n      default: 50,\n      validator: function(val) {\n        return val > 0\n      }\n    },\n    minh: {\n      type: Number,\n      default: 50,\n      validator: function(val) {\n        return val > 0\n      }\n    },\n    x: {\n      type: Number,\n      default: 0,\n      validator: function(val) {\n        return typeof val === 'number'\n      }\n    },\n    y: {\n      type: Number,\n      default: 0,\n      validator: function(val) {\n        return typeof val === 'number'\n      }\n    },\n    z: {\n      type: [String, Number],\n      default: 'auto',\n      validator: function(val) {\n        const valid = (typeof val === 'string') ? val === 'auto' : val >= 0\n        return valid\n      }\n    },\n    dragHandle: {\n      type: String,\n      default: null\n    },\n    dragCancel: {\n      type: String,\n      default: null\n    },\n    sticks: {\n      type: Array,\n      default: function() {\n        return ['tl', 'tm', 'tr', 'mr', 'br', 'bm', 'bl', 'ml']\n      }\n    },\n    axis: {\n      type: String,\n      default: 'both',\n      validator: function(val) {\n        return ['x', 'y', 'both', 'none'].indexOf(val) !== -1\n      }\n    },\n    customData: {\n      type: Object,\n      default: function() {\n        return {}\n      }\n    },\n    value: {\n      type: Object,\n      default: function() {\n        return {}\n      }\n    }\n  },\n\n  data: function() {\n    return {\n      active: this.isActive,\n      rawWidth: this.w,\n      rawHeight: this.h,\n      rawLeft: this.x,\n      rawTop: this.y,\n      rawRight: null,\n      rawBottom: null,\n      zIndex: this.z,\n      aspectFactor: this.w / this.h,\n      parentWidth: null,\n      parentHeight: null,\n      left: this.x,\n      top: this.y,\n      right: null,\n      bottom: null,\n      minWidth: this.minw,\n      minHeight: this.minh\n    }\n  },\n\n  created: function() {\n    this.stickDrag = false\n    this.bodyDrag = false\n    this.stickAxis = null\n    this.stickStartPos = { mouseX: 0, mouseY: 0, x: 0, y: 0, w: 0, h: 0 }\n    this.limits = {\n      minLeft: null,\n      maxLeft: null,\n      minRight: null,\n      maxRight: null,\n      minTop: null,\n      maxTop: null,\n      minBottom: null,\n      maxBottom: null\n    }\n\n    this.currentStick = []\n  },\n\n  mounted: function() {\n    this.parentElement = this.$el.parentNode\n    this.parentWidth = this.parentW ? this.parentW : this.parentElement.clientWidth\n    this.parentHeight = this.parentH ? this.parentH : this.parentElement.clientHeight\n\n    this.rawRight = this.parentWidth - this.rawWidth - this.rawLeft\n    this.rawBottom = this.parentHeight - this.rawHeight - this.rawTop\n\n    document.documentElement.addEventListener('mousemove', this.move)\n    document.documentElement.addEventListener('mouseup', this.up)\n    document.documentElement.addEventListener('mouseleave', this.up)\n\n    document.documentElement.addEventListener('mousedown', this.deselect)\n\n    document.documentElement.addEventListener('touchmove', this.move, true)\n    document.documentElement.addEventListener('touchend touchcancel', this.up, true)\n    document.documentElement.addEventListener('touchstart', this.up, true)\n\n    if (this.dragHandle) {\n      const dragHandles = Array.prototype.slice.call(this.$el.querySelectorAll(this.dragHandle))\n      for (const i in dragHandles) {\n        dragHandles[i].setAttribute('data-drag-handle', this._uid)\n      }\n    }\n\n    if (this.dragCancel) {\n      const cancelHandles = Array.prototype.slice.call(this.$el.querySelectorAll(this.dragCancel))\n      for (const i in cancelHandles) {\n        cancelHandles[i].setAttribute('data-drag-cancel', this._uid)\n      }\n    }\n  },\n\n  beforeDestroy: function() {\n    document.documentElement.removeEventListener('mousemove', this.move)\n    document.documentElement.removeEventListener('mouseup', this.up)\n    document.documentElement.removeEventListener('mouseleave', this.up)\n\n    document.documentElement.removeEventListener('mousedown', this.deselect)\n\n    document.documentElement.removeEventListener('touchmove', this.move, true)\n    document.documentElement.removeEventListener('touchend touchcancel', this.up, true)\n    document.documentElement.removeEventListener('touchstart', this.up, true)\n  },\n\n  methods: {\n    deselect() {\n      if (this.preventActiveBehavior) {\n        return\n      }\n      this.active = false\n    },\n\n    move(ev) {\n      if (!this.stickDrag && !this.bodyDrag) {\n        return\n      }\n\n      ev.stopPropagation()\n\n      if (this.stickDrag) {\n        this.stickMove(ev)\n      }\n      if (this.bodyDrag) {\n        this.bodyMove(ev)\n      }\n    },\n\n    up(ev) {\n      if (this.stickDrag) {\n        this.stickUp(ev)\n      }\n      if (this.bodyDrag) {\n        this.bodyUp(ev)\n      }\n    },\n\n    bodyDown: function(ev) {\n      const target = ev.target || ev.srcElement\n\n      if (!this.preventActiveBehavior) {\n        this.active = true\n      }\n\n      if (ev.button && ev.button !== 0) {\n        return\n      }\n\n      this.$emit('clicked', ev)\n\n      if (!this.isDraggable || !this.active) {\n        return\n      }\n\n      if (this.dragHandle && target.getAttribute('data-drag-handle') !== this._uid.toString()) {\n        return\n      }\n\n      if (this.dragCancel && target.getAttribute('data-drag-cancel') === this._uid.toString()) {\n        return\n      }\n\n      this.bodyDrag = true\n\n      this.stickStartPos.mouseX = ev.pageX || ev.touches[0].pageX\n      this.stickStartPos.mouseY = ev.pageY || ev.touches[0].pageY\n\n      this.stickStartPos.left = this.left\n      this.stickStartPos.right = this.right\n      this.stickStartPos.top = this.top\n      this.stickStartPos.bottom = this.bottom\n\n      if (this.parentLimitation) {\n        this.limits = this.calcDragLimitation()\n      }\n    },\n\n    calcDragLimitation() {\n      const parentWidth = this.parentWidth\n      const parentHeight = this.parentHeight\n\n      return {\n        minLeft: 0,\n        maxLeft: parentWidth - this.width,\n        minRight: 0,\n        maxRight: parentWidth - this.width,\n        minTop: 0,\n        maxTop: parentHeight - this.height,\n        minBottom: 0,\n        maxBottom: parentHeight - this.height\n      }\n    },\n\n    bodyMove(ev) {\n      const stickStartPos = this.stickStartPos\n\n      const delta = {\n        x: (this.axis !== 'y' && this.axis !== 'none' ? stickStartPos.mouseX - (ev.pageX || ev.touches[0].pageX) : 0) / this.parentScaleX,\n        y: (this.axis !== 'x' && this.axis !== 'none' ? stickStartPos.mouseY - (ev.pageY || ev.touches[0].pageY) : 0) / this.parentScaleY\n      }\n\n      this.rawTop = stickStartPos.top - delta.y\n      this.rawBottom = stickStartPos.bottom + delta.y\n      this.rawLeft = stickStartPos.left - delta.x\n      this.rawRight = stickStartPos.right + delta.x\n      const obj = Object.assign({}, this.value, this.rect)\n      this.$emit('input', obj)\n      this.$emit('dragging', this.rect, this.customData)\n    },\n\n    bodyUp() {\n      this.bodyDrag = false\n      const obj = Object.assign({}, this.value, this.rect)\n      this.$emit('input', obj)\n      this.$emit('dragging', this.rect, this.customData)\n      this.$emit('dragstop', this.rect, this.customData)\n\n      this.stickStartPos = { mouseX: 0, mouseY: 0, x: 0, y: 0, w: 0, h: 0 }\n      this.limits = {\n        minLeft: null,\n        maxLeft: null,\n        minRight: null,\n        maxRight: null,\n        minTop: null,\n        maxTop: null,\n        minBottom: null,\n        maxBottom: null\n      }\n    },\n\n    stickDown: function(stick, ev) {\n      if (!this.isResizable || !this.active) {\n        return\n      }\n\n      this.stickDrag = true\n      this.stickStartPos.mouseX = ev.pageX || ev.touches[0].pageX\n      this.stickStartPos.mouseY = ev.pageY || ev.touches[0].pageY\n      this.stickStartPos.left = this.left\n      this.stickStartPos.right = this.right\n      this.stickStartPos.top = this.top\n      this.stickStartPos.bottom = this.bottom\n      this.currentStick = stick.split('')\n      this.stickAxis = null\n\n      switch (this.currentStick[0]) {\n        case 'b':\n          this.stickAxis = 'y'\n          break\n        case 't':\n          this.stickAxis = 'y'\n          break\n      }\n      switch (this.currentStick[1]) {\n        case 'r':\n          this.stickAxis = this.stickAxis === 'y' ? 'xy' : 'x'\n          break\n        case 'l':\n          this.stickAxis = this.stickAxis === 'y' ? 'xy' : 'x'\n          break\n      }\n\n      this.limits = this.calcResizeLimitation()\n    },\n\n    calcResizeLimitation() {\n      let minw = this.minWidth\n      let minh = this.minHeight\n      const aspectFactor = this.aspectFactor\n      const width = this.width\n      const height = this.height\n      const bottom = this.bottom\n      const top = this.top\n      const left = this.left\n      const right = this.right\n      const stickAxis = this.stickAxis\n\n      const parentLim = this.parentLimitation ? 0 : null\n\n      if (this.aspectRatio) {\n        if (minw / minh > aspectFactor) {\n          minh = minw / aspectFactor\n        } else {\n          minw = aspectFactor * minh\n        }\n      }\n\n      let limits = {\n        minLeft: parentLim,\n        maxLeft: left + (width - minw),\n        minRight: parentLim,\n        maxRight: right + (width - minw),\n        minTop: parentLim,\n        maxTop: top + (height - minh),\n        minBottom: parentLim,\n        maxBottom: bottom + (height - minh)\n      }\n\n      if (this.aspectRatio) {\n        const aspectLimits = {\n          minLeft: left - (Math.min(top, bottom) * aspectFactor) * 2,\n          maxLeft: left + ((((height - minh) / 2) * aspectFactor) * 2),\n\n          minRight: right - (Math.min(top, bottom) * aspectFactor) * 2,\n          maxRight: right + ((((height - minh) / 2) * aspectFactor) * 2),\n\n          minTop: top - (Math.min(left, right) / aspectFactor) * 2,\n          maxTop: top + ((((width - minw) / 2) / aspectFactor) * 2),\n\n          minBottom: bottom - (Math.min(left, right) / aspectFactor) * 2,\n          maxBottom: bottom + ((((width - minw) / 2) / aspectFactor) * 2)\n        }\n\n        if (stickAxis === 'x') {\n          limits = {\n            minLeft: Math.max(limits.minLeft, aspectLimits.minLeft),\n            maxLeft: Math.min(limits.maxLeft, aspectLimits.maxLeft),\n            minRight: Math.max(limits.minRight, aspectLimits.minRight),\n            maxRight: Math.min(limits.maxRight, aspectLimits.maxRight)\n          }\n        } else if (stickAxis === 'y') {\n          limits = {\n            minTop: Math.max(limits.minTop, aspectLimits.minTop),\n            maxTop: Math.min(limits.maxTop, aspectLimits.maxTop),\n            minBottom: Math.max(limits.minBottom, aspectLimits.minBottom),\n            maxBottom: Math.min(limits.maxBottom, aspectLimits.maxBottom)\n          }\n        }\n      }\n\n      return limits\n    },\n\n    stickMove(ev) {\n      const stickStartPos = this.stickStartPos\n\n      const delta = {\n        x: (stickStartPos.mouseX - (ev.pageX || ev.touches[0].pageX)) / this.parentScaleX,\n        y: (stickStartPos.mouseY - (ev.pageY || ev.touches[0].pageY)) / this.parentScaleY\n      }\n\n      switch (this.currentStick[0]) {\n        case 'b':\n          this.rawBottom = stickStartPos.bottom + delta.y\n          break\n        case 't':\n          this.rawTop = stickStartPos.top - delta.y\n          break\n      }\n\n      switch (this.currentStick[1]) {\n        case 'r':\n          this.rawRight = stickStartPos.right + delta.x\n          break\n        case 'l':\n          this.rawLeft = stickStartPos.left - delta.x\n          break\n      }\n      const obj = Object.assign({}, this.value, this.rect)\n      this.$emit('input', obj)\n      this.$emit('resizing', this.rect, this.customData)\n    },\n\n    stickUp() {\n      this.stickDrag = false\n      this.stickStartPos = {\n        mouseX: 0,\n        mouseY: 0,\n        x: 0,\n        y: 0,\n        w: 0,\n        h: 0\n      }\n      this.limits = {\n        minLeft: null,\n        maxLeft: null,\n        minRight: null,\n        maxRight: null,\n        minTop: null,\n        maxTop: null,\n        minBottom: null,\n        maxBottom: null\n      }\n      this.rawTop = this.top\n      this.rawBottom = this.bottom\n      this.rawLeft = this.left\n      this.rawRight = this.right\n\n      this.stickAxis = null\n      const obj = Object.assign({}, this.value, this.rect)\n      this.$emit('input', obj)\n      this.$emit('resizing', this.rect, this.$emit)\n      this.$emit('resizestop', this.rect, this.$emit)\n    },\n\n    aspectRatioCorrection() {\n      if (!this.aspectRatio) {\n        return\n      }\n\n      const bottom = this.bottom\n      const top = this.top\n      const left = this.left\n      const right = this.right\n      const width = this.width\n      const height = this.height\n      const aspectFactor = this.aspectFactor\n      const currentStick = this.currentStick\n\n      if (width / height > aspectFactor) {\n        const newWidth = aspectFactor * height\n\n        if (currentStick[1] === 'l') {\n          this.left = left + width - newWidth\n        } else {\n          this.right = right + width - newWidth\n        }\n      } else {\n        const newHeight = width / aspectFactor\n\n        if (currentStick[0] === 't') {\n          this.top = top + height - newHeight\n        } else {\n          this.bottom = bottom + height - newHeight\n        }\n      }\n    }\n  },\n\n  computed: {\n    style() {\n      return {\n        top: this.top + 'px',\n        left: this.left + 'px',\n        width: this.width + 'px',\n        height: this.height + 'px',\n        zIndex: this.zIndex\n      }\n    },\n\n    vdrStick() {\n      return (stick) => {\n        const stickStyle = {\n          width: `${stickSize / this.parentScaleX}px`,\n          height: `${stickSize / this.parentScaleY}px`\n        }\n        stickStyle[styleMapping.y[stick[0]]] = `${stickSize / this.parentScaleX / -2}px`\n        stickStyle[styleMapping.x[stick[1]]] = `${stickSize / this.parentScaleX / -2}px`\n        return stickStyle\n      }\n    },\n\n    width() {\n      return this.parentWidth - this.left - this.right\n    },\n\n    height() {\n      return this.parentHeight - this.top - this.bottom\n    },\n\n    rect() {\n      return {\n        left: Math.round(this.left),\n        top: Math.round(this.top),\n        width: Math.round(this.width),\n        height: Math.round(this.height)\n      }\n    }\n  },\n\n  watch: {\n    rawLeft(newLeft) {\n      const limits = this.limits\n      const stickAxis = this.stickAxis\n      const aspectFactor = this.aspectFactor\n      const aspectRatio = this.aspectRatio\n      const left = this.left\n      const bottom = this.bottom\n      const top = this.top\n\n      if (limits.minLeft !== null && newLeft < limits.minLeft) {\n        newLeft = limits.minLeft\n      } else if (limits.maxLeft !== null && limits.maxLeft < newLeft) {\n        newLeft = limits.maxLeft\n      }\n\n      if (aspectRatio && stickAxis === 'x') {\n        const delta = left - newLeft\n        this.rawTop = top - (delta / aspectFactor) / 2\n        this.rawBottom = bottom - (delta / aspectFactor) / 2\n      }\n\n      this.left = newLeft\n    },\n\n    rawRight(newRight) {\n      const limits = this.limits\n      const stickAxis = this.stickAxis\n      const aspectFactor = this.aspectFactor\n      const aspectRatio = this.aspectRatio\n      const right = this.right\n      const bottom = this.bottom\n      const top = this.top\n\n      if (limits.minRight !== null && newRight < limits.minRight) {\n        newRight = limits.minRight\n      } else if (limits.maxRight !== null && limits.maxRight < newRight) {\n        newRight = limits.maxRight\n      }\n\n      if (aspectRatio && stickAxis === 'x') {\n        const delta = right - newRight\n        this.rawTop = top - (delta / aspectFactor) / 2\n        this.rawBottom = bottom - (delta / aspectFactor) / 2\n      }\n\n      this.right = newRight\n    },\n\n    rawTop(newTop) {\n      const limits = this.limits\n      const stickAxis = this.stickAxis\n      const aspectFactor = this.aspectFactor\n      const aspectRatio = this.aspectRatio\n      const right = this.right\n      const left = this.left\n      const top = this.top\n\n      if (limits.minTop !== null && newTop < limits.minTop) {\n        newTop = limits.minTop\n      } else if (limits.maxTop !== null && limits.maxTop < newTop) {\n        newTop = limits.maxTop\n      }\n\n      if (aspectRatio && stickAxis === 'y') {\n        const delta = top - newTop\n        this.rawLeft = left - (delta * aspectFactor) / 2\n        this.rawRight = right - (delta * aspectFactor) / 2\n      }\n\n      this.top = newTop\n    },\n\n    rawBottom(newBottom) {\n      const limits = this.limits\n      const stickAxis = this.stickAxis\n      const aspectFactor = this.aspectFactor\n      const aspectRatio = this.aspectRatio\n      const right = this.right\n      const left = this.left\n      const bottom = this.bottom\n\n      if (limits.minBottom !== null && newBottom < limits.minBottom) {\n        newBottom = limits.minBottom\n      } else if (limits.maxBottom !== null && limits.maxBottom < newBottom) {\n        newBottom = limits.maxBottom\n      }\n\n      if (aspectRatio && stickAxis === 'y') {\n        const delta = bottom - newBottom\n        this.rawLeft = left - (delta * aspectFactor) / 2\n        this.rawRight = right - (delta * aspectFactor) / 2\n      }\n\n      this.bottom = newBottom\n    },\n\n    width() {\n      this.aspectRatioCorrection()\n    },\n\n    height() {\n      this.aspectRatioCorrection()\n    },\n\n    active(isActive) {\n      if (isActive) {\n        this.$emit('activated')\n      } else {\n        this.$emit('deactivated')\n      }\n    },\n\n    isActive(val) {\n      this.active = val\n    },\n\n    z(val) {\n      if (val >= 0 || val === 'auto') {\n        this.zIndex = val\n      }\n    },\n\n    aspectRatio(val) {\n      if (val) {\n        this.aspectFactor = this.width / this.height\n      }\n    },\n\n    minw(val) {\n      if (val > 0 && val <= this.width) {\n        this.minWidth = val\n      }\n    },\n\n    minh(val) {\n      if (val > 0 && val <= this.height) {\n        this.minHeight = val\n      }\n    },\n\n    x() {\n      if (this.stickDrag || this.bodyDrag) {\n        return\n      }\n      if (this.parentLimitation) {\n        this.limits = this.calcDragLimitation()\n      }\n\n      const delta = this.x - this.left\n      this.rawLeft = this.x\n      this.rawRight = this.right - delta\n    },\n\n    y() {\n      if (this.stickDrag || this.bodyDrag) {\n        return\n      }\n\n      if (this.parentLimitation) {\n        this.limits = this.calcDragLimitation()\n      }\n\n      const delta = this.y - this.top\n      this.rawTop = this.y\n      this.rawBottom = this.bottom - delta\n    },\n\n    w() {\n      if (this.stickDrag || this.bodyDrag) {\n        return\n      }\n\n      this.currentStick = ['m', 'r']\n      this.stickAxis = 'x'\n\n      if (this.parentLimitation) {\n        this.limits = this.calcResizeLimitation()\n      }\n\n      const delta = this.width - this.w\n      this.rawRight = this.right + delta\n    },\n\n    h() {\n      if (this.stickDrag || this.bodyDrag) {\n        return\n      }\n\n      this.currentStick = ['b', 'm']\n      this.stickAxis = 'y'\n\n      if (this.parentLimitation) {\n        this.limits = this.calcResizeLimitation()\n      }\n\n      const delta = this.height - this.h\n      this.rawBottom = this.bottom + delta\n    },\n\n    parentW(val) {\n      this.right = val - this.width - this.left\n      this.parentWidth = val\n    },\n\n    parentH(val) {\n      this.bottom = val - this.height - this.top\n      this.parentHeight = val\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/platform/setting/waybillTemplate/components/vue-drag-resize.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vdr\",class:_vm.active || _vm.isActive ? 'active' : 'inactive',style:(_vm.style),on:{\"mousedown\":function($event){$event.stopPropagation();$event.preventDefault();_vm.bodyDown($event)},\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();_vm.bodyDown($event)}}},[_vm._t(\"default\"),_vm._v(\" \"),_vm._l((_vm.sticks),function(stick){return _c('div',{staticClass:\"vdr-stick\",class:['vdr-stick-' + stick, _vm.isResizable ? '' : 'not-resizable'],style:(_vm.vdrStick(stick)),on:{\"mousedown\":function($event){$event.stopPropagation();$event.preventDefault();_vm.stickDown(stick, $event)},\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();_vm.stickDown(stick, $event)}}})})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-73d6f8eb\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./src/views/platform/setting/waybillTemplate/components/vue-drag-resize.html\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-73d6f8eb\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!./vue-drag-resize.css\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./vue-drag-resize.js\"\nimport __vue_script__ from \"!!babel-loader!./vue-drag-resize.js\"/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-73d6f8eb\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!./vue-drag-resize.html\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/platform/setting/waybillTemplate/components/vue-drag-resize.vue\n// module id = null\n// module chunks = ","<template>\n      <div>\n        <el-form-item label=\"模板选择项\">\n         <el-checkbox-group style=\"width:500px;\" v-model=\"checkItems\" @change=\"changeCheckItems\">\n             <el-checkbox :label=\"item.name\" v-for=\"item in filedItems\" :key=\"item.name\" style=\"margin-left:0; width:160px;margin-bottom:5px;\">\n               {{item.text}}\n             </el-checkbox>\n           </el-checkbox-group>\n           </el-form-item>\n      <div  class=\"canvas-warp\">\n         <div  class=\"canvas-tool\">\n            <cms-picture-zone v-model=\"backgroundImgId\" @change=\"getImg\"  :preview=\"false\">\n              <cms-button type='info' size='small'>更换模板背景图</cms-button>\n            </cms-picture-zone>\n           </div>\n         <div :style=\"canvasStyles\" class=\"canvas-inner\" id=\"canvasBody\">\n            <canvas id=\"tplCanvas\" width=\"870\" height=\"480\"></canvas>\n            <template v-for=\"(item,index) in canvasItems\">\n            <vue-drag-resize :isActive=\"true\"\n            :parentLimitation='true'\n            v-model=\"canvasItems[index]\"\n            :w=\"item.width\" :h=\"item.height\"\n            :x=\"item.left\"\n            :y=\"item.top\"\n            :minh=\"20\"\n            :key=\"item.id\"\n            >{{item.text}}</vue-drag-resize>\n            </template>\n           </div>\n           </div>\n      </div>\n</template>\n<script>\n import vueDragResize from './vue-drag-resize.vue'\nexport default {\n   data() {\n     return {\n       backgroundImgId: '',\n       filedItems: [\n         {\n           name: 'orederId',\n           text: '订单编号'\n         }, {\n           name: 'senderName',\n           text: '发件人姓名'\n         },\n         {\n           name: 'senderTel',\n           text: '发件人电话'\n         }, {\n           name: 'senderCompany',\n           text: '发件人公司'\n         }, {\n           name: 'senderAddress',\n           text: '发件人地址'\n         }, {\n           name: 'senderCode',\n           text: '发件人邮编'\n         }, {\n           name: 'desc',\n           text: '备注'\n         }, {\n           name: 'receiverName',\n           text: '收件人姓名'\n         }, {\n           name: 'receiverTel',\n           text: '收件人电话'\n         }, {\n           name: 'receiverAddress',\n           text: '收件人地址'\n         }, {\n           name: 'receiverCode',\n           text: '收件人邮编'\n         }\n       ],\n       canvasWidth: 200,\n       canvasHeight: 150,\n       checkItems: [],\n       canvasItems: [], // 添加进画布的集合\n       imageObject: null,\n       isEdit: false// 是否为修改\n     }\n   },\n   components: {\n     vueDragResize\n   },\n   props: {\n     width: {\n       type: [Number, String],\n       default: 200\n     },\n     height: {\n       type: [Number, String],\n       default: 150\n     },\n     imgData: {\n       type: Object,\n       default: function() {\n         return null\n       }\n     },\n     filedData: {\n       type: Array,\n       default: function() {\n         return []\n       }\n     }\n   },\n   watch: {\n     checkItems: {\n       handler(newVal, oldVal) {\n         const key = this.getArrDifference(oldVal, newVal)[0]\n         const obj = this.filedItems.filter((v) => { return v.name === key })[0]\n         const index = this.canvasItems.findIndex(v => { return v.id === key })\n         if (index > -1) {\n           this.canvasItems.splice(index, 1)\n         } else {\n           if (this.isEdit) {\n             this.canvasItems = Object.assign([], this.filedData)\n             this.isEdit = false\n           } else {\n             const canvasObj = {\n               id: obj.name,\n               text: obj.text,\n               left: 0,\n               top: 0,\n               width: 120,\n               height: 20\n             }\n             this.canvasItems.push(canvasObj)\n           }\n         }\n       }\n     },\n     canvasItems: {\n       handler() {\n         this.$emit('change', this.canvasItems, this.backgroundImgId)\n       },\n       deep: true\n     },\n     width() {\n       this.resizeCanvas(this.width, this.height)\n     },\n     height() {\n       this.resizeCanvas(this.width, this.height)\n     },\n     imgData: {\n       handler() {\n         if (this.imgData && this.imgData.id !== '') {\n           this.backgroundImgId = this.imgData.id\n           this.getImg([this.imgData])// 写入图片\n         } else {\n           this.backgroundImgId = ''\n         }\n       },\n       immediate: true\n\n     },\n     filedData: {\n       handler() {\n         if (this.filedData.length > 0) {\n           this.isEdit = true\n           const checkItems = this.filedData.map(v => v.id)\n           this.checkItems = Object.assign([], checkItems)\n         }\n       },\n       immediate: true\n     }\n   },\n   computed: {\n     canvasStyles() {\n       return {\n         width: this.width + 'mm',\n         height: this.height + 'mm'\n       }\n     }\n   },\n   methods: {\n     resizeCanvas(w, h) {\n       this.$nextTick(() => {\n         const body = document.getElementById('canvasBody')\n         const cvs = document.getElementById('tplCanvas')\n         if (body) {\n           cvs.width = body.clientWidth\n           cvs.height = body.clientHeight\n           var ctx = cvs.getContext('2d')\n           if (this.imageObject) {\n             ctx.drawImage(this.imageObject, 0, 0, cvs.width, cvs.height)// this即是imgObj,保持图片的原始大小：470*480\n           }\n         }\n       })\n     },\n     changeCheckItems(data) {\n       this.isEdit = false\n     },\n     getImg(data) {\n       if (data.length > 0) {\n         this.backgroundImgId = data[0].id\n       }\n       this.$nextTick(() => {\n         this.imageObject = new Image()\n         this.imageObject.src = this.$cms.filterUrl(data[0].url)\n         this.imageObject.onload = () => {\n           this.resizeCanvas(this.width, this.height)\n         }\n       })\n       this.$emit('change', this.canvasItems, this.backgroundImgId)\n     },\n     getArrDifference(arr1, arr2) { // 前后数组比较\n       return arr1.concat(arr2).filter(function(v, i, arr) {\n         return arr.indexOf(v) === arr.lastIndexOf(v)\n       })\n     }\n   }\n}\n</script>\n\n <style lang=\"scss\" scoped>\n.canvas-warp{\n   width: 100%;\n   min-height: 400px;\n   border: 1px solid #eee;\n}\n.canvas-tool{\n  width: 100%;\n  padding: 10px 10px 0 10px;\n  border-bottom: 1px solid #eee;\n}\n.canvas-inner{\n  position: relative;\n  margin: 0 auto;\n  overflow: hidden;\n  // background-size: 100% 100%;\n  background-color: #fff;\n  border: 1px solid #666\n}\n#tplCanvas{\n     height: inherit;\n       background: -webkit-linear-gradient(top, transparent 10px, #666 10px),-webkit-linear-gradient(left, transparent 10px, #666 10px);\n        background-size: 11px 11px;\n}\n\n</style>\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/platform/setting/waybillTemplate/components/tpl.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form-item',{attrs:{\"label\":\"模板选择项\"}},[_c('el-checkbox-group',{staticStyle:{\"width\":\"500px\"},on:{\"change\":_vm.changeCheckItems},model:{value:(_vm.checkItems),callback:function ($$v) {_vm.checkItems=$$v},expression:\"checkItems\"}},_vm._l((_vm.filedItems),function(item){return _c('el-checkbox',{key:item.name,staticStyle:{\"margin-left\":\"0\",\"width\":\"160px\",\"margin-bottom\":\"5px\"},attrs:{\"label\":item.name}},[_vm._v(\"\\n         \"+_vm._s(item.text)+\"\\n       \")])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"canvas-warp\"},[_c('div',{staticClass:\"canvas-tool\"},[_c('cms-picture-zone',{attrs:{\"preview\":false},on:{\"change\":_vm.getImg},model:{value:(_vm.backgroundImgId),callback:function ($$v) {_vm.backgroundImgId=$$v},expression:\"backgroundImgId\"}},[_c('cms-button',{attrs:{\"type\":\"info\",\"size\":\"small\"}},[_vm._v(\"更换模板背景图\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"canvas-inner\",style:(_vm.canvasStyles),attrs:{\"id\":\"canvasBody\"}},[_c('canvas',{attrs:{\"id\":\"tplCanvas\",\"width\":\"870\",\"height\":\"480\"}}),_vm._v(\" \"),_vm._l((_vm.canvasItems),function(item,index){return [_c('vue-drag-resize',{key:item.id,attrs:{\"isActive\":true,\"parentLimitation\":true,\"w\":item.width,\"h\":item.height,\"x\":item.left,\"y\":item.top,\"minh\":20},model:{value:(_vm.canvasItems[index]),callback:function ($$v) {_vm.$set(_vm.canvasItems, index, $$v)},expression:\"canvasItems[index]\"}},[_vm._v(_vm._s(item.text))])]})],2)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6df7a769\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/platform/setting/waybillTemplate/components/tpl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6df7a769\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./tpl.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tpl.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tpl.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6df7a769\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./tpl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6df7a769\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/platform/setting/waybillTemplate/components/tpl.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}