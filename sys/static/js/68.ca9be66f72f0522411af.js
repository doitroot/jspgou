webpackJsonp([68],{"XCj+":function(t,a){},oNaM:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("aA9S"),s=e.n(i),n=e("2+eX"),r=e("5HJ5"),l=e("x1ym"),o=e("lcoF"),c={size:10,page:1,setupType:2},d={setupType:2,interval:"",alias:"",sortNum:""},u={mixins:[r.a,o.a],data:function(){return{queryParams:s()({},c),formData:s()({},d),addShow:!1,titleName:"区间新增",rules:{interval:[l.a.required("请填写区间"),l.a.custom(function(t,a,e){if(""===a)e(new Error("请填写区间"));else if(a.indexOf("/")<0)e(new Error("请使用/分隔"));else{var i=/^\d{0,8}$/,s=a.split("/");s.length<=2?i.test(s[0])?s.length>1&&!i.test(s[1])?e(new Error("最大值最大长度为8")):parseInt(s[0])>parseInt(s[1])?e(new Error("最小值不能大于最大值")):e():e(new Error("最小值最大长度为8")):e(new Error("格式不正确"))}})],alias:[l.a.required("请填写区间别名")],sortNum:[l.a.required("请输入排序值"),l.a.number()]}}},watch:{"formData.interval":{handler:function(t){t&&""!==t&&t.indexOf("/")!==t.length-1&&(t=t.replace("/","-")),this.formData.alias=t}}},methods:{subData:function(){var t=this;this.$refs.form.validate(function(a){a&&("区间新增"===t.titleName?t.save():t.update())})},cancel:function(){this.addShow=!1,this.formData=s()({},c),this.$refs.form.clearValidate()},add:function(t){this.titleName="add"===t?"区间新增":"区间修改",this.addShow=!0},delData:function(t){this.deleteTableData(n.r,t)},save:function(){var t=this,a=this.$cms.deepCopy(this.formData);Object(n.u)(a).then(function(a){200===a.code?(t.$successMessage("新增成功"),t.cancel(),t.getList()):t.$errorMessage(a.message)})},update:function(){var t=this,a=this.$cms.deepCopy(this.formData);Object(n.v)(a).then(function(a){200===a.code?(t.$successMessage("修改成功"),t.cancel(),t.getList()):t.$errorMessage(a.message)})},getData:function(t){var a=this;Object(n.s)({id:t}).then(function(t){200===t.code&&(a.formData={id:t.data.id,setupType:2,interval:t.data.intervalMax?t.data.intervalMin+"/"+t.data.intervalMax:t.data.intervalMin+"/",alias:t.data.alias,sortNum:t.data.sortNum},a.add("update"))})},getList:function(){this.getTableData(n.t,this.queryParams)}},created:function(){this.getList()}},m={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("section",{staticClass:"cms-batch"},[e("cms-button",{attrs:{icon:"add",type:"success",size:"small"},on:{click:function(a){t.add("add")}}},[t._v("新增")])],1),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataTable",attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.getCheckItems,"row-click":t.checkRows}},[e("el-table-column",{attrs:{prop:"id",label:"序号",width:"60",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"区间","min-width":"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.intervalMax?e("span",[t._v(t._s(a.row.intervalMin+"/"+a.row.intervalMax))]):e("span",[t._v(t._s(a.row.intervalMin)+"或以上")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"alias",label:"别名","min-width":"120px",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"sortNum",label:"排序值","min-width":"120px",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作选项",width:"250",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return e("div",{},[e("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(e){t.getData(a.row.id)}}},[t._v("编辑")]),t._v(" "),e("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(e){t.delData(a.row.id)}}},[t._v("删除")])],1)}}])})],1),t._v(" "),e("cms-pagination",{attrs:{total:t.total},on:{change:t.getPage}}),t._v(" "),e("el-dialog",{attrs:{title:t.titleName,visible:t.addShow,width:"600px","before-close":t.cancel},on:{"update:visible":function(a){t.addShow=a}}},[e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.formData,"label-width":"90px"}},[e("el-form-item",{attrs:{prop:"interval",label:"区间:"}},[e("el-input",{attrs:{maxlength:"17"},model:{value:t.formData.interval,callback:function(a){t.$set(t.formData,"interval",a)},expression:"formData.interval"}}),t._v(" "),e("div",{staticClass:"gray"},[t._v("格式为：最小值 / 最大值，即大于等于最小值，小于等于最大值，注：最大值可以为空，即表示不限制最大值")])],1),t._v(" "),e("el-form-item",{attrs:{prop:"alias",label:"别名:"}},[e("el-input",{attrs:{maxlength:"17"},model:{value:t.formData.alias,callback:function(a){t.$set(t.formData,"alias",a)},expression:"formData.alias"}}),t._v(" "),e("div",{staticClass:"gray"},[t._v("别名即作用于显示在相应统计图表中的X轴或Y轴")])],1),t._v(" "),e("el-form-item",{attrs:{prop:"sortNum",label:"排序值:"}},[e("el-input",{attrs:{maxlength:"2"},model:{value:t.formData.sortNum,callback:function(a){t.$set(t.formData,"sortNum",a)},expression:"formData.sortNum"}}),t._v(" "),e("div",{staticClass:"gray"},[t._v("排序影响在统计图表中X轴或Y轴的顺序，值越小越靠前")])],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.subData}},[t._v("确认")]),t._v(" "),e("el-button",{attrs:{size:"mini"},on:{click:t.cancel}},[t._v("关闭")])],1)],1)],1)},staticRenderFns:[]},f=e("C7Lr")(u,m,!1,null,null,null).exports,v={size:10,page:1,setupType:1},p={setupType:1,interval:"",alias:"",sortNum:""},h={mixins:[r.a,o.a],data:function(){return{queryParams:s()({},v),formData:s()({},p),addShow:!1,titleName:"区间新增",rules:{interval:[l.a.required("请填写区间"),l.a.custom(function(t,a,e){if(""===a)e(new Error("请填写区间"));else if(a.indexOf("/")<0)e(new Error("请使用/分隔"));else{var i=/^\d{0,8}$/,s=a.split("/");s.length<=2?i.test(s[0])?s.length>1&&!i.test(s[1])?e(new Error("最大值最大长度为8")):parseInt(s[0])>parseInt(s[1])?e(new Error("最小值不能大于最大值")):e():e(new Error("最小值最大长度为8")):e(new Error("格式不正确"))}})],alias:[l.a.required("请填写区间别名")],sortNum:[l.a.required("请输入排序值"),l.a.number()]}}},watch:{"formData.interval":{handler:function(t){t&&""!==t&&t.indexOf("/")!==t.length-1&&(t=t.replace("/","-")),this.formData.alias=t}}},methods:{subData:function(){var t=this;this.$refs.form.validate(function(a){a&&("区间新增"===t.titleName?t.save():t.update())})},cancel:function(){this.addShow=!1,this.formData=s()({},v),this.$refs.form.clearValidate()},add:function(t){this.titleName="add"===t?"区间新增":"区间修改",this.addShow=!0},delData:function(t){this.deleteTableData(n.r,t)},save:function(){var t=this;Object(n.u)(this.formData).then(function(a){200===a.code?(t.$successMessage("新增成功"),t.cancel(),t.getList()):t.$errorMessage(a.message)})},update:function(){var t=this,a=this.$cms.deepCopy(this.formData);Object(n.v)(a).then(function(a){200===a.code?(t.$successMessage("修改成功"),t.cancel(),t.getList()):t.$errorMessage(a.message)})},getData:function(t){var a=this;Object(n.s)({id:t}).then(function(t){200===t.code&&(a.formData={id:t.data.id,setupType:1,interval:t.data.intervalMax?t.data.intervalMin+"/"+t.data.intervalMax:t.data.intervalMin+"/",alias:t.data.alias,sortNum:t.data.sortNum},a.add("update"))})},getList:function(){this.getTableData(n.t,this.queryParams)}},created:function(){this.getList()}},b={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("cms-sticky",[e("section",{staticClass:"cms-batch"},[e("cms-button",{attrs:{icon:"add",type:"success",size:"small"},on:{click:function(a){t.add("add")}}},[t._v("新增")])],1)]),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataTable",attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.getCheckItems,"row-click":t.checkRows}},[e("el-table-column",{attrs:{prop:"id",label:"序号",width:"60",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"区间","min-width":"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.intervalMax?e("span",[t._v(t._s(a.row.intervalMin+"/"+a.row.intervalMax))]):e("span",[t._v(t._s(a.row.intervalMin)+"或以上")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"alias",label:"别名","min-width":"120px",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"sortNum",label:"排序值","min-width":"120px",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作选项",width:"250",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return e("div",{},[e("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(e){t.getData(a.row.id)}}},[t._v("编辑")]),t._v(" "),e("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(e){t.delData(a.row.id)}}},[t._v("删除")])],1)}}])})],1),t._v(" "),e("cms-pagination",{attrs:{total:t.total},on:{change:t.getPage}}),t._v(" "),e("el-dialog",{attrs:{title:t.titleName,visible:t.addShow,width:"600px","before-close":t.cancel,validate:t.subData},on:{"update:visible":function(a){t.addShow=a}}},[e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.formData,"label-width":"90px"}},[e("el-form-item",{attrs:{prop:"interval",label:"区间:"}},[e("el-input",{attrs:{maxlength:"17"},model:{value:t.formData.interval,callback:function(a){t.$set(t.formData,"interval",a)},expression:"formData.interval"}}),t._v(" "),e("div",{staticClass:"gray"},[t._v("格式为：最小值 / 最大值，即大于等于最小值，小于等于最大值，注：最大值可以为空，即表示不限制最大值")])],1),t._v(" "),e("el-form-item",{attrs:{prop:"alias",label:"别名:"}},[e("el-input",{attrs:{maxlength:"17"},model:{value:t.formData.alias,callback:function(a){t.$set(t.formData,"alias",a)},expression:"formData.alias"}}),t._v(" "),e("div",{staticClass:"gray"},[t._v("别名即作用于显示在相应统计图表中的X轴或Y轴")])],1),t._v(" "),e("el-form-item",{attrs:{prop:"sortNum",label:"排序值:"}},[e("el-input",{attrs:{maxlength:"2"},model:{value:t.formData.sortNum,callback:function(a){t.$set(t.formData,"sortNum",a)},expression:"formData.sortNum"}}),t._v(" "),e("div",{staticClass:"gray"},[t._v("排序影响在统计图表中X轴或Y轴的顺序，值越小越靠前")])],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.subData}},[t._v("确认")]),t._v(" "),e("el-button",{attrs:{size:"mini"},on:{click:t.cancel}},[t._v("关闭")])],1)],1)],1)},staticRenderFns:[]},g={name:"sectionLayOut",components:{depth:f,price:e("C7Lr")(h,b,!1,null,null,null).exports},data:function(){return{activeName:"price"}}},_={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cms-form-layout"},[e("el-tabs",{model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"价格区间",name:"price"}},[e("cms-prompt",[e("li",[t._v("价格区间作用于交易分析中的订单金额分布")])]),t._v(" "),e("price")],1),t._v(" "),e("el-tab-pane",{attrs:{label:"访问深度",name:"depth"}},[e("cms-prompt",{staticStyle:{height:"41px"}},[e("li",[t._v("访问深度作用于流量分析中的访问深度")])]),t._v(" "),e("depth")],1)],1)],1)},staticRenderFns:[]};var w=e("C7Lr")(g,_,!1,function(t){e("XCj+")},null,null);a.default=w.exports}});
//# sourceMappingURL=68.ca9be66f72f0522411af.js.map