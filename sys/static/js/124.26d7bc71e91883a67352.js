webpackJsonp([124],{Y4RZ:function(e,t){},xc5r:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("aA9S"),n=a.n(s),i=a("Jpdf"),l=a.n(i),d=a("x1ym"),u=a("lcoF"),m=a("PUYW"),r=a("MGbd"),c=a("+FNC"),o={status:"",areaCode:"",tagId:"",sexDictCode:"",clientDictCode:"",languageDictCode:"",menuGroupName:"",menuGroupType:2,menuList:[{menuName:"菜单名称",childs:[{menuName:"子菜单名称",menuType:"",mediaId:""}]}]},p={name:"wxMenuManageSave",mixins:[u.a],components:{mediaWarpper:m.a,keyWordZone:r.a,draggable:l.a},data:function(){return{formData:n()({},o),selectedMenuIndex:"",selectedSubMenuIndex:"",menuNameBounds:!1,setTagsVisible:!1,material:{title:"",linkUrl:"",thumb_url:""},saveRules:{menuGroupName:[d.a.required("菜单组名称不能为空")]},areaInfo:[],sex:[{value:"3",label:"不限性别"},{value:"1",label:"男"},{value:"2",label:"女"}],client:[{value:"3",label:"不限客户端"},{value:"1",label:"IOS"},{value:"2",label:"安卓"}],languageData:[{value:"1",label:"简体中文"},{value:"2",label:"繁体中文TW"},{value:"3",label:"繁体中文HK"},{value:"4",label:"英文"},{value:"5",label:"印尼"},{value:"6",label:"马来"},{value:"7",label:"西班牙"},{value:"8",label:"韩国"},{value:"9",label:"意大利"},{value:"10",label:"日本"},{value:"11",label:"波兰"},{value:"12",label:"葡萄牙"},{value:"13",label:"俄国"},{value:"14",label:"泰文"},{value:"15",label:"越南"},{value:"16",label:"阿拉伯语"},{value:"17",label:"北印度"},{value:"18",label:"希伯来"},{value:"19",label:"土耳其"},{value:"20",label:"德语"},{value:"21",label:"法语"}],fansTagItems:[],fansTotal:0,tag_id:"",choiceType:""}},mounted:function(){document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()}},methods:{selMediaData:function(e){this.formData.menuList[e].mediaData=null,this.formData.menuList[e].keyword=[],this.formData.menuList[e].linkUrl=""},selMediaData2:function(e){this.formData.menuList[this.selectedMenuIndex].childs[e].mediaData=null,this.formData.menuList[this.selectedMenuIndex].childs[e].keyword=[],this.formData.menuList[this.selectedMenuIndex].childs[e].linkUrl=""},datadragEnd:function(e){e.preventDefault()},save:function(){this.update("save")},getFormData:function(e){var t=this;this.loading=!0,Object(c.k)({id:e}).then(function(e){var a=e.data;""!==e.data.tagId&&(e.data.tagId=parseInt(e.data.tagId)),a.menuList.forEach(function(e){e.childs&&e.childs.length>0?e.childs.forEach(function(e){"media_id"===e.menuType?(e.mediaData=e.material,e.mediaId=e.material.mediaId):"view"===e.menuType||("click"===e.menuType?(e.keyword=[e.wechatReplyContent],e.menuKey=e.wechatReplyContent.id):e.menuType)}):"media_id"===e.menuType?(e.mediaData=e.material,e.mediaId=e.material.mediaId):"view"===e.menuType||("click"===e.menuType?(e.keyword=[e.wechatReplyContent],e.menuKey=e.wechatReplyContent.id):e.menuType)}),e.data.area&&t.getArea(e.data.area),t.formData=n()(o,a),t.formData.status=a.status,t.loading=!1})},getArea:function(e){e.parent&&(e.parent.parent&&this.areaInfo.push(e.parent.parent.areaCode),this.areaInfo.push(e.parent.areaCode)),this.areaInfo.push(e.areaCode)},update:function(e){var t=this;this.$refs.form.validate(function(a,s){if(a){var n={id:t.$route.query.id,menuGroupType:2,areaCode:t.formData.areaCode,tagId:t.formData.tagId,sexDictCode:t.formData.sexDictCode,clientDictCode:t.formData.clientDictCode,languageDictCode:t.formData.languageDictCode,status:t.formData.status,menuGroupName:t.formData.menuGroupName,menuList:[]},i=!0;if(t.formData.menuList.forEach(function(e,a){e.childs&&e.childs.length>0?(""===e.menuName&&(t.$errorMessage("请填写菜单名称"),t.selectedMenu(a),i=!1),e.childs.forEach(function(e,s){""===e.menuName&&(t.$errorMessage("请填写菜单名称"),t.selectedMenuIndex=a,t.selectedSubMenu(s),i=!1),"click"===e.menuType?e.menuKey&&""!==e.menuKey||(t.$errorMessage("请选择关键词回复内容"),t.selectedMenuIndex=a,t.selectedSubMenu(s),i=!1):"media_id"===e.menuType?e.mediaId&&""!==e.mediaId||(t.$errorMessage("请选择回复素材"),t.selectedMenuIndex=a,t.selectedSubMenu(s),i=!1):"view"===e.menuType?e.linkUrl&&""!==e.linkUrl||(t.$errorMessage("请填写跳转url"),t.selectedMenuIndex=a,t.selectedSubMenu(s),i=!1):"miniprogram"===e.menuType&&(e.linkUrl&&""!==e.linkUrl||(t.$errorMessage("请填写小程序跳转url"),t.selectedMenuIndex=a,t.selectedSubMenu(s),i=!1),e.miniprogramAppid&&""!==e.miniprogramAppid||(t.$errorMessage("请填写小程序appid"),t.selectedMenuIndex=a,t.selectedSubMenu(s),i=!1),e.miniprogramPagepath&&""!==e.miniprogramPagepath||(t.$errorMessage("请填写小程序页面路径"),t.selectedMenuIndex=a,t.selectedSubMenu(s),i=!1)),delete e.mediaData,delete e.keyword,delete e.material,delete e.wechatReplyContent,delete e.id}),delete e.menuType,delete e.menuKey,delete e.mediaId,delete e.linkUrl,delete e.miniprogramAppid,delete e.miniprogramPagepath,delete e.choiceType):"click"===e.menuType?e.menuKey&&""!==e.menuKey||(t.$errorMessage("请选择关键词回复内容"),t.selectedMenu(a),i=!1):"media_id"===e.menuType?e.mediaId&&""!==e.mediaId||(t.$errorMessage("请选择回复素材"),t.selectedMenu(a),i=!1):"view"===e.menuType?e.linkUrl&&""!==e.linkUrl||(t.$errorMessage("请填写跳转url"),t.selectedMenu(a),i=!1):"miniprogram"===e.menuType&&(e.linkUrl&&""!==e.linkUrl||(t.$errorMessage("请填写小程序跳转url"),t.selectedMenu(a),i=!1),e.miniprogramAppid&&""!==e.miniprogramAppid||(t.$errorMessage("请填写小程序appid"),t.selectedMenu(a),i=!1),e.miniprogramPagepath&&""!==e.miniprogramPagepath||(t.$errorMessage("请填写小程序页面路径"),t.selectedMenu(a),i=!1)),delete e.mediaData,delete e.keyword,delete e.material,delete e.wechatReplyContent,delete e.id}),!i)return;n.menuList=t.formData.menuList,"save"===e?(delete n.id,t.saveForm(c.m,n,!0,"/wechatMenuMange/list","list")):t.updateForm(c.n,n,"/wechatMenuMange/list","list")}})},selectedMenu:function(e,t){this.selectedSubMenuIndex="",this.selectedMenuIndex=e;var a=this.formData.menuList[this.selectedMenuIndex];void 0!==a.media_id&&""!==a.media_id&&"media_id"===this.selectedMenuType(a)&&this.getMaterial(a.media_id),this.checkMenuName(a.menuName)},selectedSubMenu:function(e,t){this.selectedSubMenuIndex=e;var a=this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex];void 0!==a.media_id&&""!==a&&"media_id"===this.selectedMenuType(a)&&this.getMaterial(a.media_id),this.checkMenuName(a.menuName)},getMediaData:function(e){this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex].mediaData=e[0],this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex].mediaId=e[0].mediaId},getMediaDataTwo:function(e){this.formData.menuList[this.selectedMenuIndex].mediaData=e[0],this.formData.menuList[this.selectedMenuIndex].mediaId=e[0].mediaId},getKeywordTwo:function(e){this.formData.menuList[this.selectedMenuIndex].keyword=e,this.formData.menuList[this.selectedMenuIndex].menuKey=e[0].id},getKeyword:function(e){this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex].keyword=e,this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex].menuKey=e[0].id},getAreaInfo:function(e){this.formData.areaCode=e[0].code,this.formData.provinceName=e[0].areaName,e.length>1&&(this.formData.areaCode=e[1].code,this.formData.cityName=e[1].areaName),e.length>2&&(this.formData.areaCode=e[2].code,this.formData.areaName=e[2].areaName)},getFansTags:function(){var e=this;Object(c.z)().then(function(t){e.fansTagItems=t.data.tagList,e.fansTotal=t.data.fansSize})},selectedMenuLevel:function(){return""!==this.selectedMenuIndex&&""===this.selectedSubMenuIndex?1:""!==this.selectedSubMenuIndex?2:0},selectedMenuType:function(e){var t=["","media_id","view","click","click","click","click","click","click","miniprogram"];return void 0===e.choiceType&&(e.choiceType=1),e.menuType=t[parseInt(e.choiceType)],t[parseInt(e.choiceType)]},addMenu:function(e){1===e&&this.formData.menuList.length<3&&(this.formData.menuList.push({menuType:"media_id",menuName:"菜单名称",childs:[],linkUrl:"",choiceType:1,mediaData:null,keyword:[]}),this.selectedMenuIndex=this.formData.menuList.length-1,this.selectedSubMenuIndex=""),2===e&&this.formData.menuList[this.selectedMenuIndex].childs.length<5&&(this.formData.menuList[this.selectedMenuIndex].childs.push({menuType:"media_id",menuName:"子菜单名称",linkUrl:"",choiceType:1,mediaData:null,keyword:[]}),this.selectedSubMenuIndex=this.formData.menuList[this.selectedMenuIndex].childs.length-1)},delMenu:function(){var e=this;1===this.selectedMenuLevel()?this.$confirm("删除后菜单下设置的内容将被删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){0===e.selectedMenuIndex?(e.formData.menuList.splice(e.selectedMenuIndex,1),e.selectedMenuIndex=0):(e.formData.menuList.splice(e.selectedMenuIndex,1),e.selectedMenuIndex-=1),0===e.formData.menuList.length&&(e.selectedMenuIndex="")}):2===this.selectedMenuLevel()&&this.$confirm("确定要删除此子菜单吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){0===e.selectedSubMenuIndex?(e.formData.menuList[e.selectedMenuIndex].childs.splice(e.selectedSubMenuIndex,1),e.selectedSubMenuIndex=0):(e.formData.menuList[e.selectedMenuIndex].childs.splice(e.selectedSubMenuIndex,1),e.selectedSubMenuIndex-=1),0===e.formData.menuList[e.selectedMenuIndex].childs.length&&(e.selectedSubMenuIndex="")})},checkMenuName:function(e){1===this.selectedMenuLevel()&&this.getMenuNameLen(e)<=8?this.menuNameBounds=!1:2===this.selectedMenuLevel()&&this.getMenuNameLen(e)<=16?this.menuNameBounds=!1:this.menuNameBounds=!0},getMenuNameLen:function(e){for(var t=0,a=0;a<e.length;a++){null!=e.charAt(a).match(/[^\x00-\xff]/gi)?t+=2:t+=1}return t},getMaterial:function(e){this.setTagsVisible=!0}},created:function(){this.type=this.$route.query.type,this.getFormData(this.$route.query.id),this.getFansTags()}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[s("cms-breadcrumb",{attrs:{to:"/wechatMenuMange/list"},on:{click:e.rest}},["save"===e.type?s("li",[e._v("个性化菜单-新增")]):s("li",[e._v(e._s(e.$route.name))])]),e._v(" "),s("div",{staticClass:"cms-form-layout"},[s("cms-prompt",{attrs:{collapse:"true"}},[s("li",[e._v(" 带 * 为必填项")]),e._v(" "),s("li",[e._v("保存按钮即保存当前编辑数据但不会推送至微信平台；保存并发布即保存且推送至微信平台")])]),e._v(" "),s("el-form",{ref:"form",attrs:{rules:e.saveRules,model:e.formData,"label-width":"210px"}},[s("el-form-item",{attrs:{label:"菜单组名称",prop:"menuGroupName",error:e.errorMessage.menuGroupName}},[s("el-input",{ref:"first",staticStyle:{width:"572px"},attrs:{maxlength:"8",autofocus:!0},model:{value:e.formData.menuGroupName,callback:function(t){e.$set(e.formData,"menuGroupName",t)},expression:"formData.menuGroupName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"显示对象"}},[s("el-select",{staticClass:"select_width",attrs:{placeholder:"请选择性别"},model:{value:e.formData.sexDictCode,callback:function(t){e.$set(e.formData,"sexDictCode",t)},expression:"formData.sexDictCode"}},e._l(e.sex,function(e){return s("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),s("el-select",{staticClass:"select_width",attrs:{placeholder:"请选择粉丝标签"},model:{value:e.formData.tagId,callback:function(t){e.$set(e.formData,"tagId",t)},expression:"formData.tagId"}},e._l(e.fansTagItems,function(e){return s("el-option",{key:e.id,attrs:{label:e.tagName,value:e.id}})}),1),e._v(" "),s("el-select",{staticClass:"select_width",attrs:{placeholder:"请选择客户端"},model:{value:e.formData.clientDictCode,callback:function(t){e.$set(e.formData,"clientDictCode",t)},expression:"formData.clientDictCode"}},e._l(e.client,function(e){return s("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),s("div"),e._v(" "),s("el-select",{staticClass:"select_width",staticStyle:{"margin-top":"5px"},attrs:{placeholder:"请选择语言"},model:{value:e.formData.languageDictCode,callback:function(t){e.$set(e.formData,"languageDictCode",t)},expression:"formData.languageDictCode"}},e._l(e.languageData,function(e){return s("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),s("cms-area",{staticStyle:{display:"inline-block","margin-top":"5px"},attrs:{data:e.areaInfo},on:{change:e.getAreaInfo}})],1),e._v(" "),s("div",{staticClass:"content",staticStyle:{margin:"20px 0px 0 110px"}},[s("div",{attrs:{id:"app-menu"}},[s("div",{staticClass:"weixin-preview"},[s("div",{staticClass:"weixin-hd"},[s("div",{staticClass:"weixin-title"},[e._v(e._s(e.formData.menuGroupName))])]),e._v(" "),s("div",{staticClass:"weixin-bd"},[s("ul",{staticClass:"weixin-menu",attrs:{id:"weixin-menu"}},[s("draggable",{attrs:{options:{animation:500}},on:{update:e.datadragEnd},model:{value:e.formData.menuList,callback:function(t){e.$set(e.formData,"menuList",t)},expression:"formData.menuList"}},e._l(e.formData.menuList,function(t,a){return s("li",{key:a,staticClass:"menu-item drag-item",class:{current:e.selectedMenuIndex===a&&1==e.selectedMenuLevel()},on:{click:function(t){e.selectedMenu(a,t)}}},[s("div",{staticClass:"menu-item-title"},[s("i",{staticClass:"icon_menu_dot"}),e._v(" "),s("span",[e._v(e._s(t.menuName))])]),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.selectedMenuIndex===a,expression:"selectedMenuIndex===i"}],staticClass:"weixin-sub-menu"},[s("draggable",{attrs:{options:{animation:500}},on:{update:e.datadragEnd},model:{value:t.childs,callback:function(a){e.$set(t,"childs",a)},expression:"btn.childs"}},e._l(t.childs,function(t,a){return s("li",{key:a,staticClass:"menu-sub-item drag-item",class:{current:e.selectedSubMenuIndex===a&&2==e.selectedMenuLevel()},on:{click:function(t){t.stopPropagation(),e.selectedSubMenu(a,t)}}},[s("div",{staticClass:"menu-item-title"},[s("span",[e._v(e._s(t.menuName))])])])}),0),e._v(" "),t.childs.length<5?s("li",{staticClass:"menu-sub-item",on:{click:function(t){t.stopPropagation(),e.addMenu(2)}}},[s("div",{staticClass:"menu-item-title"},[s("i",{staticClass:"icon14_menu_add"})])]):e._e(),e._v(" "),s("i",{staticClass:"menu-arrow arrow_out"}),e._v(" "),s("i",{staticClass:"menu-arrow arrow_in"})],1)])}),0),e._v(" "),e.formData.menuList.length<3?s("li",{staticClass:"menu-item",on:{click:function(t){e.addMenu(1)}}},[s("i",{staticClass:"icon14_menu_add"})]):e._e()],1)])]),e._v(" "),1==e.selectedMenuLevel()?s("div",{staticClass:"weixin-menu-detail"},[s("div",{staticClass:"menu-input-group",staticStyle:{"border-bottom":"2px #e8e8e8 solid"}},[s("div",{staticClass:"menu-name"},[e._v(e._s(e.formData.menuList[e.selectedMenuIndex].menuName))]),e._v(" "),s("div",{staticClass:"menu-del",on:{click:e.delMenu}},[e._v("删除菜单")])]),e._v(" "),s("div",{staticClass:"weixin-menu-detail"},[s("div",{staticClass:"menu-label "},[e._v("菜单组名称")]),e._v(" "),s("div",{staticClass:"menu-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].menuName,expression:"formData.menuList[selectedMenuIndex].menuName"}],staticClass:"menu-input-text",attrs:{type:"text",name:"menuName",maxlength:"8",placeholder:"请输入菜单名称"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].menuName},on:{input:[function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex],"menuName",t.target.value)},function(t){e.checkMenuName(e.formData.menuList[e.selectedMenuIndex].menuName)}]}}),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.menuNameBounds,expression:"menuNameBounds"}],staticClass:"menu-tips",staticStyle:{color:"#e15f63"}},[e._v("字数超过上限")]),e._v(" "),s("p",{staticClass:"menu-tips"},[e._v("字数不超过4个汉字或8个字母，超出或过长系统将自动省略处理")])]),e._v(" "),s("div",{staticStyle:{clear:"both"}}),e._v(" "),0===e.formData.menuList[e.selectedMenuIndex].childs.length?s("div",{staticClass:"menu-group menu-group__radio",staticStyle:{"margin-top":"10px"}},[s("div",{staticClass:"menu-label menu-type menu-label__two",staticStyle:{margin:"15px 0 15px 0"}},[e._v("菜单类型")]),e._v(" "),s("div",{staticClass:"menu-input__group menu-input__group__two"},[s("el-radio-group",{attrs:{name:"menuType"},on:{change:function(t){e.selMediaData(e.selectedMenuIndex)}},model:{value:e.formData.menuList[e.selectedMenuIndex].choiceType,callback:function(t){e.$set(e.formData.menuList[e.selectedMenuIndex],"choiceType",t)},expression:"formData.menuList[selectedMenuIndex].choiceType"}},[s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:1}},[e._v("发送消息")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:2}},[e._v("跳转网页")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:3}},[e._v("扫码")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:4}},[e._v("扫码(等待消息)")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:5}},[e._v("立即拍照")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:6}},[e._v("拍照/相册")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:7}},[e._v("相册")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:8}},[e._v("地理位置")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:9}},[e._v("关联小程序")])],1)],1),e._v(" "),s("div",{staticStyle:{clear:"both"}})]):e._e(),e._v(" "),0===e.formData.menuList[e.selectedMenuIndex].childs.length?s("div"):e._e(),e._v(" "),"view"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex])?s("div",{staticClass:"menu-content"},[s("div",{staticClass:"menu-input-group"},[s("p",{staticClass:"menu-tips gray"},[e._v("触发该类型菜单，微信客户端会自动跳转到指定链接")]),e._v(" "),s("div",{staticClass:"menu-label"},[e._v("页面地址")]),e._v(" "),s("div",{staticClass:"menu-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].linkUrl,expression:"formData.menuList[selectedMenuIndex].linkUrl"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255",placeholder:""},domProps:{value:e.formData.menuList[e.selectedMenuIndex].linkUrl},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex],"linkUrl",t.target.value)}}}),e._v(" "),s("p",{staticClass:"gray"},[e._v("指定网页链接需要加上访问协议，如http:// 或https://")])])])]):"media_id"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex])?s("div",{staticClass:"menu-msg-content"},[s("media-warpper",{attrs:{data:e.formData.menuList[e.selectedMenuIndex].mediaData},on:{change:e.getMediaDataTwo}})],1):"click"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex])?s("div",{staticClass:"menu-content"},[s("div",{staticClass:"menu-input-group"},[s("div",{staticClass:"media-warpper"},[s("div",{staticClass:"menu-msg-panel"},[s("div",{staticClass:"menu-msg-select_detail"},[s("ul",{staticClass:"menu-msg-select__ul"},[s("li",[s("div",{staticClass:"wx-create"},[s("key-word-zone",{staticClass:"wx-create__item",on:{change:e.getKeywordTwo}},[s("div",{staticClass:"wx-create__item"},[s("p",[s("img",{staticClass:"key-icon",attrs:{src:a("XgNK"),alt:""}})]),e._v(" "),s("p",{staticClass:"wx-create__title"},[e._v("关键词")])])])],1)])])])])]),e._v(" "),e.formData.menuList[e.selectedMenuIndex].keyword.length>0?s("div",{staticClass:"keyword-items",staticStyle:{width:"40%"}},[s("div",[s("span",[e._v("规则名：")]),e._v(e._s(e.formData.menuList[e.selectedMenuIndex].keyword[0].ruleName))]),e._v(" "),s("span",[e._v("关键词：")]),e._v(" "),e._l(e.formData.menuList[e.selectedMenuIndex].keyword[0].wechatReplyKeywordList,function(t,a){return[""!==t.wordkeyEq?s("el-tag",{key:a,staticStyle:{"margin-left":"5px"},attrs:{size:"mini"}},[e._v(e._s(t.wordkeyEq))]):e._e(),e._v(" "),""!==t.wordkeyLike?s("el-tag",{key:a,staticStyle:{"margin-left":"5px"},attrs:{size:"mini"}},[e._v(e._s(t.wordkeyLike))]):e._e()]}),e._v(" "),s("div",[s("span",[e._v("回复类型：")]),e._v(" "),"image"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?s("span",[e._v("图片")]):e._e(),e._v(" "),"text"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?s("span",[e._v("文本")]):e._e(),e._v(" "),"news"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?s("span",[e._v("图文")]):e._e(),e._v(" "),"voice"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?s("span",[e._v("音乐")]):e._e(),e._v(" "),"video"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?s("span",[e._v("视频")]):e._e(),e._v(" "),"music"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?s("span",[e._v("音乐")]):e._e()])],2):e._e()])]):"miniprogram"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex])?s("div",{staticClass:"menu-content"},[s("div",{staticClass:"menu-input-group"},[s("p",{staticClass:"menu-tips gray"},[e._v("订阅者点击该子菜单会跳到以下小程序")]),e._v(" "),s("div",{staticClass:"menu-label"},[e._v("小程序APPID")]),e._v(" "),s("div",{staticClass:"menu-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].miniprogramAppid,expression:"formData.menuList[selectedMenuIndex].miniprogramAppid"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"50"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].miniprogramAppid},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex],"miniprogramAppid",t.target.value)}}}),e._v(" "),s("div",[s("a",{staticClass:"menu-tips gray",attrs:{target:"_blank",href:"http://weixiao.qq.com/notice/view?mid=0&cid=2&id=274"}},[e._v("获取小程序APPID")])])])]),e._v(" "),s("div",{staticClass:"menu-input-group"},[s("div",{staticClass:"menu-label"},[e._v("小程序路径")]),e._v(" "),s("div",{staticClass:"menu-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].miniprogramPagepath,expression:"formData.menuList[selectedMenuIndex].miniprogramPagepath"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].miniprogramPagepath},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex],"miniprogramPagepath",t.target.value)}}}),e._v(" "),s("div",{staticClass:"gray"},[e._v("填写跳转至小程序指定页面访问路径，"),s("a",{staticClass:"menu-tips",attrs:{target:"_blank",href:"http://weixiao.qq.com/notice/view?mid=0&cid=2&id=275"}},[e._v("查看引导")])])])]),e._v(" "),s("div",{staticClass:"menu-input-group"},[s("div",{staticClass:"menu-label"},[e._v("备用网页")]),e._v(" "),s("div",{staticClass:"menu-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].linkUrl,expression:"formData.menuList[selectedMenuIndex].linkUrl"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].linkUrl},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex],"linkUrl",t.target.value)}}}),e._v(" "),s("p",{staticClass:"menu-tips gray"},[e._v("旧版微信客户端无法支持小程序，用户点击菜单时将会打开备用网页。")])])])]):e._e()])]):e._e(),e._v(" "),2==e.selectedMenuLevel()?s("div",{staticClass:"weixin-menu-detail"},[s("div",{staticClass:"menu-input-group",staticStyle:{"border-bottom":"2px #e8e8e8 solid"}},[s("div",{staticClass:"menu-name"},[e._v(e._s(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].menuName))]),e._v(" "),s("div",{staticClass:"menu-del",on:{click:e.delMenu}},[e._v("删除子菜单")])]),e._v(" "),s("div",{staticClass:"menu-input-group"},[s("div",{staticClass:"menu-label"},[e._v("子菜单名称")]),e._v(" "),s("div",{staticClass:"menu-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].menuName,expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].menuName"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"请输入子菜单名称"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].menuName},on:{input:[function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"menuName",t.target.value)},function(t){e.checkMenuName(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].menuName)}]}}),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.menuNameBounds,expression:"menuNameBounds"}],staticClass:"menu-tips",staticStyle:{color:"#e15f63"}},[e._v("字数超过上限")]),e._v(" "),s("p",{staticClass:"menu-tips"},[e._v("字数不超过4个汉字或8个字母，超出或过长系统将自动省略处理")])])]),e._v(" "),s("div",{staticClass:"menu-group menu-group__radio",staticStyle:{"margin-top":"10px"}},[s("div",{staticClass:"menu-label menu-type menu-label__two"},[e._v("菜单类型")]),e._v(" "),s("div",{staticClass:"menu-input__group menu-input__group__two"},[s("el-radio-group",{attrs:{name:"menuType"},on:{change:function(t){e.selMediaData2(e.selectedSubMenuIndex)}},model:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].choiceType,callback:function(t){e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"choiceType",t)},expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].choiceType"}},[s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:1}},[e._v("发送消息")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:2}},[e._v("跳转网页")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:3}},[e._v("扫码")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:4}},[e._v("扫码(等待消息)")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:5}},[e._v("立即拍照")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:6}},[e._v("拍照/相册")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:7}},[e._v("相册")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:8}},[e._v("地理位置")]),e._v(" "),s("el-radio",{staticClass:"el-radio-group--item",attrs:{label:9}},[e._v("关联小程序")])],1)],1),e._v(" "),s("div",{staticStyle:{clear:"both"}})]),e._v(" "),"view"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex])?s("div",{staticClass:"menu-content"},[s("div",{staticClass:"menu-input-group"},[s("p",{staticClass:"menu-tips gray"},[e._v("触发该类型菜单，微信客户端会自动跳转到指定链接")]),e._v(" "),s("div",{staticClass:"menu-label"},[e._v("页面地址")]),e._v(" "),s("div",{staticClass:"menu-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].linkUrl,expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].linkUrl"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255",placeholder:""},domProps:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].linkUrl},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"linkUrl",t.target.value)}}}),e._v(" "),s("p",{staticClass:"gray"},[e._v("指定网页链接需要加上访问协议，如http:// 或https://")])])])]):"media_id"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex])?s("div",{staticClass:"menu-msg-content"},[s("media-warpper",{attrs:{data:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].mediaData},on:{change:e.getMediaData}})],1):"click"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex])?s("div",{staticClass:"menu-content"},[s("div",{staticClass:"menu-input-group"},[s("div",{staticClass:"media-warpper"},[s("div",{staticClass:"menu-msg-panel"},[s("div",{staticClass:"menu-msg-select_detail"},[s("ul",{staticClass:"menu-msg-select__ul"},[s("li",[s("div",{staticClass:"wx-create"},[s("key-word-zone",{staticClass:"wx-create__item",on:{change:e.getKeyword}},[s("div",{staticClass:"wx-create__item"},[s("p",[s("img",{staticClass:"key-icon",attrs:{src:a("XgNK"),alt:""}})]),e._v(" "),s("p",{staticClass:"wx-create__title"},[e._v("关键词")])])])],1)])])])])]),e._v(" "),e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword.length>0?s("div",{staticClass:"keyword-items",staticStyle:{width:"40%"}},[s("div",[s("span",[e._v("规则名：")]),e._v(e._s(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].ruleName))]),e._v(" "),s("span",[e._v("关键词：")]),e._v(" "),e._l(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].wechatReplyKeywordList,function(t,a){return[""!==t.wordkeyEq?s("el-tag",{key:a,staticStyle:{"margin-left":"5px"},attrs:{size:"mini"}},[e._v(e._s(t.wordkeyEq))]):e._e(),e._v(" "),""!==t.wordkeyLike?s("el-tag",{key:a,staticStyle:{"margin-left":"5px"},attrs:{size:"mini"}},[e._v(e._s(t.wordkeyLike))]):e._e()]}),e._v(" "),s("div",[s("span",[e._v("回复类型：")]),e._v(" "),"image"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?s("span",[e._v("图片")]):e._e(),e._v(" "),"text"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?s("span",[e._v("文本")]):e._e(),e._v(" "),"news"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?s("span",[e._v("图文")]):e._e(),e._v(" "),"voice"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?s("span",[e._v("音乐")]):e._e(),e._v(" "),"video"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?s("span",[e._v("视频")]):e._e(),e._v(" "),"music"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?s("span",[e._v("音乐")]):e._e()])],2):e._e()])]):"miniprogram"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex])?s("div",{staticClass:"menu-content"},[s("div",{staticClass:"menu-input-group"},[s("p",{staticClass:"menu-tips gray"},[e._v("订阅者点击该子菜单会跳到以下小程序")]),e._v(" "),s("div",{staticClass:"menu-label"},[e._v("小程序APPID")]),e._v(" "),s("div",{staticClass:"menu-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].miniprogramAppid,expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].miniprogramAppid"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"50"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].miniprogramAppid},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"miniprogramAppid",t.target.value)}}}),e._v(" "),s("div",[s("a",{staticClass:"menu-tips gray",attrs:{target:"_blank",href:"http://weixiao.qq.com/notice/view?mid=0&cid=2&id=274"}},[e._v("获取小程序APPID")])])])]),e._v(" "),s("div",{staticClass:"menu-input-group"},[s("div",{staticClass:"menu-label"},[e._v("小程序路径")]),e._v(" "),s("div",{staticClass:"menu-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].miniprogramPagepath,expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].miniprogramPagepath"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].miniprogramPagepath},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"miniprogramPagepath",t.target.value)}}}),e._v(" "),s("div",{staticClass:"gray"},[e._v("填写跳转至小程序指定页面访问路径，"),s("a",{staticClass:"menu-tips",attrs:{target:"_blank",href:"http://weixiao.qq.com/notice/view?mid=0&cid=2&id=275"}},[e._v("查看引导")])])])]),e._v(" "),s("div",{staticClass:"menu-input-group"},[s("div",{staticClass:"menu-label"},[e._v("备用网页")]),e._v(" "),s("div",{staticClass:"menu-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].linkUrl,expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].linkUrl"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].linkUrl},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"linkUrl",t.target.value)}}}),e._v(" "),s("p",{staticClass:"menu-tips gray"},[e._v("旧版微信客户端无法支持小程序，用户点击菜单时将会打开备用网页。")])])])]):e._e()]):e._e()])])],1),e._v(" "),s("div",{staticClass:"cms-form-footer"},["update"===e.type?s("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:e.update}},[e._v("保存修改")]):e._e(),e._v(" "),"save"===e.type?s("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:e.save}},[e._v("保存")]):e._e()],1)],1)],1)},staticRenderFns:[]};var _=a("C7Lr")(p,v,!1,function(e){a("Y4RZ")},"data-v-68509be5",null);t.default=_.exports}});
//# sourceMappingURL=124.26d7bc71e91883a67352.js.map