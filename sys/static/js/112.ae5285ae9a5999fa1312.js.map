{"version":3,"sources":["webpack:///src/views/wechat/public/menuManage/individuationMenu/view.vue","webpack:///./src/views/wechat/public/menuManage/individuationMenu/view.vue?a6c8","webpack:///./src/views/wechat/public/menuManage/individuationMenu/view.vue"],"names":["defaultData","status","areaCode","tagId","menuGroupName","menuList","menuName","childs","menuType","mediaId","view","name","mixins","mixins_form","components","mediaWarpper","keyWordZone","wxKeyWordZone","data","formData","assign_default","selectedMenuIndex","selectedSubMenuIndex","menuNameBounds","material","title","linkUrl","thumb_url","saveRules","rules","required","tagName","areaInfo","sex","client","languageData","methods","getFormData","id","_this","this","Object","wechat","then","res","getFansTags","area","getArea","menuId","i","length","j","k","menuKey","miniprogramAppid","miniprogramPagepath","wReplyKeyword","obj","areaName","code","push","selectedMenu","event","checkMenuName","selectedSubMenu","tag","_this2","tagList","forEach","v","parseInt","selectedMenuLevel","selectedMenuType","val","getMenuNameLen","len","charAt","match","created","$route","query","individuationMenu_view","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","attrs","to","_v","_s","staticClass","collapse","ref","model","label-width","label","prop","error","errorMessage","sexDictCode","_e","clientDictCode","languageDictCode","staticStyle","margin","_l","btn","key","class","current","on","click","$event","sub","i2","stopPropagation","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"8LAuEAA,GACAC,OAAA,GACAC,SAAA,GACAC,MAAA,GACAC,cAAA,GACAC,WAEAC,SAAA,OACAC,SAEAD,SAAA,QACAE,SAAA,GACAC,QAAA,QAOAC,GACAC,KAAA,mBACAC,QAAAC,EAAA,GACAC,YACAC,eAAA,EACAC,YAAAC,EAAA,GAEAC,KAPA,WAQA,OACAC,SAAAC,OAAApB,GACAqB,kBAAA,GACAC,qBAAA,GACAC,gBAAA,EACAC,UACAC,MAAA,GACAC,QAAA,GACAC,UAAA,IAEAC,WAEAxB,eAAAyB,EAAA,EAAAC,SAAA,eAEAC,QAAA,GACAC,YAEAC,KAAA,mBAEAC,QAAA,4BAEAC,cAAA,iIAGAC,SACAC,YADA,SACAC,GAAA,IAAAC,EAAAC,KAEMC,OAAAC,EAAA,EAAAD,EAANH,OAAAK,KAAA,SAAAC,GACAL,EAAAM,YAAAD,EAAA1B,KAAAf,OACAoC,EAAApB,SAAAC,IAAApB,EAAA4C,EAAA1B,MACA0B,EAAA1B,KAAA4B,OACAP,EAAApB,SAAAjB,SAAA0C,EAAA1B,KAAA4B,KAAA5C,SACAqC,EAAAQ,QAAAH,EAAA1B,KAAA4B,cAEAP,EAAApB,SAAA6B,OAEA,QAAAC,EAAA,EAAAA,EAAAV,EAAApB,SAAAd,SAAA6C,OAAAD,IACA,QAAAE,EAAA,EAAAA,EAAAZ,EAAApB,SAAAd,SAAA4C,GAAA1C,OAAA2C,OAAAC,WACAZ,EAAApB,SAAAd,SAAA4C,GAAA1C,OAAA4C,GAAA3B,gBACAe,EAAApB,SAAAd,SAAA4C,GAAA1C,OAAA4C,GAAA5C,cACAgC,EAAApB,SAAAd,SAAA4C,GAAA1C,OAAA4C,GAAAb,GAGA,QAAAc,EAAA,EAAAA,EAAAb,EAAApB,SAAAd,SAAA6C,OAAAE,WACAb,EAAApB,SAAAd,SAAA+C,GAAA1B,eACAa,EAAApB,SAAAd,SAAA+C,GAAA5B,gBACAe,EAAApB,SAAAd,SAAA+C,GAAA3C,eACA8B,EAAApB,SAAAd,SAAA+C,GAAAC,eACAd,EAAApB,SAAAd,SAAA+C,GAAA5C,gBACA+B,EAAApB,SAAAd,SAAA+C,GAAAE,wBACAf,EAAApB,SAAAd,SAAA+C,GAAAG,2BACAhB,EAAApB,SAAAd,SAAA+C,GAAAI,qBACAjB,EAAApB,SAAAd,SAAA+C,GAAAd,MAIAS,QAhCA,SAgCA7B,GACA,IAAAuC,GACAC,SAAAxC,EAAAwC,SACAC,KAAAzC,EAAAhB,UAEAsC,KAAAR,SAAA4B,KAAAH,IAGAI,aAxCA,SAwCAZ,EAAAa,GACA,GAAAtB,KAAAnB,oBAAA4B,EACAT,KAAAnB,mBAAA,MACA,CACAmB,KAAAlB,qBAAA,GACAkB,KAAAnB,kBAAA4B,EACA,IAAAY,EAAArB,KAAArB,SAAAd,SAAAmC,KAAAnB,mBAEAmB,KAAAuB,cAAAF,EAAAvD,YAIA0D,gBAAA,SAAAf,EAAAa,GACAtB,KAAAlB,qBAAA2B,EACA,IAAAe,EAAAxB,KAAArB,SAAAd,SAAAmC,KAAAnB,mBAAAd,OAAAiC,KAAAlB,sBAEAkB,KAAAuB,cAAAC,EAAA1D,WAEAuC,YA1DA,SA0DAoB,GAAA,IAAAC,EAAA1B,KAEMC,OAAAC,EAAA,EAAAD,GAANE,KAAA,SAAAC,GACAA,EAAA1B,KAAAiD,QAAAC,QAAA,SAAAC,GACAA,EAAA/B,KAAAgC,SAAAL,KACAC,EAAAnC,QAAAsC,EAAAtC,WAIA,KAAAmC,EAAAnC,UACAmC,EAAAnC,QAAA,SAKAwC,kBAzEA,WA0EA,WAAA/B,KAAAnB,mBAAA,KAAAmB,KAAAlB,qBAEA,EACA,KAAAkB,KAAAnB,mBAAA,KAAAmB,KAAAlB,qBAEA,EAGA,GAIAkD,iBAAA,WACA,GACA,IAAAhC,KAAA+B,qBACA,IAAA/B,KAAArB,SAAAd,SAAAmC,KAAAnB,mBAAAd,OAAA2C,OAGA,OAAAV,KAAArB,SAAAd,SAAAmC,KAAAnB,mBAAAb,UACA,WACA,SACA,eAEA,mBACA,SACA,YAEA,oBAEA,uBAEA,mBAEA,yBAEA,iBACA,SACA,sBACA,SACA,kBACA,aAEA,QAAAgC,KAAA+B,oBA6BA,SA3BA,OAAA/B,KAAArB,SAAAd,SAAAmC,KAAAnB,mBAAAd,OACAiC,KAAAlB,sBACAd,UACA,WACA,SACA,eAEA,mBACA,SACA,YAEA,oBAEA,uBAEA,mBAEA,yBAEA,iBAEA,sBACA,SACA,kBACA,YAOAuD,cAAA,SAAAU,GACA,IAAAjC,KAAA+B,qBAAA/B,KAAAkC,eAAAD,IAAA,EACAjC,KAAAjB,gBAAA,EAEA,IAAAiB,KAAA+B,qBACA/B,KAAAkC,eAAAD,IAAA,GAEAjC,KAAAjB,gBAAA,EAEAiB,KAAAjB,gBAAA,GAIAmD,eAAA,SAAAD,GAEA,IADA,IAAAE,EAAA,EACA1B,EAAA,EAAAA,EAAAwB,EAAAvB,OAAAD,IAAA,CAEA,MADAwB,EAAAG,OAAA3B,GACA4B,MAAA,kBAAAF,GAAA,EAAAA,GAAA,EAEA,OAAAA,IAGAG,QA3MA,WA4MAtC,KAAAH,YAAAG,KAAAuC,OAAAC,MAAA1C,MCnSe2C,GADEC,OAFjB,WAA0B,IAAAC,EAAA3C,KAAa4C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,aAAa7E,KAAA,UAAA8E,QAAA,YAAAC,MAAAP,EAAA,QAAAQ,WAAA,cAA8EL,EAAA,kBAAuBM,OAAOC,GAAA,2BAA8BP,EAAA,MAAAH,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAJ,OAAApE,WAAAwE,EAAAW,GAAA,KAAAR,EAAA,OAAqEU,YAAA,oBAA8BV,EAAA,cAAmBM,OAAOK,SAAA,UAAmBX,EAAA,MAAAH,EAAAW,GAAA,uBAAAX,EAAAW,GAAA,KAAAR,EAAA,WAAmEY,IAAA,OAAAN,OAAkB/D,MAAAsD,EAAAvD,UAAAuE,MAAAhB,EAAAhE,SAAAiF,cAAA,WAAkEd,EAAA,gBAAqBM,OAAOS,MAAA,SAAAC,KAAA,gBAAAC,MAAApB,EAAAqB,aAAApG,iBAAgFkF,EAAA,QAAAH,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAhE,SAAAf,oBAAA+E,EAAAW,GAAA,KAAAR,EAAA,gBAA2FM,OAAOS,MAAA,WAAiBlB,EAAAhE,SAAAsF,aAAA,IAAAtB,EAAAhE,SAAAsF,YAAAnB,EAAA,QAAAH,EAAAW,GAAA,IAAAX,EAAAY,GAAAZ,EAAAlD,IAAAqC,SAAAa,EAAAhE,SAAAsF,eAAA,OAAAtB,EAAAuB,KAAAvB,EAAAW,GAAA,KAAAX,EAAAhE,SAAAhB,OAAA,IAAAgF,EAAAhE,SAAAhB,MAAAmF,EAAA,QAAAH,EAAAW,GAAA,IAAAX,EAAAY,GAAAZ,EAAApD,SAAA,OAAAoD,EAAAuB,KAAAvB,EAAAW,GAAA,KAAAX,EAAAhE,SAAAwF,gBAAA,IAAAxB,EAAAhE,SAAAwF,eAAArB,EAAA,QAAAH,EAAAW,GAAA,IAAAX,EAAAY,GAAAZ,EAAAjD,OAAAoC,SAAAa,EAAAhE,SAAAwF,kBAAA,OAAAxB,EAAAuB,KAAAvB,EAAAW,GAAA,KAAAX,EAAAhE,SAAAyF,kBAAA,IAAAzB,EAAAhE,SAAAyF,iBAAAtB,EAAA,QAAAH,EAAAW,GAAA,IAAAX,EAAAY,GAAAZ,EAAAhD,aAAAmC,SAAAa,EAAAhE,SAAAyF,oBAAA,OAAAzB,EAAAuB,KAAAvB,EAAAW,GAAA,QAAAX,EAAAnD,SAAAkB,OAAAoC,EAAA,QAAAH,EAAAW,GAAA,IAAAX,EAAAY,GAAAZ,EAAAnD,SAAA,GAAA0B,UAAA,OAAAyB,EAAAuB,KAAAvB,EAAAW,GAAA,QAAAX,EAAAnD,SAAAkB,OAAAoC,EAAA,QAAAH,EAAAW,GAAA,IAAAX,EAAAY,GAAAZ,EAAAnD,SAAA,GAAA0B,SAAA,IAAAyB,EAAAnD,SAAA,GAAA0B,UAAA,OAAAyB,EAAAuB,KAAAvB,EAAAW,GAAA,QAAAX,EAAAnD,SAAAkB,OAAAoC,EAAA,QAAAH,EAAAW,GAAA,IAAAX,EAAAY,GAAAZ,EAAAnD,SAAA,GAAA0B,SAAA,IAAAyB,EAAAnD,SAAA,GAAA0B,SAAA,IAAAyB,EAAAnD,SAAA,GAAA0B,UAAA,OAAAyB,EAAAuB,OAAAvB,EAAAW,GAAA,KAAAR,EAAA,OAAgiCU,YAAA,UAAAa,aAAmCC,OAAA,sBAA6BxB,EAAA,OAAYM,OAAOtD,GAAA,cAAiBgD,EAAA,OAAYU,YAAA,mBAA6BV,EAAA,OAAYU,YAAA,cAAwBV,EAAA,OAAYU,YAAA,iBAA2Bb,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAhE,SAAAf,oBAAA+E,EAAAW,GAAA,KAAAR,EAAA,OAAuEU,YAAA,cAAwBV,EAAA,MAAWU,YAAA,cAAAJ,OAAiCtD,GAAA,gBAAoB6C,EAAA4B,GAAA5B,EAAAhE,SAAA,kBAAA6F,EAAA/D,GAAgD,OAAAqC,EAAA,MAAgB2B,IAAAhE,EAAA+C,YAAA,YAAAkB,OAAqCC,QAAAhC,EAAA9D,oBAAA4B,GAAA,GAAAkC,EAAAZ,qBAA8D6C,IAAKC,MAAA,SAAAC,GAAyBnC,EAAAtB,aAAAZ,EAAAqE,OAA6BhC,EAAA,OAAYU,YAAA,oBAA8BV,EAAA,KAAUU,YAAA,kBAA4Bb,EAAAW,GAAA,KAAAR,EAAA,QAAAH,EAAAW,GAAAX,EAAAY,GAAAiB,EAAA1G,eAAA6E,EAAAW,GAAA,KAAAR,EAAA,MAA+EE,aAAa7E,KAAA,OAAA8E,QAAA,SAAAC,MAAAP,EAAA9D,oBAAA4B,GAAA+D,EAAAzG,OAAA2C,OAAA,EAAAyC,WAAA,+CAA4IK,YAAA,oBAAgCb,EAAA4B,GAAAC,EAAA,gBAAAO,EAAAC,GAAuC,OAAAlC,EAAA,MAAgB2B,IAAAO,EAAAxB,YAAA,gBAAAkB,OAA0CC,QAAAhC,EAAA7D,uBAAAkG,GAAA,GAAArC,EAAAZ,qBAAkE6C,IAAKC,MAAA,SAAAC,GAAyBA,EAAAG,kBAAyBtC,EAAAnB,gBAAAwD,EAAAF,OAAiChC,EAAA,OAAYU,YAAA,oBAA8BV,EAAA,QAAAH,EAAAW,GAAAX,EAAAY,GAAAwB,EAAAjH,mBAAgD6E,EAAAW,GAAA,KAAAR,EAAA,KAAsBU,YAAA,yBAAmCb,EAAAW,GAAA,KAAAR,EAAA,KAAsBU,YAAA,yBAAkC,OAAQ,wBAEjpG0B,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEnH,EACAuE,GATF,EAVA,SAAA6C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/112.ae5285ae9a5999fa1312.js","sourcesContent":["<template>\r\n  <div v-loading='loading'>\r\n    <cms-breadcrumb to=\"/wechatMenuMange/list\">\r\n      <li>{{$route.name}}</li>\r\n    </cms-breadcrumb>\r\n    <div class=\"cms-form-layout\">\r\n      <cms-prompt collapse='true'>\r\n        <li> 查看菜单详情，可预览菜单效果</li>\r\n      </cms-prompt>\r\n      <el-form ref=\"form\" :rules=\"saveRules\" :model=\"formData\" label-width=\"210px\">\r\n        <el-form-item label=\"菜单组名称：\" prop=\"menuGroupName\" :error='errorMessage.menuGroupName'>\r\n          <span>{{formData.menuGroupName}}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"显示对象：\">\r\n          <!--性别 -->\r\n          <span v-if=\"formData.sexDictCode&&formData.sexDictCode!=''\">【{{sex[parseInt(formData.sexDictCode)]}}】</span>\r\n          <!-- 粉丝标签 -->\r\n          <span v-if=\"formData.tagId&&formData.tagId!=''\">【{{tagName}}】</span>\r\n          <!--客户端-->\r\n          <span v-if=\"formData.clientDictCode&&formData.clientDictCode!=''\">【{{client[parseInt(formData.clientDictCode)]}}】</span>\r\n          <!-- 语言-->\r\n          <span v-if=\"formData.languageDictCode&&formData.languageDictCode!=''\">【{{languageData[parseInt(formData.languageDictCode)]}}】</span>\r\n          <!-- 地区 -->\r\n          <span v-if=\"areaInfo.length ==1\">【{{areaInfo[0].areaName}}】</span>\r\n          <span v-if=\"areaInfo.length ==2\">【{{areaInfo[1].areaName+'-'+areaInfo[0].areaName}}】</span>\r\n          <span v-if=\"areaInfo.length ==3\">【{{areaInfo[2].areaName+'-'+areaInfo[1].areaName+'-'+areaInfo[0].areaName}}】</span>\r\n        </el-form-item>\r\n        <div class=\"content\" style=\"margin: 20px 0px 0 110px;\">\r\n          <div id=\"app-menu\">\r\n            <!-- 预览窗 -->\r\n            <div class=\"weixin-preview\">\r\n              <div class=\"weixin-hd\">\r\n                <div class=\"weixin-title\">{{formData.menuGroupName}}</div>\r\n              </div>\r\n              <div class=\"weixin-bd\">\r\n                <ul class=\"weixin-menu\" id=\"weixin-menu\">\r\n                  <li v-for=\"(btn,i) in formData.menuList\" class=\"menu-item\" :key=\"i\" :class=\"{current:selectedMenuIndex===i&&selectedMenuLevel()==1}\" @click=\"selectedMenu(i,$event)\">\r\n                    <div class=\"menu-item-title\">\r\n                      <i class=\"icon_menu_dot\"></i>\r\n                      <span>{{ btn.menuName }}</span>\r\n                    </div>\r\n                    <ul class=\"weixin-sub-menu\" v-show=\"selectedMenuIndex===i&&btn.childs.length>0\">\r\n                          <li v-for=\"(sub,i2) in btn.childs\" :key=\"i2\" class=\"menu-sub-item\"\r\n                          :class=\"{current:selectedSubMenuIndex===i2&&selectedMenuLevel()==2}\" \r\n                          @click.stop=\"selectedSubMenu(i2,$event)\">\r\n                            <div class=\"menu-item-title\">\r\n                              <span>{{sub.menuName}}</span>\r\n                            </div>\r\n                          </li>\r\n                      <i class=\"menu-arrow arrow_out\"></i>\r\n                      <i class=\"menu-arrow arrow_in\"></i>\r\n                    </ul>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport rules from '@/rules'\r\nimport form from '@/mixins/form.js'\r\nimport mediaWarpper from './../../materialLibrary/components/mediaWarpper'\r\nimport keyWordZone from './../../materialLibrary/components/wxKeyWordZone'\r\nimport {\r\n  menuManageGet,\r\n  weChatFansTags\r\n} from '@/api/wechat/index.js'\r\nvar defaultData = {\r\n  status: '',\r\n  areaCode: '',\r\n  tagId: '',\r\n  menuGroupName: '',\r\n  menuList: [\r\n    {\r\n      menuName: '菜单名称',\r\n      childs: [\r\n        {\r\n          menuName: '子菜单名称',\r\n          menuType: '',\r\n          mediaId: ''\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\nexport default {\r\n  name: 'wxMenuManageSave',\r\n  mixins: [form],\r\n  components: {\r\n    mediaWarpper,\r\n    keyWordZone\r\n  },\r\n  data() {\r\n    return {\r\n      formData: Object.assign({}, defaultData),\r\n      selectedMenuIndex: '', // 当前选中菜单索引\r\n      selectedSubMenuIndex: '', // 当前选中子菜单索引\r\n      menuNameBounds: false, // 菜单长度是否过长\r\n      material: {\r\n        title: '',\r\n        linkUrl: '',\r\n        thumb_url: ''\r\n      },\r\n      saveRules: {\r\n        // 新增规则\r\n        menuGroupName: [rules.required('菜单组名称不能为空')]\r\n      },\r\n      tagName: '',\r\n      areaInfo: [],\r\n      // 性别\r\n      sex: ['', '男', '女', '不限性别'],\r\n      // 男女\r\n      client: ['', 'IOS', 'Android', '不限客户端'],\r\n      // 语言\r\n      languageData: ['', '简体中文', '繁体中文TW', '繁体中文HK', '英文', '印尼', '马来', '西班牙', '韩国', '意大利', '日本', '波兰', '葡萄牙', '俄国', '泰文', '越南', '阿拉伯语', '北印度', '希伯来', '土耳其', '德语', '法语']\r\n    }\r\n  },\r\n  methods: {\r\n    getFormData(id) {\r\n      // 通过id获取表单信息\r\n      menuManageGet({ id: id }).then(res => {\r\n        this.getFansTags(res.data.tagId)\r\n        this.formData = Object.assign(defaultData, res.data)\r\n        if (res.data.area) {\r\n          this.formData.areaCode = res.data.area.areaCode\r\n          this.getArea(res.data.area)\r\n        }\r\n        delete this.formData.menuId\r\n        // delete this.formData.area\r\n        for (var i = 0; i < this.formData.menuList.length; i++) {\r\n          for (var j = 0; j < this.formData.menuList[i].childs.length; j++) {\r\n            delete this.formData.menuList[i].childs[j].material\r\n            delete this.formData.menuList[i].childs[j].childs\r\n            delete this.formData.menuList[i].childs[j].id\r\n          }\r\n        }\r\n        for (var k = 0; k < this.formData.menuList.length; k++) {\r\n          delete this.formData.menuList[k].linkUrl\r\n          delete this.formData.menuList[k].material\r\n          delete this.formData.menuList[k].mediaId\r\n          delete this.formData.menuList[k].menuKey\r\n          delete this.formData.menuList[k].menuType\r\n          delete this.formData.menuList[k].miniprogramAppid\r\n          delete this.formData.menuList[k].miniprogramPagepath\r\n          delete this.formData.menuList[k].wReplyKeyword\r\n          delete this.formData.menuList[k].id\r\n        }\r\n      })\r\n    },\r\n    getArea(data) {\r\n      const obj = {\r\n        areaName: data.areaName,\r\n        code: data.areaCode\r\n      }\r\n      this.areaInfo.push(obj)\r\n    },\r\n    // 选中主菜单\r\n    selectedMenu(i, event) {\r\n      if (this.selectedMenuIndex === i) {\r\n        this.selectedMenuIndex = -1\r\n      } else {\r\n        this.selectedSubMenuIndex = ''\r\n        this.selectedMenuIndex = i\r\n        var selectedMenu = this.formData.menuList[this.selectedMenuIndex]\r\n        // 检查名称长度\r\n        this.checkMenuName(selectedMenu.menuName)\r\n      }\r\n    },\r\n    // 选中子菜单\r\n    selectedSubMenu: function(i, event) {\r\n      this.selectedSubMenuIndex = i\r\n      var selectedSubMenu = this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex]\r\n      // 检查名称长度\r\n      this.checkMenuName(selectedSubMenu.menuName)\r\n    },\r\n    getFansTags(tag) {\r\n      // 获取粉丝标签\r\n      weChatFansTags().then(res => {\r\n        res.data.tagList.forEach(v => {\r\n          if (v.id === parseInt(tag)) {\r\n            this.tagName = v.tagName\r\n            return\r\n          }\r\n        })\r\n        if (this.tagName === '') {\r\n          this.tagName = '全部'\r\n        }\r\n      })\r\n    },\r\n    // 选中菜单级别\r\n    selectedMenuLevel() {\r\n      if (this.selectedMenuIndex !== '' && this.selectedSubMenuIndex === '') {\r\n        // 主菜单\r\n        return 1\r\n      } else if (this.selectedMenuIndex !== '' && this.selectedSubMenuIndex !== '') {\r\n        // 子菜单\r\n        return 2\r\n      } else {\r\n        // 未选中任何菜单\r\n        return 0\r\n      }\r\n    },\r\n    // 获取菜单类型 1. view网页类型，2. media_id类型和view_limited类型 3. click点击类型，4.miniprogram表示小程序类型\r\n    selectedMenuType: function() {\r\n      if (\r\n        this.selectedMenuLevel() === 1 &&\r\n        this.formData.menuList[this.selectedMenuIndex].childs.length === 0\r\n      ) {\r\n        // 主菜单\r\n        switch (this.formData.menuList[this.selectedMenuIndex].menuType) {\r\n          case 'view':\r\n            return 1\r\n          case 'media_id':\r\n            return 2\r\n          case 'view_limited':\r\n            return 2\r\n          case 'click':\r\n            return 3\r\n          case 'scancode_push':\r\n            return 3\r\n          case 'scancode_waitmsg':\r\n            return 3\r\n          case 'pic_sysphoto':\r\n            return 3\r\n          case 'pic_photo_or_album':\r\n            return 3\r\n          case 'pic_weixin':\r\n            return 3\r\n          case 'location_select':\r\n            return 2\r\n          case 'miniprogram':\r\n            return 4\r\n        }\r\n      } else if (this.selectedMenuLevel() === 2) {\r\n        // 子菜单\r\n        switch (this.formData.menuList[this.selectedMenuIndex].childs[\r\n          this.selectedSubMenuIndex\r\n        ].menuType) {\r\n          case 'view':\r\n            return 1\r\n          case 'media_id':\r\n            return 2\r\n          case 'view_limited':\r\n            return 2\r\n          case 'click':\r\n            return 3\r\n          case 'scancode_push':\r\n            return 3\r\n          case 'scancode_waitmsg':\r\n            return 3\r\n          case 'pic_sysphoto':\r\n            return 3\r\n          case 'pic_photo_or_album':\r\n            return 3\r\n          case 'pic_weixin':\r\n            return 3\r\n          case 'location_select':\r\n            return 3\r\n          case 'miniprogram':\r\n            return 4\r\n        }\r\n      } else {\r\n        return 1\r\n      }\r\n    },\r\n    // 检查菜单名称长度\r\n    checkMenuName: function(val) {\r\n      if (this.selectedMenuLevel() === 1 && this.getMenuNameLen(val) <= 8) {\r\n        this.menuNameBounds = false\r\n      } else if (\r\n        this.selectedMenuLevel() === 2 &&\r\n        this.getMenuNameLen(val) <= 16\r\n      ) {\r\n        this.menuNameBounds = false\r\n      } else {\r\n        this.menuNameBounds = true\r\n      }\r\n    },\r\n    // 获取菜单名称长度\r\n    getMenuNameLen: function(val) {\r\n      var len = 0\r\n      for (var i = 0; i < val.length; i++) {\r\n        var a = val.charAt(i)\r\n        a.match(/[^\\x00-\\xff]/gi) != null ? (len += 2) : (len += 1)\r\n      }\r\n      return len\r\n    }\r\n  },\r\n  created() {\r\n    this.getFormData(this.$route.query.id)\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.select_width {\r\n  width: 188.5px !important;\r\n}\r\n\r\n.el-input--suffix {\r\n  width: 120px !important;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/wechat/public/menuManage/individuationMenu/view.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('cms-breadcrumb',{attrs:{\"to\":\"/wechatMenuMange/list\"}},[_c('li',[_vm._v(_vm._s(_vm.$route.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-layout\"},[_c('cms-prompt',{attrs:{\"collapse\":\"true\"}},[_c('li',[_vm._v(\" 查看菜单详情，可预览菜单效果\")])]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.saveRules,\"model\":_vm.formData,\"label-width\":\"210px\"}},[_c('el-form-item',{attrs:{\"label\":\"菜单组名称：\",\"prop\":\"menuGroupName\",\"error\":_vm.errorMessage.menuGroupName}},[_c('span',[_vm._v(_vm._s(_vm.formData.menuGroupName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"显示对象：\"}},[(_vm.formData.sexDictCode&&_vm.formData.sexDictCode!='')?_c('span',[_vm._v(\"【\"+_vm._s(_vm.sex[parseInt(_vm.formData.sexDictCode)])+\"】\")]):_vm._e(),_vm._v(\" \"),(_vm.formData.tagId&&_vm.formData.tagId!='')?_c('span',[_vm._v(\"【\"+_vm._s(_vm.tagName)+\"】\")]):_vm._e(),_vm._v(\" \"),(_vm.formData.clientDictCode&&_vm.formData.clientDictCode!='')?_c('span',[_vm._v(\"【\"+_vm._s(_vm.client[parseInt(_vm.formData.clientDictCode)])+\"】\")]):_vm._e(),_vm._v(\" \"),(_vm.formData.languageDictCode&&_vm.formData.languageDictCode!='')?_c('span',[_vm._v(\"【\"+_vm._s(_vm.languageData[parseInt(_vm.formData.languageDictCode)])+\"】\")]):_vm._e(),_vm._v(\" \"),(_vm.areaInfo.length ==1)?_c('span',[_vm._v(\"【\"+_vm._s(_vm.areaInfo[0].areaName)+\"】\")]):_vm._e(),_vm._v(\" \"),(_vm.areaInfo.length ==2)?_c('span',[_vm._v(\"【\"+_vm._s(_vm.areaInfo[1].areaName+'-'+_vm.areaInfo[0].areaName)+\"】\")]):_vm._e(),_vm._v(\" \"),(_vm.areaInfo.length ==3)?_c('span',[_vm._v(\"【\"+_vm._s(_vm.areaInfo[2].areaName+'-'+_vm.areaInfo[1].areaName+'-'+_vm.areaInfo[0].areaName)+\"】\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"content\",staticStyle:{\"margin\":\"20px 0px 0 110px\"}},[_c('div',{attrs:{\"id\":\"app-menu\"}},[_c('div',{staticClass:\"weixin-preview\"},[_c('div',{staticClass:\"weixin-hd\"},[_c('div',{staticClass:\"weixin-title\"},[_vm._v(_vm._s(_vm.formData.menuGroupName))])]),_vm._v(\" \"),_c('div',{staticClass:\"weixin-bd\"},[_c('ul',{staticClass:\"weixin-menu\",attrs:{\"id\":\"weixin-menu\"}},_vm._l((_vm.formData.menuList),function(btn,i){return _c('li',{key:i,staticClass:\"menu-item\",class:{current:_vm.selectedMenuIndex===i&&_vm.selectedMenuLevel()==1},on:{\"click\":function($event){_vm.selectedMenu(i,$event)}}},[_c('div',{staticClass:\"menu-item-title\"},[_c('i',{staticClass:\"icon_menu_dot\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(btn.menuName))])]),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedMenuIndex===i&&btn.childs.length>0),expression:\"selectedMenuIndex===i&&btn.childs.length>0\"}],staticClass:\"weixin-sub-menu\"},[_vm._l((btn.childs),function(sub,i2){return _c('li',{key:i2,staticClass:\"menu-sub-item\",class:{current:_vm.selectedSubMenuIndex===i2&&_vm.selectedMenuLevel()==2},on:{\"click\":function($event){$event.stopPropagation();_vm.selectedSubMenu(i2,$event)}}},[_c('div',{staticClass:\"menu-item-title\"},[_c('span',[_vm._v(_vm._s(sub.menuName))])])])}),_vm._v(\" \"),_c('i',{staticClass:\"menu-arrow arrow_out\"}),_vm._v(\" \"),_c('i',{staticClass:\"menu-arrow arrow_in\"})],2)])}),0)])])])])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-735caa34\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/wechat/public/menuManage/individuationMenu/view.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-735caa34\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./view.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./view.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./view.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-735caa34\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./view.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-735caa34\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/wechat/public/menuManage/individuationMenu/view.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}