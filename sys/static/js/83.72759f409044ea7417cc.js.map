{"version":3,"sources":["webpack:///src/views/shop/shops/shopManage/levelApplication/list.vue","webpack:///./src/views/shop/shops/shopManage/levelApplication/list.vue?26ab","webpack:///./src/views/shop/shops/shopManage/levelApplication/list.vue"],"names":["defaultData","storeName","businessAccount","status","applyType","page","size","levelApplication_list","mixins","list","mixins_form","data","queryParams","assign_default","dialogFormVisible","dialogForm","id","remark","saveRules","rules","required","len","methods","deleteData","this","deleteTableData","shopManage","deleteDatas","deleteTableDatas","ids","audit","auditDatas","callback","_this","$confirm","confirmButtonText","cancelButtonText","type","then","res","code","$successMessage","getTableData","isPage","$errorMessage","message","catch","handleEdit","index","row","noPass","noPassDatas","_this2","manual","manualDatas","_this3","activated","$route","query","created","shopManage_levelApplication_list","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","collapse","_v","nativeOn","keyup","$event","_k","keyCode","key","model","value","$$v","$set","expression","on","change","label","colorPicker","click","title","visible","update:visible","ref","prop","label-width","error","errorMessage","auto-complete","rows","slot","icon","directives","name","rawName","staticStyle","width","tableData","stripe","selection-change","getCheckItems","row-click","checkRows","fixed","min-width","scopedSlots","_u","fn","scope","_e","_s","$moment","createTime","expiryTime","align","$index","stopPropagation","total","getPage","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/83.72759f409044ea7417cc.js","sourcesContent":["<template>\n  <div class=\"cms-list-layout\">\n    <!-- <cms-tabs>\n      <cms-tab to=\"/shopManage/list\">店铺列表</cms-tab>\n      <cms-tab to=\"/shopManage/enterApplication\">入驻申请</cms-tab>\n      <cms-tab to=\"/shopManage/levelApplication\">店铺等级申请</cms-tab>\n    </cms-tabs> -->\n    <cms-prompt collapse='true'>\n      <li>使用此功能需要启用店铺升级功能</li>\n      <li>显示平台入住店铺申请升级或续签店铺等级</li>\n      <li>商家支付出现异常导致支付成功之后，申请数据状态未能同步更新，可手动触发完成按钮进行状态更新</li>\n    </cms-prompt>\n    <!-- 筛选区 -->\n    <section class=\"cms-list-query\">\n      <div class=\"query-group\">\n        <label>店铺名称</label>\n        <el-input v-model=\"queryParams.storeName\" @keyup.native.enter=\"query\"></el-input>\n      </div>\n      <div class=\"query-group\">\n        <label>商家账号</label>\n        <el-input v-model=\"queryParams.businessAccount\" @keyup.native.enter=\"query\"></el-input>\n      </div>\n     <div class=\"query-group\">\n        <label>申请类型</label>\n        <el-select v-model=\"queryParams.applyType\" @change=\"query\">\n          <el-option label=\"全部\" value=\"\"></el-option>\n          <el-option label=\"升级\" :value=\"1\"></el-option>\n          <el-option label=\"续期\" :value=\"2\"></el-option>\n        </el-select>\n      </div>\n      <div class=\"query-group\">\n        <label>状态</label>\n        <el-select v-model=\"queryParams.status\" @change=\"query\">\n          <el-option label=\"全部\" value=\"\"></el-option>\n          <el-option label=\"待审核\" :value=\"1\"></el-option>\n          <el-option label=\"审核通过\" :value=\"2\"></el-option>\n          <el-option label=\"审核不通过\" :value=\"3\"></el-option>\n        </el-select>\n      </div>\n      <div class=\"query-group\">\n        <cms-button size=\"small\" :colorPicker='true' @click=\"query\">查询</cms-button>\n      </div>\n    </section>\n    <!-- 操作区 -->\n    <cms-sticky>\n    <section class=\"cms-batch\">\n      <!-- 弹出框 -->\n            <el-dialog title=\"审核不通过\" :visible.sync=\"dialogFormVisible\">\n            <el-form ref=\"form\" :model=\"dialogForm\" :rules=\"saveRules\">\n            <el-form-item label=\"原因\" prop=\"remark\" label-width=\"120px\" :error=\"errorMessage.remark\">\n            <el-input type=\"textarea\" v-model=\"dialogForm.remark\" auto-complete=\"off\" rows=\"6\"></el-input>\n            </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button type=\"primary\" @click=\"noPass(dialogForm.id, 3, dialogForm.remark )\">确 定</el-button>\n            </div>\n          </el-dialog>\n      <cms-button icon=\"error\" type=\"error\" size=\"small\" @click=\"deleteDatas()\">批量删除</cms-button>\n    </section>\n    </cms-sticky>\n    <el-table :data=\"tableData\" style=\"width: 100%\" stripe v-loading=\"loading\" @selection-change='getCheckItems' @row-click='checkRows' ref='dataTable'>\n      <el-table-column type=\"selection\" width=\"46\" fixed='left'></el-table-column>\n      <el-table-column prop=\"id\" label=\"id\" width=\"60\"></el-table-column>\n      <el-table-column prop=\"storeName\" label=\"店铺名称\" min-width='120'></el-table-column>\n      <el-table-column prop=\"businessAccount\" label=\"商家账号\" min-width=\"160\"></el-table-column>\n      <el-table-column prop=\"applyType\" label=\"申请类型\" min-width=\"100\">\n        <div slot-scope=\"scope\">\n          <span v-if=\"scope.row.applyType === 1\">升级</span>\n          <span v-else-if=\"scope.row.applyType === 2\">续期</span>\n        </div>\n      </el-table-column>\n      <el-table-column prop=\"currentStoreLevel\" label=\"当前店铺等级\" min-width=\"110\"></el-table-column>\n      <el-table-column prop=\"upgradeStoreLevel\" label=\"升级店铺等级\" min-width=\"110\"></el-table-column>\n      <el-table-column prop=\"status\" label=\"状态\" min-width=\"110\">\n        <div slot-scope=\"scope\">\n          <span v-if=\"scope.row.status === 1\">待审核</span>\n          <span v-else-if=\"scope.row.status === 2\">审核通过</span>\n          <span v-else-if=\"scope.row.status === 3\">审核不通过</span>\n        </div>\n      </el-table-column>\n      <el-table-column prop=\"payId\" label=\"支付方式\" min-width=\"110\"></el-table-column>\n      <el-table-column prop=\"gradeLife\" label=\"年限\" min-width=\"110\"></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"申请时间\" min-width=\"180\">\n        <template slot-scope=\"scope\">\n          {{$moment(scope.row.createTime)}}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"expiryTime\" label=\"到期时间\" min-width=\"180\">\n        <template slot-scope=\"scope\">\n          {{$moment(scope.row.expiryTime)}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width='280' fixed=\"right\" align=\"center\">\n        <div slot-scope=\"scope\">\n          <div v-if=\"scope.row.status === 1\">\n            <cms-button icon='error' size='small' type='info' @click=\"audit(scope.row.id, 2 )\">审核通过</cms-button>\n            <cms-button icon='error' size='small' type='info' @click=\"handleEdit(scope.$index, scope.row)\">审核不通过</cms-button>\n          </div>\n          <cms-button v-if=\"scope.row.status === 2\" icon='error' size='small' type='info' @click=\"manual(scope.row.id, 2)\">手动完成</cms-button>\n          <cms-button icon='error' size='small' type='info' @click.stop=\"deleteData(scope.row.id)\">删除</cms-button>\n        </div>\n      </el-table-column>\n    </el-table>\n    <cms-pagination @change=\"getPage\" :total='total'></cms-pagination>\n  </div>\n</template>\n<script>\nimport rules from '@/rules'\nimport list from '@/mixins/list'\nimport form from '@/mixins/form.js'\nimport {\n  shopLevelList,\n  shopLevelDelete,\n  shopLevelAudit\n} from '@/api/shop/shopManage.js'\nvar defaultData = {\n  'storeName': '',\n  'businessAccount': '',\n  'status': '',\n  'applyType': '',\n  'page': 1,\n  'size': 10\n}\nexport default {\n  mixins: [list, form],\n  data() {\n    return {\n      queryParams: Object.assign({}, defaultData),\n      dialogFormVisible: false,\n      dialogForm: {\n        id: '',\n        status: 3,\n        remark: ''\n      },\n      saveRules: {// 审核不通过规则\n        remark: [rules.required('请填写不通过原因'), rules.len(1, 500)]\n      }\n    }\n  },\n  methods: {\n    deleteData(id) {\n      // 包装一层删除的操作\n      this.deleteTableData(shopLevelDelete, id) // 这个才是真实的删除方法\n    },\n    deleteDatas() {\n      this.deleteTableDatas(shopLevelDelete, this.ids) // 这个才是真实的删除方法\n    },\n    audit(id, status) {\n      this.auditDatas(shopLevelAudit, id, status) // 这个是审核的方法\n    },\n    auditDatas(callback, id, status) { // 审核通过方法\n      this.$confirm('您确定要审核这个品牌吗', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        callback({ id: id, status: status }).then(res => {\n          if (res.code === 200) {\n            this.$successMessage('审核成功')\n            this.getTableData(this.callback, this.queryParams, this.isPage)\n          } else {\n            this.$errorMessage('审核失败,' + res.message)\n          }\n        })\n      })\n        .catch(() => {})\n    },\n    // 审核不通过方法\n    handleEdit: function(index, row) {\n      this.dialogFormVisible = true\n      this.dialogForm = Object.assign({}, row)\n    },\n    // 审核不通过确定\n    noPass(id, status, remark) {\n      this.noPassDatas(shopLevelAudit, id, status, remark)\n      this.dialogFormVisible = false\n    },\n    noPassDatas(callback, id, status, remark) {\n      this.$confirm('您确定要让这个品牌审核不通过吗', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        callback({ id: id, status: status, remark: remark }).then(res => {\n          if (res.code === 200) {\n            this.$successMessage('审核不通过')\n            this.getTableData(this.callback, this.queryParams, this.isPage)\n          } else {\n            this.$errorMessage('审核不通过失败,' + res.message)\n          }\n        })\n      })\n        .catch(() => {})\n    },\n    // 手动完成\n    manual(id, status) {\n      this.manualDatas(shopLevelAudit, id, status) // 这个是手动完成的方法\n    },\n    manualDatas(callback, id, status) { // 手动完成方法\n      this.$confirm('确保商家已支付店铺等级升级或续签费用，是否确认完成？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        callback({ id: id, status: status }).then(res => {\n          if (res.code === 200) {\n            this.$successMessage('审核成功')\n            this.getTableData(this.callback, this.queryParams, this.isPage)\n          } else {\n            this.$errorMessage('审核失败,' + res.message)\n          }\n        })\n      })\n        .catch(() => {})\n    }\n\n  },\n  activated() {\n    // 缓存触发\n    if (this.$route.query.type === 'list') {\n      this.queryParams = Object.assign({}, defaultData)\n      // 这个值一定要用动态的变量\n      this.getTableData(shopLevelList, this.queryParams)\n    }\n  },\n  created() {\n    // 首次触发\n    this.getTableData(shopLevelList, this.queryParams)\n  }\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/shop/shops/shopManage/levelApplication/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cms-list-layout\"},[_c('cms-prompt',{attrs:{\"collapse\":\"true\"}},[_c('li',[_vm._v(\"使用此功能需要启用店铺升级功能\")]),_vm._v(\" \"),_c('li',[_vm._v(\"显示平台入住店铺申请升级或续签店铺等级\")]),_vm._v(\" \"),_c('li',[_vm._v(\"商家支付出现异常导致支付成功之后，申请数据状态未能同步更新，可手动触发完成按钮进行状态更新\")])]),_vm._v(\" \"),_c('section',{staticClass:\"cms-list-query\"},[_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"店铺名称\")]),_vm._v(\" \"),_c('el-input',{nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.query($event)}},model:{value:(_vm.queryParams.storeName),callback:function ($$v) {_vm.$set(_vm.queryParams, \"storeName\", $$v)},expression:\"queryParams.storeName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"商家账号\")]),_vm._v(\" \"),_c('el-input',{nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.query($event)}},model:{value:(_vm.queryParams.businessAccount),callback:function ($$v) {_vm.$set(_vm.queryParams, \"businessAccount\", $$v)},expression:\"queryParams.businessAccount\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"申请类型\")]),_vm._v(\" \"),_c('el-select',{on:{\"change\":_vm.query},model:{value:(_vm.queryParams.applyType),callback:function ($$v) {_vm.$set(_vm.queryParams, \"applyType\", $$v)},expression:\"queryParams.applyType\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"升级\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"续期\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"状态\")]),_vm._v(\" \"),_c('el-select',{on:{\"change\":_vm.query},model:{value:(_vm.queryParams.status),callback:function ($$v) {_vm.$set(_vm.queryParams, \"status\", $$v)},expression:\"queryParams.status\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"待审核\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"审核通过\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"审核不通过\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('cms-button',{attrs:{\"size\":\"small\",\"colorPicker\":true},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1)]),_vm._v(\" \"),_c('cms-sticky',[_c('section',{staticClass:\"cms-batch\"},[_c('el-dialog',{attrs:{\"title\":\"审核不通过\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.dialogForm,\"rules\":_vm.saveRules}},[_c('el-form-item',{attrs:{\"label\":\"原因\",\"prop\":\"remark\",\"label-width\":\"120px\",\"error\":_vm.errorMessage.remark}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"auto-complete\":\"off\",\"rows\":\"6\"},model:{value:(_vm.dialogForm.remark),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"remark\", $$v)},expression:\"dialogForm.remark\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.noPass(_vm.dialogForm.id, 3, _vm.dialogForm.remark )}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('cms-button',{attrs:{\"icon\":\"error\",\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deleteDatas()}}},[_vm._v(\"批量删除\")])],1)]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"dataTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"},on:{\"selection-change\":_vm.getCheckItems,\"row-click\":_vm.checkRows}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"46\",\"fixed\":\"left\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"id\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"storeName\",\"label\":\"店铺名称\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"businessAccount\",\"label\":\"商家账号\",\"min-width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"applyType\",\"label\":\"申请类型\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[(scope.row.applyType === 1)?_c('span',[_vm._v(\"升级\")]):(scope.row.applyType === 2)?_c('span',[_vm._v(\"续期\")]):_vm._e()])}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"currentStoreLevel\",\"label\":\"当前店铺等级\",\"min-width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"upgradeStoreLevel\",\"label\":\"升级店铺等级\",\"min-width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\",\"min-width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[(scope.row.status === 1)?_c('span',[_vm._v(\"待审核\")]):(scope.row.status === 2)?_c('span',[_vm._v(\"审核通过\")]):(scope.row.status === 3)?_c('span',[_vm._v(\"审核不通过\")]):_vm._e()])}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"payId\",\"label\":\"支付方式\",\"min-width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"gradeLife\",\"label\":\"年限\",\"min-width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"申请时间\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.$moment(scope.row.createTime))+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"expiryTime\",\"label\":\"到期时间\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.$moment(scope.row.expiryTime))+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"280\",\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[(scope.row.status === 1)?_c('div',[_c('cms-button',{attrs:{\"icon\":\"error\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){_vm.audit(scope.row.id, 2 )}}},[_vm._v(\"审核通过\")]),_vm._v(\" \"),_c('cms-button',{attrs:{\"icon\":\"error\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){_vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"审核不通过\")])],1):_vm._e(),_vm._v(\" \"),(scope.row.status === 2)?_c('cms-button',{attrs:{\"icon\":\"error\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){_vm.manual(scope.row.id, 2)}}},[_vm._v(\"手动完成\")]):_vm._e(),_vm._v(\" \"),_c('cms-button',{attrs:{\"icon\":\"error\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){$event.stopPropagation();_vm.deleteData(scope.row.id)}}},[_vm._v(\"删除\")])],1)}}])})],1),_vm._v(\" \"),_c('cms-pagination',{attrs:{\"total\":_vm.total},on:{\"change\":_vm.getPage}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-bc15fde8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/shop/shops/shopManage/levelApplication/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bc15fde8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bc15fde8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/shop/shops/shopManage/levelApplication/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}