webpackJsonp([218],{"/yhY":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("aA9S"),o=e.n(r),s=e("x1ym"),n=e("lcoF"),i=e("CPCM"),d=e("GBzI"),u={brandIds:[],id:"",resourceDataOneId:"",resourceDataTwoId:"",subCateIds:[],topCateIds:[]},c={mixins:[n.a],components:{categoryCascader:i.a},data:function(){return{loading:!1,formData:o()({},u),rules:{cateName:[s.a.required()],show:[s.a.required()],virtual:[s.a.required()],templatePath:[s.a.required()],productTypeId:[s.a.required("必须选择一个类型","change")],bondPrice:[s.a.required(),s.a.number()],commissionRate:[s.a.required(),s.a.number()]},productTypeItems:[]}},methods:{getFormData:function(t){var a=this;this.loading=!0,Object(d.f)({id:t}).then(function(t){200===t.code?(a.formData=o()(u,t.data),a.formData.subCateIds=t.data.subCateSet.map(function(t){return t.id}),a.formData.topCateIds=t.data.topCateSet.map(function(t){return t.id}),a.loading=!1):a.loading=!1})},save:function(t){var a={id:this.formData.id,resourceDataOneId:this.formData.resourceDataOneId,resourceDataTwoId:this.formData.resourceDataTwoId,brandIds:this.formData.brandIds.map(function(t){return t}).toString(),subCateIds:this.formData.subCateIds.map(function(t){return t}).toString(),topCateIds:this.formData.topCateIds.map(function(t){return t}).toString()};this.saveForm(d.g,a,t,"/productCategory/list","list").then(function(t){})},reset:function(){this.getFormData(this.$route.query.id),this.destroyed()}},created:function(){this.getFormData(this.$route.query.id)}},m={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("cms-breadcrumb",{attrs:{to:"/productCategory/list",type:"list"}},[e("li",[t._v(t._s(t.$route.name)+"-"+t._s(t.$route.query.typeName))])]),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cms-form-layout"},[e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.formData,"label-width":"210px"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{attrs:{label:"分类名称：",prop:"nameAlias"}},[t._v("\n        "+t._s(t.$route.query.typeName)+"\n      ")]),t._v(" "),e("el-form-item",{attrs:{label:"顶级分类导航推荐：",prop:"topCateIds subCateIds"}},[e("category-cascader",{attrs:{limit:6,parentId:t.$route.query.id},model:{value:t.formData.subCateIds,callback:function(a){t.$set(t.formData,"subCateIds",a)},expression:"formData.subCateIds"}}),t._v(" "),e("div",{staticClass:"gray"},[t._v("\n          分类导航推荐将显示在商城导航，为保证商城布局正常显示，推荐最多选择6个（只能对子分类进行设置）\n        ")])],1),t._v(" "),e("el-form-item",{attrs:{label:"分类推荐",prop:"topCateIds"}},[e("category-cascader",{attrs:{limit:8,parentId:t.$route.query.id},model:{value:t.formData.topCateIds,callback:function(a){t.$set(t.formData,"topCateIds",a)},expression:"formData.topCateIds"}}),t._v(" "),e("div",{staticClass:"gray"},[t._v("\n          分类推荐将显示在商城导航侧栏顶部，为保证商城布局正常显示，推荐最多选择8个（只能对子分类进行设置）\n        ")])],1),t._v(" "),e("el-form-item",{attrs:{label:"品牌推荐：",prop:"brandIds"}},[t.status?e("cms-brand",{attrs:{multiple:!0,select:t.formData.brandSet},model:{value:t.formData.brandIds,callback:function(a){t.$set(t.formData,"brandIds",a)},expression:"formData.brandIds"}},[e("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("选择品牌")])],1):t._e()],1),t._v(" "),e("el-form-item",{attrs:{label:"广告图1：",prop:"resourcesSpaceId"}},[t.status?e("cms-picture-zone",{attrs:{data:t.formData.advertisingOne},model:{value:t.formData.resourceDataOneId,callback:function(a){t.$set(t.formData,"resourceDataOneId",a)},expression:"formData.resourceDataOneId"}},[e("cms-button",{attrs:{size:"small",type:"info",icon:"correlation"}},[t._v("选择图片")])],1):t._e(),t._v(" "),e("div",{staticClass:"gray"},[t._v("\n          广告图显示在品牌推荐下方，为保证显示效果，推荐使用220*220\n        ")])],1),t._v(" "),e("el-form-item",{attrs:{label:"广告图2：",prop:"resourcesSpaceId"}},[t.status?e("cms-picture-zone",{attrs:{data:t.formData.advertisingTwo},model:{value:t.formData.resourceDataTwoId,callback:function(a){t.$set(t.formData,"resourceDataTwoId",a)},expression:"formData.resourceDataTwoId"}},[e("cms-button",{attrs:{size:"small",type:"info",icon:"correlation"}},[t._v("选择图片")])],1):t._e(),t._v(" "),e("div",{staticClass:"gray"},[t._v("\n          广告图显示在品牌推荐下方，为保证显示效果，推荐使用220*220\n        ")])],1)],1),t._v(" "),e("div",{staticClass:"cms-form-footer"},[e("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/productCategory/save",expression:"'/productCategory/save'"},{name:"color",rawName:"v-color"}],on:{click:function(a){t.save(!0)}}},[t._v("保存")]),t._v(" "),e("cms-button",{attrs:{type:"rest"},on:{click:t.reset}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]},l=e("C7Lr")(c,m,!1,null,null,null);a.default=l.exports}});
//# sourceMappingURL=218.3c61cc937d56d889dedc.js.map