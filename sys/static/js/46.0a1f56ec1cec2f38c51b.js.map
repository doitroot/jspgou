{"version":3,"sources":["webpack:///src/views/platform/permissions/menuManager/list.vue","webpack:///./src/views/platform/permissions/menuManager/list.vue?ea35","webpack:///./src/views/platform/permissions/menuManager/list.vue"],"names":["menuManager_list","mixins","data","typeList","tableData","expandAll","queryParams","hasDeleted","parentId","platformType","selfId","columnState","methods","toggleVisable","status","id","_this","this","Object","menuManager","ids","then","res","code","$errorMessage","sortNum","el","_this2","val","target","value","test","className","sorts","$successMessage","$cmsMessage","message","type","timer","fastClick","showRow","row","show","_show","toggleExpanded","trIndex","_this3","record","_expanded","_load","chidView","loading","arr","utils_eval","i","length","splice","state","from_default","forEach","v","nodeIds","indexOf","push","iconShow","index","isChild","getTableData","callBack","params","_this4","deleteData","_this5","$confirm","confirmButtonText","cancelButtonText","catch","changeTabs","name","getTypeList","created","$route","query","permissions_menuManager_list","render","_vm","_h","$createElement","_c","_self","staticClass","on","tab-click","model","callback","$$v","$set","expression","attrs","label","_v","staticStyle","border","directives","rawName","icon","size","click","$event","$routerLink","width","row-style","min-width","scopedSlots","_u","key","fn","scope","$index","style","marginLeft","_level","_s","menuName","prop","menuType","change","nativeOn","keyup","_k","keyCode","fixed","align","text-align","toString","_e","stopPropagation","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/46.0a1f56ec1cec2f38c51b.js","sourcesContent":[" <!--商品分类列表-->\n<template>\n  <div class=\"cms-list-layout\">\n    <!-- 不同平台切换 -->\n    <el-tabs v-model=\"queryParams.platformType\" @tab-click=\"changeTabs\">\n      <el-tab-pane label=\"平台管理\" name=\"1\"></el-tab-pane>\n      <el-tab-pane label=\"商家管理\" name=\"2\"></el-tab-pane>\n    </el-tabs>\n    <cms-prompt>\n      <li>系统菜单的权限设置管理</li>\n    </cms-prompt>\n    <cms-sticky>\n    <section class=\"cms-batch\" style=\"border:0;\">\n      <cms-button icon=\"add\" type=\"success\" size=\"small\" v-prem=\"'/menuManager/save'\"\n      @click=\"$routerLink('/menuManager/save','save',{nodeIds:'0',platformType:queryParams.platformType})\">添加菜单\n      </cms-button>\n    </section>\n    </cms-sticky>\n    <el-table :data=\"tableData\" :row-style=\"showRow\" style=\"width:100%\" v-loading='loading'>\n      <el-table-column label=\"菜单名称\" min-width=\"240\">\n        <template slot-scope=\"scope\">\n          <div class=\"menu-name\" :style=\"{marginLeft:(scope.row._level*16)+'px'}\" v-if=\"iconShow(scope.$index,scope.row)\" @click=\"toggleExpanded(scope.$index)\">\n            <span class=\"tree-ctrl\">\n              <i v-if=\"scope.row._expanded\" class=\"el-icon-caret-right\"></i>\n              <i v-else class=\"el-icon-caret-bottom\"></i>\n            </span>\n            <span>{{scope.row.menuName}}</span>\n          </div>\n          <div v-else :style=\"{marginLeft:(scope.row._level*16)+'px'}\">\n            <span class=\"icon-dot\">○</span>\n            <span>{{scope.row.menuName}}</span>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"链接地址\" prop=\"pagePath\" min-width=\"220\"></el-table-column>\n      <el-table-column label=\"类型\" prop=\"menuType\">\n        <template slot-scope=\"scope\">\n          {{scope.row.menuType===1?'菜单':'权限'}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"可见\" prop=\"show\">\n        <template slot-scope=\"scope\">\n          <cms-switch v-model=\"scope.row.show\" :id=\"scope.row.id\"  @change=\"toggleVisable\"></cms-switch>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"权限标识\" prop=\"accessIdentifier\" min-width=\"220\"></el-table-column>\n      <el-table-column label=\"排序\" prop=\"sortNum\">\n        <template slot-scope=\"scope\">\n          <el-input v-model=\"scope.row.sortNum\"   @keyup.enter.native=\"sortNum($event,scope.row.id)\"> </el-input>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width='280' fixed=\"right\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <div style=\"text-align:right\">\n           <cms-button icon='add' size='small' type='info' v-if=\"scope.row.menuType===1\" v-prem=\"'/menuManager/save'\"\n            @click=\"$routerLink('/menuManager/save','save',{nodeIds:scope.row.nodeIds.toString(),platformType:queryParams.platformType})\">添加下层菜单\n           </cms-button>\n           <cms-button icon='edit' size='small' type='info' v-prem=\"'/menuManager/update'\"\n            @click=\"$routerLink('/menuManager/update','update',{id:scope.row.id, platformType:queryParams.platformType,nodeIds:scope.row.nodeIds.toString()})\">编辑\n           </cms-button>\n           <cms-button icon='delete' size='small' type='info' v-prem=\"'/menuManager/delete'\"\n            @click.stop=\"deleteData(scope.row,scope.$index)\">删除\n           </cms-button> \n          </div>        \n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport treeToArray from '@/utils/eval.js'\nimport {\n  menuManagerList,\n  menuManagerDelete,\n  menuManagerSort,\n  menuManagerShow,\n  menuManagerHide\n} from '@/api/admin/menuManager.js'\nimport list from '@/mixins/list'\nexport default {\n  mixins: [list],\n  data() {\n    return {\n      typeList: [],\n      tableData: [],\n      expandAll: false,\n      queryParams: {\n        hasDeleted: '',\n        parentId: '',\n        platformType: '1'\n      },\n      selfId: 0, // 当前点击的id 不可删除\n      columnState: true // 判断行隐藏\n    }\n  },\n  methods: {\n    toggleVisable(status, id) {\n      if (status) {\n        menuManagerShow({ ids: [id] }).then(res => {\n          if (res.code !== 200) {\n            this.$errorMessage('操作失败')\n          }\n        })\n      } else {\n        menuManagerHide({ ids: [id] }).then(res => {\n          if (res.code !== 200) {\n            this.$errorMessage('操作失败')\n          }\n        })\n      }\n    },\n    sortNum(el, id) {\n      // 数字排序\n      const val = el.target.value\n      const reg = /^[1-9][0-9]{0,1}$/\n      if (val === '') {\n        return false\n      } else {\n        if (reg.test(val)) {\n          el.target.className = 'el-input__inner'\n          menuManagerSort({ sorts: [{\n            id: id,\n            sortNum: val\n          }] }).then(res => {\n            if (res.code === 200) {\n              this.$successMessage('修改成功')\n            } else {\n              this.$errorMessage('修改失败')\n            }\n          })\n        } else {\n          el.target.className = 'cms-error el-input__inner'\n          this.$cmsMessage({\n            message: '只能输入1-99的正整数',\n            type: 'error',\n            timer: '1000',\n            fastClick: false\n          })\n        }\n      }\n    },\n    showRow: function(row) {\n      const show = row.row._show\n      row.row._show = show\n      return show\n        ? 'animation:treeTableShow 1s;-webkit-animation:treeTableShow 1s;'\n        : 'display:none;'\n    },\n    // 切换下级是否展开\n    toggleExpanded: function(trIndex) {\n      const record = this.tableData[trIndex]\n      if (record._expanded) {\n        // 判断展开\n        if (!record._load) {\n          // 判断是否加载过\n          this.queryParams.parentId = record.id\n          this.loading = true\n          menuManagerList(this.queryParams).then(res => {\n            if (res.code === 200) {\n              const arr = treeToArray(res.data)\n              for (let i = 0; i < arr.length; i++) {\n                this.tableData.splice(trIndex + (i + 1), 0, arr[i])\n              }\n              record._expanded = false\n              record._load = true\n              this.loading = false\n            }\n          })\n        } else {\n          this.chidView(record, true)\n          record._expanded = false\n        }\n      } else {\n        record._expanded = true\n        this.chidView(record, false)\n      }\n    },\n    chidView(record, state) {\n      // 子集显示，核心判断这个方法\n      const arr = []\n      Array.from(this.tableData).forEach(v => {\n        if (v.nodeIds.indexOf(record.id) > -1 && v.id !== record.id) {\n          v._show = state\n        }\n        arr.push(v)\n      })\n      this.tableData = arr\n    },\n    // 图标显示\n    iconShow(index, record) {\n      return !record.isChild\n    },\n    getTableData(callBack, params) {\n      callBack(params).then(res => {\n        if (res.code === 200) {\n          this.tableData = treeToArray(res.data)\n        }\n        this.loading = false\n      })\n    },\n    deleteData(row, index) {\n      // 删除菜单\n      this.$confirm('删除菜单可能会影响系统正常运行,请确定是否删除!', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'error'\n      })\n        .then(() => {\n          this.loading = true\n          menuManagerDelete({ ids: [row.id] }).then(res => {\n            this.loading = false\n            if (res.code === 200) {\n              if (row.isChild) {\n                this.tableData.splice(index, 1)\n              } else {\n                this.queryParams.parentId = ''\n                this.getTableData(menuManagerList, this.queryParams)\n              }\n              this.$successMessage('删除成功')\n            } else {\n              this.$errorMessage('删除失败,' + res.message)\n            }\n          })\n        })\n        .catch(() => {})\n    },\n    changeTabs(val) {\n      // 切换不同的平台\n      this.loading = true\n      this.queryParams.platformType = val.name\n      this.queryParams.parentId = ''\n      this.getTableData(menuManagerList, this.queryParams)\n    },\n    getTypeList() {\n      this.getTableData(menuManagerList, this.queryParams)\n    }\n  },\n  created() {\n    this.loading = false\n    if (this.$route.query.type === 'list') {\n      this.queryParams.platformType = this.$route.query.platformType\n    }\n    this.getTypeList()\n  }\n}\n</script>\n<style rel=\"stylesheet/css\">\n</style>\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n$color-blue: #188ae2;\n\n.menu-name {\n  position: relative;\n  cursor: pointer;\n  user-select: none;\n}\n.tree-ctrl {\n  cursor: pointer;\n  color: $color-blue;\n  margin-left: 0px;\n}\n.icon-dot {\n  width: 14px;\n  height: 14px;\n  display: inline-block;\n  position: relative;\n  top: 1px;\n  left: 4px;\n  color: $color-blue;\n  font-size: 18px;\n  font-weight: bold;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/platform/permissions/menuManager/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cms-list-layout\"},[_c('el-tabs',{on:{\"tab-click\":_vm.changeTabs},model:{value:(_vm.queryParams.platformType),callback:function ($$v) {_vm.$set(_vm.queryParams, \"platformType\", $$v)},expression:\"queryParams.platformType\"}},[_c('el-tab-pane',{attrs:{\"label\":\"平台管理\",\"name\":\"1\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"商家管理\",\"name\":\"2\"}})],1),_vm._v(\" \"),_c('cms-prompt',[_c('li',[_vm._v(\"系统菜单的权限设置管理\")])]),_vm._v(\" \"),_c('cms-sticky',[_c('section',{staticClass:\"cms-batch\",staticStyle:{\"border\":\"0\"}},[_c('cms-button',{directives:[{name:\"prem\",rawName:\"v-prem\",value:('/menuManager/save'),expression:\"'/menuManager/save'\"}],attrs:{\"icon\":\"add\",\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){_vm.$routerLink('/menuManager/save','save',{nodeIds:'0',platformType:_vm.queryParams.platformType})}}},[_vm._v(\"添加菜单\\n    \")])],1)]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"row-style\":_vm.showRow}},[_c('el-table-column',{attrs:{\"label\":\"菜单名称\",\"min-width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.iconShow(scope.$index,scope.row))?_c('div',{staticClass:\"menu-name\",style:({marginLeft:(scope.row._level*16)+'px'}),on:{\"click\":function($event){_vm.toggleExpanded(scope.$index)}}},[_c('span',{staticClass:\"tree-ctrl\"},[(scope.row._expanded)?_c('i',{staticClass:\"el-icon-caret-right\"}):_c('i',{staticClass:\"el-icon-caret-bottom\"})]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(scope.row.menuName))])]):_c('div',{style:({marginLeft:(scope.row._level*16)+'px'})},[_c('span',{staticClass:\"icon-dot\"},[_vm._v(\"○\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(scope.row.menuName))])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"链接地址\",\"prop\":\"pagePath\",\"min-width\":\"220\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"类型\",\"prop\":\"menuType\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.menuType===1?'菜单':'权限')+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"可见\",\"prop\":\"show\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('cms-switch',{attrs:{\"id\":scope.row.id},on:{\"change\":_vm.toggleVisable},model:{value:(scope.row.show),callback:function ($$v) {_vm.$set(scope.row, \"show\", $$v)},expression:\"scope.row.show\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"权限标识\",\"prop\":\"accessIdentifier\",\"min-width\":\"220\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"排序\",\"prop\":\"sortNum\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.sortNum($event,scope.row.id)}},model:{value:(scope.row.sortNum),callback:function ($$v) {_vm.$set(scope.row, \"sortNum\", $$v)},expression:\"scope.row.sortNum\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"280\",\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticStyle:{\"text-align\":\"right\"}},[(scope.row.menuType===1)?_c('cms-button',{directives:[{name:\"prem\",rawName:\"v-prem\",value:('/menuManager/save'),expression:\"'/menuManager/save'\"}],attrs:{\"icon\":\"add\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){_vm.$routerLink('/menuManager/save','save',{nodeIds:scope.row.nodeIds.toString(),platformType:_vm.queryParams.platformType})}}},[_vm._v(\"添加下层菜单\\n         \")]):_vm._e(),_vm._v(\" \"),_c('cms-button',{directives:[{name:\"prem\",rawName:\"v-prem\",value:('/menuManager/update'),expression:\"'/menuManager/update'\"}],attrs:{\"icon\":\"edit\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){_vm.$routerLink('/menuManager/update','update',{id:scope.row.id, platformType:_vm.queryParams.platformType,nodeIds:scope.row.nodeIds.toString()})}}},[_vm._v(\"编辑\\n         \")]),_vm._v(\" \"),_c('cms-button',{directives:[{name:\"prem\",rawName:\"v-prem\",value:('/menuManager/delete'),expression:\"'/menuManager/delete'\"}],attrs:{\"icon\":\"delete\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){$event.stopPropagation();_vm.deleteData(scope.row,scope.$index)}}},[_vm._v(\"删除\\n         \")])],1)]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6eef6004\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/platform/permissions/menuManager/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6eef6004\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6eef6004\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=1!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6eef6004\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6eef6004\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/platform/permissions/menuManager/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}