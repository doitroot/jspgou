{"version":3,"sources":["webpack:///src/views/marketing/coupon/edit.vue","webpack:///./src/views/marketing/coupon/edit.vue?5ba3","webpack:///./src/views/marketing/coupon/edit.vue"],"names":["defaultData","coupon","conOrderAmount","discountAmount","getMode","getNum","expirateType","issueNum","name","useBeginTime","useEndTime","useDay","couponType","couponScope","ctgIds","edit","components","categoryCascader","mixins","mixins_form","data","_this","this","notZero","rule","value","callback","Error","timer","formData","assign_default","updateRules","coupon.name","rules","required","len","coupon.couponType","coupon.useDay","number","custom","coupon.conOrderAmount","coupon.issueNum","coupon.getNum","coupon.discountAmount","Number","coupon.useEndTime","methods","getFormData","id","_this2","status","loading","Object","marketing","then","res","code","$moment","ctgs","$set","map","v","changeType","getTimer","$refs","clearValidate","update","params","$cms","deepCopy","updateForm","created","$route","query","coupon_edit","render","_vm","_h","$createElement","_c","_self","attrs","to","type","on","click","rest","_v","_s","staticClass","collapse","directives","rawName","expression","ref","model","label-width","label","prop","error","errorMessage","$$v","change","maxlength","slot","_e","message","trigger","staticStyle","width","disabledType","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/186.b97783ad09d9a02aca11.js","sourcesContent":["<template>\n  <div >\n    <cms-breadcrumb to=\"/coupon/list\" type='list' @click=\"rest\">\n      <li>{{$route.name}}</li>\n    </cms-breadcrumb>\n    <div class=\"cms-form-layout\">\n      <cms-prompt :collapse='false'>\n        <li>可进行添加平台优惠券</li>\n      </cms-prompt>\n      <el-form ref=\"form\" :rules=\"updateRules\" :model=\"formData\" label-width=\"210px\" v-loading='loading' >\n        <el-form-item label=\"优惠券名称\" prop=\"coupon.name\" :error='errorMessage[\"coupon_name\"]'>\n          <el-input v-model=\"formData.coupon.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"优惠券类型\" prop=\"coupon.couponType\" :error='errorMessage[\"coupon_couponType\"]'>\n          <el-radio-group v-model=\"formData.coupon.couponType\" @change=\"changeType\">\n            <el-radio :label=\"1\">活动优惠券</el-radio>\n            <el-radio :label=\"2\">普通优惠券</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"有效期\" prop=\"coupon.useDay\" :error='errorMessage[\"coupon_useDay\"]'\n         v-show=\"formData.coupon.couponType==2\" \n         :rules=\"formData.coupon.couponType==2?updateRules['coupon.useDay']:[] \">\n          <el-input v-model=\"formData.coupon.useDay\" v-if=\"formData.coupon.couponType==2\" maxlength=\"3\">\n            <template slot=\"prepend\">固定天数</template>\n            <template slot=\"append\">天</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"有效期\" prop=\"coupon.useEndTime\" :error='errorMessage[\"coupon_useDay\"]'\n          v-show=\"formData.coupon.couponType==1\"\n          :rules=\"formData.coupon.couponType==1? [{ required: true, message: '请选择有效期', trigger: 'change' }] :[] \">\n          <cms-picker disabledType='todayAfter' v-model=\"timer\" v-if=\"formData.coupon.couponType==1\" \n           style=\"width:380px\" @change=\"getTimer\">\n          </cms-picker>\n        </el-form-item>\n        <el-form-item label=\"使用条件\" prop=\"coupon.conOrderAmount\" :error='errorMessage[\"coupon_conOrderAmount\"]'>\n          <el-input v-model=\"formData.coupon.conOrderAmount\" maxlength=\"8\">\n            <template slot=\"prepend\">满</template>\n            <template slot=\"append\">元</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"面值\" prop=\"coupon.discountAmount\" :error='errorMessage[\"coupon_discountAmount\"]'>\n          <el-input v-model=\"formData.coupon.discountAmount\" maxlength=\"8\">\n            <template slot=\"append\">元</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"发放限制\" prop=\"coupon.issueNum\" >\n          <el-input v-model=\"formData.coupon.issueNum\" maxlength=\"8\"></el-input>\n          <div class=\"gray\">输入几表示限制几张，输入0表示不限制</div>\n        </el-form-item>\n        <el-form-item label=\"领取限制\" prop=\"coupon.getNum\" :error='errorMessage[\"coupon_getNum\"]'>\n          <el-input v-model=\"formData.coupon.getNum\" maxlength=\"6\">\n            <template slot=\"prepend\">每用户</template>\n            <template slot=\"append\">张</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"优惠券使用范围\" prop=\"coupon.couponScope\" :error='errorMessage[\"coupon_couponScope\"]'>\n          <el-radio-group v-model=\"formData.coupon.couponScope\">\n            <el-radio :label=\"1\">全部商品</el-radio>\n            <el-radio :label=\"2\">自营商品</el-radio>\n            <el-radio :label=\"3\">部分类目</el-radio>\n          </el-radio-group>\n          <el-form-item  label=\"选择类目\" label-width='80px' v-show=\"formData.coupon.couponScope===3\">\n           <category-cascader style=\"width:298px;\" v-model=\"formData.ctgIds\" v-if=\"status\"></category-cascader>\n          </el-form-item>\n        </el-form-item>\n      </el-form>\n      <div class=\"cms-form-footer\">\n        <cms-button @click=\"update\" v-color>保存</cms-button>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport rules from '@/rules/index.js'\nimport form from '@/mixins/form.js'\nimport { couponUpdate, couponGet } from '@/api/marketing/index.js'\nimport categoryCascader from '@/components/cms/categoryCascader'\nvar defaultData = {\n  coupon: {\n    conOrderAmount: '',\n    discountAmount: '',\n    getMode: '',\n    getNum: '',\n    expirateType: '',\n    issueNum: '',\n    name: '',\n    useBeginTime: '',\n    useEndTime: '',\n    useDay: '',\n    couponType: '',\n    couponScope: ''\n  },\n  ctgIds: []\n}\nexport default {\n  components: { categoryCascader },\n  mixins: [form],\n  data() {\n    var isAmount = (rule, value, callback) => {\n      if (Number(value) < Number(this.formData.coupon.conOrderAmount)) {\n        callback()\n      } else {\n        callback(new Error('面值不能大于使用条件'))\n      }\n    }\n    var notZero = (rule, value, callback) => { // 验证不能输0\n      if (value === '0') {\n        callback(new Error('请输入大于0的正整数'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      timer: [],\n      formData: Object.assign({}, defaultData),\n      updateRules: {\n        'coupon.name': [rules.required('请填写优惠券名称'), rules.len(1, 20)],\n        'coupon.couponType': [rules.required()],\n        'coupon.useDay': [rules.required(), rules.number(), rules.custom(notZero)],\n        'coupon.conOrderAmount': [rules.required(), rules.number(), rules.custom(notZero)],\n        'coupon.issueNum': [rules.required(), rules.number()],\n        'coupon.getNum': [rules.required(), rules.number(), rules.custom(notZero)],\n        'coupon.discountAmount': [rules.required('此项必填'), rules.number(), rules.custom(isAmount)],\n        'coupon.useEndTime': [rules.required()]\n      }\n    }\n  },\n  methods: {\n    getFormData(id) {\n      this.status = false\n      this.loading = true\n      couponGet({ id: id }).then(res => {\n        if (res.code === 200) {\n          this.formData.coupon = Object.assign({}, res.data)\n          if (res.data.useBeginTime && res.data.useBeginTime !== '') {\n            this.timer = [this.$moment(res.data.useBeginTime), this.$moment(res.data.useEndTime)]\n          }\n          delete this.formData.coupon.ctgs\n          this.$set(this.formData, 'ctgIds', res.data.ctgs.map(v => v.id))\n          this.status = true\n          this.loading = false\n        }\n      })\n    },\n    changeType(value) {\n      this.formData.coupon.expirateType = value\n    },\n    getTimer(value) {\n      this.formData.coupon.useBeginTime = value[0]\n      this.formData.coupon.useEndTime = value[1]\n      this.$refs['form'].clearValidate('coupon.useBeginTime')\n    },\n    update() {\n      const params = this.$cms.deepCopy(this.formData)\n      this.updateForm(couponUpdate, params, '/coupon/list', 'list')\n    }\n  },\n  created() {\n    this.getFormData(this.$route.query.id)\n  }\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/marketing/coupon/edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('cms-breadcrumb',{attrs:{\"to\":\"/coupon/list\",\"type\":\"list\"},on:{\"click\":_vm.rest}},[_c('li',[_vm._v(_vm._s(_vm.$route.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-layout\"},[_c('cms-prompt',{attrs:{\"collapse\":false}},[_c('li',[_vm._v(\"可进行添加平台优惠券\")])]),_vm._v(\" \"),_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"form\",attrs:{\"rules\":_vm.updateRules,\"model\":_vm.formData,\"label-width\":\"210px\"}},[_c('el-form-item',{attrs:{\"label\":\"优惠券名称\",\"prop\":\"coupon.name\",\"error\":_vm.errorMessage[\"coupon_name\"]}},[_c('el-input',{model:{value:(_vm.formData.coupon.name),callback:function ($$v) {_vm.$set(_vm.formData.coupon, \"name\", $$v)},expression:\"formData.coupon.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"优惠券类型\",\"prop\":\"coupon.couponType\",\"error\":_vm.errorMessage[\"coupon_couponType\"]}},[_c('el-radio-group',{on:{\"change\":_vm.changeType},model:{value:(_vm.formData.coupon.couponType),callback:function ($$v) {_vm.$set(_vm.formData.coupon, \"couponType\", $$v)},expression:\"formData.coupon.couponType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"活动优惠券\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"普通优惠券\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.formData.coupon.couponType==2),expression:\"formData.coupon.couponType==2\"}],attrs:{\"label\":\"有效期\",\"prop\":\"coupon.useDay\",\"error\":_vm.errorMessage[\"coupon_useDay\"],\"rules\":_vm.formData.coupon.couponType==2?_vm.updateRules['coupon.useDay']:[]}},[(_vm.formData.coupon.couponType==2)?_c('el-input',{attrs:{\"maxlength\":\"3\"},model:{value:(_vm.formData.coupon.useDay),callback:function ($$v) {_vm.$set(_vm.formData.coupon, \"useDay\", $$v)},expression:\"formData.coupon.useDay\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"固定天数\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"天\")])],2):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.formData.coupon.couponType==1),expression:\"formData.coupon.couponType==1\"}],attrs:{\"label\":\"有效期\",\"prop\":\"coupon.useEndTime\",\"error\":_vm.errorMessage[\"coupon_useDay\"],\"rules\":_vm.formData.coupon.couponType==1? [{ required: true, message: '请选择有效期', trigger: 'change' }] :[]}},[(_vm.formData.coupon.couponType==1)?_c('cms-picker',{staticStyle:{\"width\":\"380px\"},attrs:{\"disabledType\":\"todayAfter\"},on:{\"change\":_vm.getTimer},model:{value:(_vm.timer),callback:function ($$v) {_vm.timer=$$v},expression:\"timer\"}}):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"使用条件\",\"prop\":\"coupon.conOrderAmount\",\"error\":_vm.errorMessage[\"coupon_conOrderAmount\"]}},[_c('el-input',{attrs:{\"maxlength\":\"8\"},model:{value:(_vm.formData.coupon.conOrderAmount),callback:function ($$v) {_vm.$set(_vm.formData.coupon, \"conOrderAmount\", $$v)},expression:\"formData.coupon.conOrderAmount\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"满\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"面值\",\"prop\":\"coupon.discountAmount\",\"error\":_vm.errorMessage[\"coupon_discountAmount\"]}},[_c('el-input',{attrs:{\"maxlength\":\"8\"},model:{value:(_vm.formData.coupon.discountAmount),callback:function ($$v) {_vm.$set(_vm.formData.coupon, \"discountAmount\", $$v)},expression:\"formData.coupon.discountAmount\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"发放限制\",\"prop\":\"coupon.issueNum\"}},[_c('el-input',{attrs:{\"maxlength\":\"8\"},model:{value:(_vm.formData.coupon.issueNum),callback:function ($$v) {_vm.$set(_vm.formData.coupon, \"issueNum\", $$v)},expression:\"formData.coupon.issueNum\"}}),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"输入几表示限制几张，输入0表示不限制\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"领取限制\",\"prop\":\"coupon.getNum\",\"error\":_vm.errorMessage[\"coupon_getNum\"]}},[_c('el-input',{attrs:{\"maxlength\":\"6\"},model:{value:(_vm.formData.coupon.getNum),callback:function ($$v) {_vm.$set(_vm.formData.coupon, \"getNum\", $$v)},expression:\"formData.coupon.getNum\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"每用户\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"张\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"优惠券使用范围\",\"prop\":\"coupon.couponScope\",\"error\":_vm.errorMessage[\"coupon_couponScope\"]}},[_c('el-radio-group',{model:{value:(_vm.formData.coupon.couponScope),callback:function ($$v) {_vm.$set(_vm.formData.coupon, \"couponScope\", $$v)},expression:\"formData.coupon.couponScope\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"全部商品\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"自营商品\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"部分类目\")])],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.formData.coupon.couponScope===3),expression:\"formData.coupon.couponScope===3\"}],attrs:{\"label\":\"选择类目\",\"label-width\":\"80px\"}},[(_vm.status)?_c('category-cascader',{staticStyle:{\"width\":\"298px\"},model:{value:(_vm.formData.ctgIds),callback:function ($$v) {_vm.$set(_vm.formData, \"ctgIds\", $$v)},expression:\"formData.ctgIds\"}}):_vm._e()],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-footer\"},[_c('cms-button',{directives:[{name:\"color\",rawName:\"v-color\"}],on:{\"click\":_vm.update}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-20855a4c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/marketing/coupon/edit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20855a4c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./edit.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20855a4c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/marketing/coupon/edit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}