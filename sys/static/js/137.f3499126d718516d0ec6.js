webpackJsonp([137],{"5ArO":function(e,t){},ORVJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("aA9S"),r=a.n(s),i=a("x1ym"),o=a("lcoF"),l=a("gfuC"),n={id:"",mesCode:"",mesTitle:"",remark:"",mesType:"",tempData:"",details:[{id:"",isOpen:"",mesType:"4",mesContent:""}]},m={name:"messageSetShopEdit",mixins:[o.a],data:function(){return{activeName:"1",formData:r()({},n),isEdit:[!1],tempData:"",saveRules:{mesCode:[i.a.required("请填写模板标识"),i.a.english(),i.a.len(1,150)],mesTitle:[i.a.required("请填写模板标题"),i.a.len(1,150)],remark:[i.a.len(1,500)]}}},methods:{setEdit:function(e){this.tempData=this.formData.details[e].extendedField,this.$set(this.isEdit,e,!0)},setCancel:function(e){this.$set(this.formData.details[e],"extendedField",this.tempData),this.$set(this.isEdit,e,!1)},getFormData:function(e){var t=this;Object(l.e)({id:e}).then(function(e){t.formData=r()(n,e.data)})},changeOpen:function(e){e||this.$refs.mesContent.clearValidate()},update:function(e){this.formData.mesType=this.$route.query.mesType,this.updateForm(l.d,this.formData,"/messageSet/systemTpl/list","list")},reset:function(){this.getFormData(this.$route.query.id),this.$refs.form.clearValidate()}},created:function(){this.getFormData(this.$route.query.id)}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("cms-breadcrumb",{attrs:{to:"/messageSet/systemTpl/list"},on:{click:e.rest}},[a("li",[e._v("系统消息模板-修改")])]),e._v(" "),a("div",{staticClass:"cms-form-layout"},[a("cms-prompt",{attrs:{collapse:!1}},[a("li",[e._v(" 设置系统发送消息的内容、方式")])]),e._v(" "),a("el-form",{ref:"form",attrs:{rules:e.saveRules,model:e.formData,"label-width":"210px"}},[a("el-form-item",{attrs:{label:"模板标识",prop:"mesCode",error:e.errorMessage.mesCode}},[a("div",{staticClass:"message-flow"},[e._v(e._s(e.formData.mesCode))])]),e._v(" "),a("el-form-item",{attrs:{label:"模板标题",prop:"mesTitle",error:e.errorMessage.mesTitle}},[a("el-input",{ref:"first",attrs:{autofocus:!0,maxlength:"100"},model:{value:e.formData.mesTitle,callback:function(t){e.$set(e.formData,"mesTitle",t)},expression:"formData.mesTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板描述",prop:"remark",error:e.errorMessage.remark}},[a("el-input",{attrs:{type:"textarea",rows:6,maxlength:"200"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否启用",prop:"details[0].isOpen"}},[a("cms-switch",{on:{change:e.changeOpen},model:{value:e.formData.details[0].isOpen,callback:function(t){e.$set(e.formData.details[0],"isOpen",t)},expression:"formData.details[0].isOpen"}})],1),e._v(" "),a("el-form-item",{ref:"mesContent",attrs:{label:"模板内容",prop:"details[0].mesContent",rules:e.formData.details[0].isOpen?[{required:!0,message:"模板内容必须填写",trigger:"blur"}]:[]}},[a("el-input",{attrs:{type:"textarea",rows:4,maxlength:"200"},model:{value:e.formData.details[0].mesContent,callback:function(t){e.$set(e.formData.details[0],"mesContent",t)},expression:"formData.details[0].mesContent"}}),e._v(" "),e.isEdit[0]?e._e():a("span",{staticClass:"gray message-flow text-overflow"},[e._v(e._s(e.formData.details[0].extendedField)+" \n          "),a("i",{staticClass:"el-icon-edit message-icon",attrs:{title:"修改"},on:{click:function(t){e.setEdit(0)}}})])],1),e._v(" "),e.isEdit[0]?a("el-form-item",{attrs:{label:"提示文案",prop:"details[0].extendedField"}},[a("el-input",{attrs:{maxlength:"200"},model:{value:e.formData.details[0].extendedField,callback:function(t){e.$set(e.formData.details[0],"extendedField",t)},expression:"formData.details[0].extendedField"}}),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.setCancel(0)}}},[e._v("取消")])],1):e._e()],1),e._v(" "),a("div",{staticClass:"cms-form-footer"},[a("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(t){e.update(!0)}}},[e._v("保存")]),e._v(" "),a("cms-button",{attrs:{type:"rest"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var c=a("C7Lr")(m,d,!1,function(e){a("5ArO")},"data-v-5affe1d6",null);t.default=c.exports}});
//# sourceMappingURL=137.f3499126d718516d0ec6.js.map