webpackJsonp([28],{"0te8":function(t,a){},H3nA:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("UAso"),i=e("2+eX"),n={mixins:[s.a],data:function(){return{el:"dealChart",optionsData:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"left",bottom:0,top:30,right:0,containLabel:!0},xAxis:{splitLine:{show:!1},type:"category",data:[]},yAxis:{splitLine:{show:!1},type:"value"},series:{name:"访问会员数",type:"bar",barMaxWidth:25,barCategoryGap:"10%",data:[320,302,301,334,390,330,320]}},newStatistics:{usedDealProportion:0,newDealConversionRate:0,usedDealMember:0,usedDeaPverage:0,usedDealConversionRate:0,newDealPaymentAmount:0,usedDealPaymentAmount:0,newDealMember:0,newDealProportion:0,newDealAverage:0},localData:{},value:"会员数"}},methods:{changeChartData:function(t){"会员数"===t||"付款金额"===t?(this.optionsData.series={name:t,type:"bar",barMaxWidth:25,barCategoryGap:"10%"},"会员数"===t&&(this.optionsData.series.data=this.localData.dealMember),"付款金额"===t&&(this.optionsData.series.data=this.localData.dealMemberPay),this.chart.setOption(this.optionsData)):(this.optionsData.series={name:t,type:"line"},"客单价"===t&&(this.optionsData.series.data=this.localData.dealMemberAverage),"访问-付款转化率"===t&&(this.optionsData.series.data=this.localData.dealConversionRate),this.chart.setOption(this.optionsData))},getData:function(){var t=this;this.loading=!0,Object(i.d)(this.queryParams).then(function(a){200===a.code&&(t.localData=a.data,t.optionsData.xAxis.data=a.data.statisticsDate,t.optionsData.series.data=a.data.dealMember,t.newStatistics=a.data.newStatistics,t.chart.setOption(t.optionsData))}).finally(function(){t.loading=!1})}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"stat__header"},[e("div",{staticClass:"fl"},[t._v("成交会员分析\n      "),e("el-tooltip",{attrs:{placement:"right",effect:"light"}},[e("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n          新成交会员：统计时间外无成交记录的会员\n          "),e("br"),t._v("老成交会员：统计时间外已存在成交记录的会员\n          "),e("br"),t._v("会员数： 会员类型的总数\n          "),e("br"),t._v("会员占比：会员类型数占总成交会员比例\n          "),e("br"),t._v("客单价：会员类型成交总金额 / 会员类型成交总人数\n          "),e("br"),t._v("付款金额： 会员类型成交总金额\n          "),e("br"),t._v("\n          访问-付款转化率：成交会员总数 / 总访客人数\n          "),e("br")]),t._v(" "),e("i",{staticClass:"el-icon-question"})])],1)]),t._v(" "),e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"stat__body"},[e("el-col",{staticClass:"stat__inner",attrs:{span:24}},[e("el-radio-group",{attrs:{size:"mini"},on:{change:t.changeChartData},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},[e("el-radio-button",{attrs:{label:"会员数"}}),t._v(" "),e("el-radio-button",{attrs:{label:"客单价"}}),t._v(" "),e("el-radio-button",{attrs:{label:"付款金额"}}),t._v(" "),e("el-radio-button",{attrs:{label:"访问-付款转化率"}})],1),t._v(" "),e("table",{staticClass:"stat-inner__table mt-20"},[e("tr",[e("th",[t._v("会员类型")]),t._v(" "),e("th",[t._v("会员数")]),t._v(" "),e("th",[t._v("会员数占比")]),t._v(" "),e("th",[t._v("客单价")]),t._v(" "),e("th",[t._v("付款金额")]),t._v(" "),e("th",[t._v("访问-付款转化率")])]),t._v(" "),e("tr",[e("td",[t._v("新增成交会员")]),t._v(" "),e("td",[t._v(t._s(t.newStatistics.newDealMember))]),t._v(" "),e("td",[t._v(t._s(t.newStatistics.newDealProportion)+"%")]),t._v(" "),e("td",[t._v("¥ "+t._s(t.$cms.float(t.newStatistics.newDealAverage)))]),t._v(" "),e("td",[t._v("¥ "+t._s(t.$cms.float(t.newStatistics.newDealPaymentAmount)))]),t._v(" "),e("td",[t._v(t._s(t.newStatistics.newDealConversionRate)+"%")])]),t._v(" "),e("tr",[e("td",[t._v("旧成交会员数")]),t._v(" "),e("td",[t._v(t._s(t.newStatistics.usedDealMember))]),t._v(" "),e("td",[t._v(t._s(t.newStatistics.usedDealProportion)+"%")]),t._v(" "),e("td",[t._v("¥ "+t._s(t.$cms.float(t.newStatistics.usedDeaPverage)))]),t._v(" "),e("td",[t._v("¥ "+t._s(t.$cms.float(t.newStatistics.usedDealPaymentAmount)))]),t._v(" "),e("td",[t._v(t._s(t.newStatistics.usedDealConversionRate)+"%")])])]),t._v(" "),e("div",{staticClass:"line-chart",attrs:{id:"dealChart"}})],1)],1)],1)},staticRenderFns:[]};var r=e("C7Lr")(n,o,!1,function(t){e("yJr0")},"data-v-34f40b90",null).exports,l={mixins:[s.a],data:function(){return{el:"activeChart",optionsData:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["访问会员数","加购会员数","成交会员数"],left:"left"},grid:{left:"left",bottom:0,containLabel:!0},xAxis:{type:"value"},yAxis:{splitLine:{show:!1},type:"category",data:["周一","周二","周三","周四","周五","周六","周日"]},series:[{name:"访问会员数",type:"bar",stack:"总量",label:{normal:{show:!0,position:"insideRight",formatter:function(t){return 0===t.value?"":t.value}}},data:[320,302,301,334,390,330,320]},{name:"加购会员数",type:"bar",stack:"总量",label:{normal:{show:!0,position:"insideRight",formatter:function(t){return 0===t.value?"":t.value}}},data:[120,132,101,134,90,230,210]},{name:"成交会员数",type:"bar",stack:"总量",label:{normal:{show:!0,position:"insideRight",formatter:function(t){return 0===t.value?"":t.value}}},data:[220,182,191,234,290,330,310]}]},newStatistics:{visitProportion:0,newAddPurchaseMember:0,addPurchaseProportion:0,newDealMember:0,dealProportion:0,newVisitMember:0}}},methods:{getData:function(){var t=this;this.loading=!0,Object(i.c)(this.queryParams).then(function(a){200===a.code&&(t.optionsData.yAxis.data=a.data.statisticsDate,t.optionsData.series[0].data=a.data.visitMember,t.optionsData.series[1].data=a.data.addPurchaseMember,t.optionsData.series[2].data=a.data.dealMember,t.newStatistics=a.data.newStatistics,t.chart.setOption(t.optionsData))}).finally(function(){t.loading=!1})}}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"stat__header"},[e("div",{staticClass:"fl"},[t._v("活跃会员\n      "),e("el-tooltip",{attrs:{placement:"right",effect:"light"}},[e("div",{attrs:{slot:"content"},slot:"content"},[t._v("访问会员数： 访问系统的会员数，相同会员多次记一个\n          "),e("br"),t._v("加购会员数：成功加入购物车的会员数，相同会员多次记一个\n          "),e("br"),t._v("成交会员数：成功下单且支付的会员总数，相同会员多次记一个\n          "),e("br")]),t._v(" "),e("i",{staticClass:"el-icon-question"})])],1)]),t._v(" "),e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"stat__body"},[e("el-col",{staticClass:"stat__inner",attrs:{span:24}},[e("el-row",{staticClass:"stat-card__list",attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("li",{staticClass:"stat-card"},[e("p",[t._v("访问会员数")]),t._v(" "),e("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.newVisitMember}}),t._v(" "),e("p",{staticClass:"card-prop"},[e("span",[t._v("占比:")]),t._v(" "),e("span",{staticClass:"up"},[t._v(t._s(t.newStatistics.visitProportion)+"%")])])],1)]),t._v(" "),e("el-col",{attrs:{span:6}},[e("li",{staticClass:"stat-card"},[e("p",[t._v("加购会员数")]),t._v(" "),e("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.newAddPurchaseMember}}),t._v(" "),e("p",{staticClass:"card-prop"},[e("span",[t._v("占比:")]),t._v(" "),e("span",{staticClass:"up"},[t._v(t._s(t.newStatistics.addPurchaseProportion)+"%")])])],1)]),t._v(" "),e("el-col",{attrs:{span:6}},[e("li",{staticClass:"stat-card"},[e("p",[t._v("成交会员数")]),t._v(" "),e("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.newDealMember}}),t._v(" "),e("p",{staticClass:"card-prop"},[e("span",[t._v("占比:")]),t._v(" "),e("span",{staticClass:"up"},[t._v(t._s(t.newStatistics.dealProportion)+"%")])])],1)])],1),t._v(" "),e("div",{staticClass:"line-chart",attrs:{id:"activeChart"}})],1)],1)],1)},staticRenderFns:[]};var d=e("C7Lr")(l,c,!1,function(t){e("0te8")},"data-v-455adbac",null).exports,v={mixins:[s.a],data:function(){return{el:"countChart",optionsData:{tooltip:{trigger:"axis"},legend:{data:["累积会员总数","新增会员总数","充值会员数"],left:30,top:20},grid:{top:60,left:30,right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!0,splitLine:{show:!1},data:["00-00","0-0","0-0"]},yAxis:[{axisLine:{show:!1},splitLine:{lineStyle:{type:"dotted"}},type:"value"},{axisLine:{show:!1},splitLine:{lineStyle:{type:"dotted"}},type:"value",axisLabel:{formatter:function(t){var a=[],e=100*t;return a.push(e+"%"),a}}}],series:[{name:"累积会员总数",type:"line",smooth:!0,data:[]},{name:"新增会员总数",type:"line",smooth:!0,data:[]},{name:"充值会员数",type:"line",smooth:!0,data:[]}]},newStatistics:{sumMemberCount:0,sumNewMember:0,sumRechargeMember:0}}},methods:{getData:function(){var t=this;this.loading=!0,Object(i.e)(this.queryParams).then(function(a){200===a.code&&(t.newStatistics=a.data.newStatistics,t.optionsData.xAxis.data=a.data.statisticsDate,t.optionsData.series[0].data=a.data.countMember,t.optionsData.series[1].data=a.data.newMember,t.optionsData.series[2].data=a.data.rechargeMember,t.chart.setOption(t.optionsData))}).finally(function(){t.loading=!1})}}},_={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"stat__header"},[e("div",{staticClass:"fl"},[t._v("会员统计\n      "),e("el-tooltip",{attrs:{placement:"right",effect:"light"}},[e("div",{attrs:{slot:"content"},slot:"content"},[t._v("累计会员总数： 累计注册用户的总数，相同会员多次记一个\n          "),e("br"),t._v("新增会员数：新增注册用户数，相同会员多次记一个\n          "),e("br"),t._v("充值会员数：充值金额的会员数，相同会员多次记一个\n          "),e("br")]),t._v(" "),e("i",{staticClass:"el-icon-question"})])],1)]),t._v(" "),e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"stat__body"},[e("el-col",{staticClass:"stat__inner",attrs:{span:24}},[e("el-row",{staticClass:"stat-card__list",attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("li",{staticClass:"stat-card"},[e("p",[t._v("累积会员总数")]),t._v(" "),e("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.sumMemberCount}})],1)]),t._v(" "),e("el-col",{attrs:{span:6}},[e("li",{staticClass:"stat-card"},[e("p",[t._v("新增会员总数")]),t._v(" "),e("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.sumNewMember}})],1)]),t._v(" "),e("el-col",{attrs:{span:6}},[e("li",{staticClass:"stat-card"},[e("p",[t._v("充值会员数")]),t._v(" "),e("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.sumRechargeMember}})],1)])],1),t._v(" "),e("div",{staticClass:"line-chart",attrs:{id:"countChart"}})],1)],1)],1)},staticRenderFns:[]};var u={components:{dealMember:r,activeMember:d,countMember:e("C7Lr")(v,_,!1,function(t){e("Pr9e")},"data-v-05d66a4f",null).exports,timer:e("M3BV").a},data:function(){return{value:["",""]}},methods:{getTime:function(t){this.value=t}}},p={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"stat__layout"},[a("timer",{on:{change:this.getTime}}),this._v(" "),a("count-member",{staticClass:"mt-20",attrs:{"time-data":this.value}}),this._v(" "),a("active-member",{staticClass:"mt-20",attrs:{"time-data":this.value}}),this._v(" "),a("deal-member",{staticClass:"mt-20",attrs:{"time-data":this.value}})],1)},staticRenderFns:[]};var m=e("C7Lr")(u,p,!1,function(t){e("W50u")},null,null);a.default=m.exports},Pr9e:function(t,a){},W50u:function(t,a){},yJr0:function(t,a){}});
//# sourceMappingURL=28.bffd0dad3a6517e51446.js.map