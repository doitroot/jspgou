webpackJsonp([64],{"M+PE":function(e,t){},xKTc:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("aA9S"),i=s.n(a),l=s("5HJ5"),n=s("gfuC"),o={mesType:2},r={name:"messageSetShopList",mixins:[l.a],data:function(){return{queryParams:i()({},o)}},methods:{setDisable:function(e,t){var s=this;t?Object(n.f)({isOpen:t,id:e}).then(function(e){200===e.code?s.$successMessage("开启成功"):s.$errorMessage("开启失败")}):Object(n.f)({isOpen:t,id:e}).then(function(e){200===e.code?s.$successMessage("关闭成功"):s.$errorMessage("关闭失败")})}},activated:function(){"list"===this.$route.query.type&&(this.queryParams=i()({},o),this.getTableData(n.b,this.queryParams))},created:function(){this.getTableData(n.b,this.queryParams)}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cms-list-layout"},[s("cms-tabs",[s("cms-tab",{attrs:{to:"/messageSet/captcha/list"}},[e._v("验证码")]),e._v(" "),s("cms-tab",{attrs:{to:"/messageSet/systemTpl/list"}},[e._v("系统提示信息")]),e._v(" "),s("cms-tab",{attrs:{to:"/messageSet/platformTpl/list"}},[e._v("平台消息模板")]),e._v(" "),s("cms-tab",{attrs:{to:"/messageSet/userTpl/list"}},[e._v("用户消息模板")]),e._v(" "),s("cms-tab",{attrs:{to:"/messageSet/shopTpl/list"}},[e._v("商家消息模板")])],1),e._v(" "),s("cms-prompt",{attrs:{collapse:"false"}},[s("li",[e._v("设置对商家发送消息的内容、方式")]),e._v(" "),s("li",[e._v("邮箱、短信、推送途径是否发送还需取决于邮箱设置、短信设置及推送设置中是否开启，只有当两者都开启的情况下系统才能正常发送")])]),e._v(" "),s("cms-sticky",[s("section",{staticClass:"cms-batch",staticStyle:{border:"0","padding-top":"1px"}},[s("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/messageSet/userTpl/save",expression:"'/messageSet/userTpl/save'"}],attrs:{icon:"add",type:"success",size:"small"},on:{click:function(t){e.$routerLink("/messageSet/shopTpl/save","save",{mesType:2})}}},[e._v("新增")])],1)]),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.getCheckItems,"row-click":e.checkRows}},[s("el-table-column",{attrs:{prop:"mesCode",label:"模板标识","min-width":"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"text-overflow",attrs:{title:t.row.mesCode}},[e._v(" "+e._s(t.row.mesCode))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"mesTitle",label:"模板标题","min-width":"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"text-overflow",attrs:{title:t.row.mesTitle}},[e._v(" "+e._s(t.row.mesTitle))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"remark",label:"模板描述","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"text-overflow",attrs:{title:t.row.remark}},[e._v(" "+e._s(t.row.remark))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"details.mesType",label:"站内信","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.details&&t.row.details.length>=1?s("div",[s("cms-switch",{on:{change:function(s){e.setDisable(t.row.details[0].id,t.row.details[0].isOpen)}},model:{value:t.row.details[0].isOpen,callback:function(s){e.$set(t.row.details[0],"isOpen",s)},expression:"scope.row.details[0].isOpen"}})],1):s("div",[e._v("\n          -\n        ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"details.mesType",label:"邮件","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.details&&t.row.details.length>=2?s("div",[s("cms-switch",{on:{change:function(s){e.setDisable(t.row.details[1].id,t.row.details[1].isOpen)}},model:{value:t.row.details[1].isOpen,callback:function(s){e.$set(t.row.details[1],"isOpen",s)},expression:"scope.row.details[1].isOpen"}})],1):s("div",[e._v("\n          -\n        ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"details.mesType",label:"手机","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.details&&t.row.details.length>=3?s("div",[s("cms-switch",{on:{change:function(s){e.setDisable(t.row.details[2].id,t.row.details[2].isOpen)}},model:{value:t.row.details[2].isOpen,callback:function(s){e.$set(t.row.details[2],"isOpen",s)},expression:"scope.row.details[2].isOpen"}})],1):s("div",[e._v("\n          -\n        ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"140",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return s("div",{},[s("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(s){s.stopPropagation(),e.$routerLink("/messageSet/shopTpl/edit","update",{id:t.row.id,mesType:2})}}},[e._v("编辑")])],1)}}])})],1),e._v(" "),s("cms-pagination",{attrs:{total:e.total},on:{change:e.getPage}})],1)},staticRenderFns:[]};var d=s("C7Lr")(r,c,!1,function(e){s("M+PE")},null,null);t.default=d.exports}});
//# sourceMappingURL=64.ee5340bff31ce556dd9e.js.map