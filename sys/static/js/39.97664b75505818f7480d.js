webpackJsonp([39],{Y4I7:function(e,t){},hVCO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),s=a.n(r),l=[{label:"无限制",value:"0"},{label:"500KB",value:"500"},{label:"1MB",value:"1024"},{label:"2MB",value:"2048"},{label:"5MB",value:"5120"},{label:"10MB",value:"10240"},{label:"50MB",value:"51200"}],o=[{label:"全部类型",options:[{value:"",label:"无限制"}]},{label:"图片格式",options:[{value:"jpg",label:"jpg"},{value:"jpeg",label:"jpeg"},{value:"png",label:"png"},{value:"gif",label:"gif"},{value:"bmp",label:"bmp"},{value:"psd",label:"psd"}]},{label:"视频格式",options:[{value:"mp4",label:"mp4"},{value:"rmvb",label:"rmvb"},{value:"3gp",label:"3gp"},{value:"mkv",label:"mkv"},{value:"wmv",label:"wmv"},{value:"flv",label:"flv"},{value:"m4v",label:"m4v"},{value:"mov",label:"mov"}]},{label:"音频格式",options:[{value:"mp3",label:"mp3"},{value:"wav",label:"wav"},{value:"ogg",label:"ogg"},{value:"acc",label:"acc"}]},{label:"文档格式",options:[{value:"doc",label:"doc"},{value:"docx",label:"docx"},{value:"xls",label:"xls"},{value:"xlsx",label:"xlsx"},{value:"txt",label:"txt"},{value:"wps",label:"wps"},{value:"ppt",label:"ppt"},{value:"pptx",label:"pptx"},{value:"pdf",label:"pdf"}]},{label:"压缩格式",options:[{value:"zip",label:"zip"},{value:"rar",label:"rar"},{value:"gzip",label:"gzip"},{value:"7-zip",label:"7-zip"},{value:"tar",label:"tar"}]}],i=a("x1ym"),n=a("lcoF"),m=a("zdoE"),c=a("qWV5"),d=a("HNM5"),u={data:function(){return{loading:!1}},computed:{formData:function(){return this.$store.state.system.globalData}},methods:{saveData:function(){var e=this;this.$refs.form.validate(function(t,a){if(t){var r=e.$cms.deepCopy(e.formData);delete r.configAttr,r.attrs.uploadSuffix=r.uploadSuffixGroup.join(","),e.loading=!0,function(e){return d.a.post("/admin/platform/config/global/save",e)}(r).then(function(t){e.loading=!1,200===t.code?(e.$store.dispatch("setGlobalData",r),e.$successMessage("修改成功")):e.$errorMessage(t.message)})}else{var s="";for(var l in a)if(a.hasOwnProperty(l)){s=l;break}e.errorPosition(s)}})}},created:function(){},mounted:function(){}},p={mixins:[n.a,u],data:function(){return{typeItems:s()({},o),sizeItems:s()({},l),ftpItems:[],ossItems:[],rules:{"attrs.mallName":[i.a.required()],"attrs.serverEmail":[i.a.email()],"attrs.uploadWay":[i.a.required()],"attrs.description":[i.a.max(140)],"attrs.serverPhone":[i.a.custom(function(e,t,a){""===t?a():/^((0\d{2,3}-\d{7,8})|(1{1}\d{10}))$/.test(t)?a():a(new Error("客服电话格式不正确"))})]}}},methods:{getData:function(){var e=this;Object(c.c)({page:1,size:99999}).then(function(t){e.ftpItems=t.data.content}),Object(m.d)({page:1,size:99999}).then(function(t){e.ossItems=t.data.content})}},created:function(){this.getData()}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cms-form-layout",staticStyle:{"padding-top":"0"}},[a("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{rules:e.rules,model:e.formData,"label-width":"210px"}},[a("el-form-item",{ref:"attrs.mallName",attrs:{label:"商城名称",prop:"attrs.mallName",error:e.errorMessage.smtpService}},[a("el-input",{ref:"first",attrs:{autofocus:!0,maxlength:"50"},model:{value:e.formData.attrs.mallName,callback:function(t){e.$set(e.formData.attrs,"mallName",t)},expression:"formData.attrs.mallName"}}),e._v(" "),a("div",{staticClass:"gray"})],1),e._v(" "),a("el-form-item",{attrs:{label:"标题",prop:"attrs.title",error:e.errorMessage.smtpPort}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.formData.attrs.title,callback:function(t){e.$set(e.formData.attrs,"title",t)},expression:"formData.attrs.title"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("显示在商城页面title中")])],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"attrs.description",error:e.errorMessage.emailPassword}},[a("el-input",{attrs:{maxlength:"200"},model:{value:e.formData.attrs.description,callback:function(t){e.$set(e.formData.attrs,"description",t)},expression:"formData.attrs.description"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("显示在商城页面description中")])],1),e._v(" "),a("el-form-item",{attrs:{label:"关键词",prop:"attrs.keywords",error:e.errorMessage.testemail}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.formData.attrs.keywords,callback:function(t){e.$set(e.formData.attrs,"keywords",t)},expression:"formData.attrs.keywords"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("显示在商城页面keyworkds中")])],1),e._v(" "),a("el-form-item",{attrs:{label:"ftp",prop:"uploadFtpId",error:e.errorMessage.testemail}},[a("el-select",{model:{value:e.formData.uploadFtpId,callback:function(t){e.$set(e.formData,"uploadFtpId",t)},expression:"formData.uploadFtpId"}},[a("el-option",{attrs:{label:"请选择",value:null}}),e._v(" "),e._l(e.ftpItems,function(e){return a("el-option",{key:e.id,attrs:{label:e.ftpName,value:e.id}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"云存储",prop:"uploadOssId",error:e.errorMessage.testemail}},[a("el-select",{model:{value:e.formData.uploadOssId,callback:function(t){e.$set(e.formData,"uploadOssId",t)},expression:"formData.uploadOssId"}},[a("el-option",{attrs:{label:"请选择",value:null}}),e._v(" "),e._l(e.ossItems,function(e){return a("el-option",{key:e.id,attrs:{label:e.ossName,value:e.id}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"上传模式",prop:"attrs.uploadWay",error:e.errorMessage.testemail}},[a("el-radio-group",{model:{value:e.formData.attrs.uploadWay,callback:function(t){e.$set(e.formData.attrs,"uploadWay",t)},expression:"formData.attrs.uploadWay"}},[a("el-radio",{attrs:{label:"1"}},[e._v("先云存储后FTP")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("先FTP后云存储")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"附件上传最大限制",prop:"attrs.uploadSize",error:e.errorMessage.testemail}},[a("el-select",{model:{value:e.formData.attrs.uploadSize,callback:function(t){e.$set(e.formData.attrs,"uploadSize",t)},expression:"formData.attrs.uploadSize"}},e._l(e.sizeItems,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"附件上传后缀",prop:"uploadSuffixGroup",error:e.errorMessage.testemail}},[a("el-select",{attrs:{multiple:"",filterable:"",size:"mini"},model:{value:e.formData.uploadSuffixGroup,callback:function(t){e.$set(e.formData,"uploadSuffixGroup",t)},expression:"formData.uploadSuffixGroup"}},e._l(e.typeItems,function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v("\n            "+e._s(t.label)+"\n          ")])}),1)}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"客服电话",prop:"attrs.serverPhone",error:e.errorMessage.testemail}},[a("el-input",{attrs:{maxlength:"15"},model:{value:e.formData.attrs.serverPhone,callback:function(t){e.$set(e.formData.attrs,"serverPhone",t)},expression:"formData.attrs.serverPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客服邮箱",prop:"attrs.serverEmail",error:e.errorMessage.testemail}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.formData.attrs.serverEmail,callback:function(t){e.$set(e.formData.attrs,"serverEmail",t)},expression:"formData.attrs.serverEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系地址",prop:"attrs.contactAddress",error:e.errorMessage.testemail}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.formData.attrs.contactAddress,callback:function(t){e.$set(e.formData.attrs,"contactAddress",t)},expression:"formData.attrs.contactAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"平台客服",prop:"attrs.serverPlatform",error:e.errorMessage.testemail}},[a("el-input",{attrs:{type:"textarea",rows:4,maxlength:"200"},model:{value:e.formData.attrs.serverPlatform,callback:function(t){e.$set(e.formData.attrs,"serverPlatform",t)},expression:"formData.attrs.serverPlatform"}}),e._v(" "),a("span",{staticClass:"gray"},[e._v("设置平台客服，多组客服换行填写，用户联系客服，将随机选中其中一组。格式为：客服一|123456789|旺旺（仅支持QQ及旺旺）")])],1),e._v(" "),a("el-form-item",[a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/shopSetting",expression:"'/shopSetting'"},{name:"color",rawName:"v-color"}],on:{click:function(t){e.saveData()}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},v=a("C7Lr")(p,f,!1,null,null,null).exports,b={mixins:[n.a,u],data:function(){return{rules:{"attrs.orderScoreOffset":[i.a.required(),i.a.float()],"attrs.scoreConversion":[i.a.required(),i.a.number()],"attrs.minScoreForUseMoney":[i.a.required(),i.a.float(),i.a.decimal()],"attrs.orderForUseRpk":[i.a.required(),i.a.float()],"attrs.rpkConversion":[i.a.required(),i.a.number()],"attrs.minRpkRestrict":[i.a.required(),i.a.number(),i.a.max(8)],"attrs.orderAutoReceiveTime":[i.a.required(),i.a.number()],"attrs.orderCloseHour":[i.a.required(),i.a.number()],"attrs.orderExtendReceiveTime":[i.a.required(),i.a.number()],"attrs.orderRefundReceiveDay":[i.a.required(),i.a.number()],"attrs.orderRefundSellerCheckDay":[i.a.required(),i.a.number()],"attrs.orderRefundMemberShipDay":[i.a.required(),i.a.number()],"attrs.orderRefundSellerReceiveDay":[i.a.required(),i.a.number()],"attrs.orderRefundSellerShipDay":[i.a.required(),i.a.number()],"attrs.orderRefundMemberReceiveDay":[i.a.required(),i.a.number()],"attrs.orderCommentMaxTime":[i.a.required(),i.a.number()]}}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cms-form-layout",staticStyle:{"padding-top":"0"}},[a("el-form",{ref:"form",staticClass:"register-form",staticStyle:{"margin-top":"20px"},attrs:{rules:e.rules,model:e.formData,"label-width":"320px"}},[a("el-form-item",{ref:"attrs.orderScoreOffset",attrs:{label:"订单金额最高支持积分抵扣额度比例",prop:"attrs.orderScoreOffset"}},[a("el-input-number",{attrs:{precision:1,step:.1,max:1,min:0,size:"small"},model:{value:e.formData.attrs.orderScoreOffset,callback:function(t){e.$set(e.formData.attrs,"orderScoreOffset",t)},expression:"formData.attrs.orderScoreOffset"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("填写0至1之间的数字，设置订单金额最高能使用积分抵扣额度的比例，如订单100.00，比例为0.1，则最高抵扣额度为10")])],1),e._v(" "),a("el-form-item",{ref:"attrs.scoreConversion",attrs:{label:"积分换算比例",prop:"attrs.scoreConversion"}},[a("el-input-number",{attrs:{step:1,max:100,min:1,size:"small"},model:{value:e.formData.attrs.scoreConversion,callback:function(t){e.$set(e.formData.attrs,"scoreConversion",t)},expression:"formData.attrs.scoreConversion"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("比例填写整数，表示100积分换算多少购买金额")])],1),e._v(" "),a("el-form-item",{ref:"attrs.minScoreForUseMoney",attrs:{label:"积分最低使用金额限制",prop:"attrs.minScoreForUseMoney"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"8"},model:{value:e.formData.attrs.minScoreForUseMoney,callback:function(t){e.$set(e.formData.attrs,"minScoreForUseMoney",t)},expression:"formData.attrs.minScoreForUseMoney"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置订单金额必须高于设定金额，才能使用积分抵扣")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderForUseRpk",attrs:{label:"订单金额最高支持红包抵扣额度比例",prop:"attrs.orderForUseRpk"}},[a("el-input-number",{attrs:{precision:1,step:.1,max:1,min:0,size:"small"},model:{value:e.formData.attrs.orderForUseRpk,callback:function(t){e.$set(e.formData.attrs,"orderForUseRpk",t)},expression:"formData.attrs.orderForUseRpk"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("填写0至1之间数字，设置订单金额最高能使用红包抵扣额度的比例，如订单100.00，比例为0.1，则最高抵扣额度为10")])],1),e._v(" "),a("el-form-item",{ref:"attrs.rpkConversion",attrs:{label:"红包换算比例",prop:"attrs.rpkConversion"}},[a("el-input-number",{attrs:{step:1,max:100,min:1,size:"small"},model:{value:e.formData.attrs.rpkConversion,callback:function(t){e.$set(e.formData.attrs,"rpkConversion",t)},expression:"formData.attrs.rpkConversion"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("比例填写整数，表示100红包换算多少购买金额")])],1),e._v(" "),a("el-form-item",{ref:"attrs.minRpkRestrict",attrs:{label:"红包最低使用金额限制",prop:"attrs.minRpkRestrict"}},[a("el-input",{staticClass:"sort-input",attrs:{type:"number"},model:{value:e.formData.attrs.minRpkRestrict,callback:function(t){e.$set(e.formData.attrs,"minRpkRestrict",t)},expression:"formData.attrs.minRpkRestrict"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("填写整数，设置订单金额必须高于设定金额，才能使用红包抵扣")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderAutoReceiveTime",attrs:{label:"订单自动确认收货时效",prop:"attrs.orderAutoReceiveTime"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"3"},model:{value:e.formData.attrs.orderAutoReceiveTime,callback:function(t){e.$set(e.formData.attrs,"orderAutoReceiveTime",t)},expression:"formData.attrs.orderAutoReceiveTime"}},[a("template",{slot:"append"},[e._v("天")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置订单自动确认收货时效，以订单发货时间开始计算，超过期限，系统自动确认收货")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderCloseHour",attrs:{label:"订单自动关闭时效",prop:"attrs.orderCloseHour"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"2"},model:{value:e.formData.attrs.orderCloseHour,callback:function(t){e.$set(e.formData.attrs,"orderCloseHour",t)},expression:"formData.attrs.orderCloseHour"}},[a("template",{slot:"append"},[e._v("小时")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置订单在用户未支付的情况下，系统自动关闭时效")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderExtendReceiveTime",attrs:{label:"延长订单收货时长",prop:"attrs.orderExtendReceiveTime"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"2"},model:{value:e.formData.attrs.orderExtendReceiveTime,callback:function(t){e.$set(e.formData.attrs,"orderExtendReceiveTime",t)},expression:"formData.attrs.orderExtendReceiveTime"}},[a("template",{slot:"append"},[e._v("天")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置用户延长收货操作时的天数")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderRefundReceiveDay",attrs:{label:"订单申请售后时效",prop:"attrs.orderRefundReceiveDay"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"3"},model:{value:e.formData.attrs.orderRefundReceiveDay,callback:function(t){e.$set(e.formData.attrs,"orderRefundReceiveDay",t)},expression:"formData.attrs.orderRefundReceiveDay"}},[a("template",{slot:"append"},[e._v("天")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置用户延长收货操作时的时长，以订单确认收货时间开始，超出该时长后，用户无法再对订单申请售后操作")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderRefundSellerCheckDay",attrs:{label:"售后等待卖家审核时效",prop:"attrs.orderRefundSellerCheckDay"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"3"},model:{value:e.formData.attrs.orderRefundSellerCheckDay,callback:function(t){e.$set(e.formData.attrs,"orderRefundSellerCheckDay",t)},expression:"formData.attrs.orderRefundSellerCheckDay"}},[a("template",{slot:"append"},[e._v("天")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置用户提交的售后申请，等待卖家审核时效，以用户申请服务单时间开始，超出时效后，系统会自动审核通过")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderRefundMemberShipDay",attrs:{label:"售后等待买家发货时效",prop:"attrs.orderRefundMemberShipDay"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"3"},model:{value:e.formData.attrs.orderRefundMemberShipDay,callback:function(t){e.$set(e.formData.attrs,"orderRefundMemberShipDay",t)},expression:"formData.attrs.orderRefundMemberShipDay"}},[a("template",{slot:"append"},[e._v("天")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置卖家审核售后服务单(仅限退货/换货)后，以卖家审核通过时间开始，用户未发货，超出时效后，系统结束当前售后申请服务")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderRefundSellerReceiveDay",attrs:{label:"售后等待卖家收货时效",prop:"attrs.orderRefundSellerReceiveDay"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"3"},model:{value:e.formData.attrs.orderRefundSellerReceiveDay,callback:function(t){e.$set(e.formData.attrs,"orderRefundSellerReceiveDay",t)},expression:"formData.attrs.orderRefundSellerReceiveDay"}},[a("template",{slot:"append"},[e._v("天")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置买家发货后(仅限退货/换货服务)后，以买家发货时间开始，卖家未确认收货，超出时效后，系统自动确认收货")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderRefundSellerShipDay",attrs:{label:"售后等待卖家发货时效",prop:"attrs.orderRefundSellerShipDay"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"3"},model:{value:e.formData.attrs.orderRefundSellerShipDay,callback:function(t){e.$set(e.formData.attrs,"orderRefundSellerShipDay",t)},expression:"formData.attrs.orderRefundSellerShipDay"}},[a("template",{slot:"append"},[e._v("天")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置确认收货之后（仅限换货服务），以卖家确认收货时间开始，卖家未发货，超出时效后，系统自动发起退款处理，换货失败")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderRefundMemberReceiveDay",attrs:{label:"售后等待买家收货时效",prop:"attrs.orderRefundMemberReceiveDay"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"3"},model:{value:e.formData.attrs.orderRefundMemberReceiveDay,callback:function(t){e.$set(e.formData.attrs,"orderRefundMemberReceiveDay",t)},expression:"formData.attrs.orderRefundMemberReceiveDay"}},[a("template",{slot:"append"},[e._v("天")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置卖家发货后(仅限换货服务)后，以卖家发货时间开始，用户未确认收货，超出时效后，系统自动确认收货")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderCommentMaxTime",attrs:{label:"订单自动评价时效",prop:"attrs.orderCommentMaxTime"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"3"},model:{value:e.formData.attrs.orderCommentMaxTime,callback:function(t){e.$set(e.formData.attrs,"orderCommentMaxTime",t)},expression:"formData.attrs.orderCommentMaxTime"}},[a("template",{slot:"append"},[e._v("天")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置订单自动评价时效后，在订单确认收货成功后，超过设置天数后，系统会自动进行订单好评")])],1),e._v(" "),a("el-form-item",[a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/shopSetting",expression:"'/shopSetting'"},{name:"color",rawName:"v-color"}],on:{click:function(t){e.saveData()}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},h=a("C7Lr")(b,g,!1,null,null,null).exports,D=a("kfHR"),_=a.n(D),x=a("oW3I"),y=a("bS8P"),k=a("5HJ5"),S={mixins:[k.a],name:"cmsMember",props:{value:{},multiple:{type:Boolean,default:!0},labelName:{type:String,default:"name"}},data:function(){return{dialogVisible:!1,checkItems:[],selectIndex:"",queryParams:{parentId:"",childs:{parentId:""}},checkedNames:"",typeList:[],tableData:[],expandAll:!1,selfId:0,columnState:!0}},methods:{getCurrentRow:function(e){},initData:function(){this.dialogVisible=!0,this.getTableData(y.d,this.queryParams)},checkRows:function(e){this.multiple?this.$refs.dataTable.toggleRowSelection(e):(this.selectIndex=this.tableData.indexOf(e),this.checkItems=[e])},determine:function(){var e=this;this.$emit("get",this.checkItems),this.$emit("input",parseInt(this.checkItems.map(function(e){return e.id}))),this.checkedNames=this.checkItems.map(function(t){return t[e.labelName]}).toString(),this.close()},close:function(e){this.checkItems=[],this.selectIndex="",this.$refs.dataTable.clearSelection(),this.dialogVisible=!1},showRow:function(e){var t=e.row._show;return e.row._show=t,t?"animation:treeTableShow 1s;-webkit-animation:treeTableShow 1s;":"display:none;"},toggleExpanded:function(e){var t=this,a=this.tableData[e];a._expanded?a._load?(this.chidView(a,!0),a._expanded=!1):(this.queryParams.parentId=a.id,this.loading=!0,Object(y.d)(this.queryParams).then(function(r){if(200===r.code){for(var s=Object(x.a)(r.data),l=0;l<s.length;l++)t.tableData.splice(e+(l+1),0,s[l]);a._expanded=!1,a._load=!0,t.loading=!1}})):(a._expanded=!0,this.chidView(a,!1))},chidView:function(e,t){var a=[];_()(this.tableData).forEach(function(r){r.nodeIds.indexOf(e.id)>-1&&r.id!==e.id&&(r._show=t),a.push(r)}),this.tableData=a},iconShow:function(e,t){return!t.isChild},getTableData:function(e,t){var a=this;e(t).then(function(e){200===e.code&&(a.tableData=Object(x.a)(e.data),a.loading=!1)})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{staticStyle:{width:"380px",cursor:"pointer"},attrs:{readonly:!0},model:{value:e.checkedNames,callback:function(t){e.checkedNames=t},expression:"checkedNames"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.initData},slot:"append"})],1),e._v(" "),a("el-dialog",{attrs:{title:"会员选择",visible:e.dialogVisible,width:"900px","before-close":e.close}},[a("div",{staticClass:"cms-dialog__body"},[a("section",{staticClass:"cms-list-query",staticStyle:{"margin-left":"20px"}},[a("div",{staticClass:"query-group"},[a("label",[e._v("菜单名称")]),e._v(" "),a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.query(t):null}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:e.query}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{ref:"dataTable",staticStyle:{cursor:"pointer"},attrs:{data:e.tableData,"max-height":"500"},on:{"selection-change":e.getCheckItems,"row-click":e.checkRows}},[e.multiple?a("el-table-column",{attrs:{width:"60",type:"selection"}}):a("el-table-column",{attrs:{width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[a("el-radio",{attrs:{label:t.$index},model:{value:e.selectIndex,callback:function(t){e.selectIndex=t},expression:"selectIndex"}},[e._v(" ")])],1)}}])}),e._v(" "),a("el-table-column",{attrs:{label:"菜单名称","min-width":"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.iconShow(t.$index,t.row)?a("div",{staticClass:"menu-name",style:{marginLeft:16*t.row._level+"px"},on:{click:function(a){e.toggleExpanded(t.$index)}}},[a("span",{staticClass:"tree-ctrl"},[t.row._expanded?a("i",{staticClass:"el-icon-caret-right"}):a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("span",[e._v(e._s(t.row.name))])]):a("div",{style:{marginLeft:16*t.row._level+"px"}},[a("span",{staticClass:"icon-dot"},[e._v("○")]),e._v(" "),a("span",[e._v(e._s(t.row.name))])])]}}])})],1),e._v(" "),a("cms-pagination",{attrs:{total:e.total},on:{change:e.getPage}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("cms-button",{attrs:{type:"primary"},on:{click:e.determine}},[e._v("确 定")]),e._v(" "),a("cms-button",{attrs:{type:"info"},on:{click:e.close}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var C=a("C7Lr")(S,R,!1,function(e){a("Y4I7")},"data-v-648c2fe0",null).exports,I=a("Sy1Y"),w={mixins:[k.a],name:"cmsArticleCategory",props:{value:{},multiple:{type:Boolean,default:!1},labelName:{type:String,default:"name"},labelData:{}},data:function(){return{dialogVisible:!1,checkItems:[],selectIndex:"",queryParams:{cateId:"",title:"",size:10,page:1},checkedNames:""}},watch:{labelData:{handler:function(){var e=this;if(this.multiple){var t=this.labelData.map(function(t){return t[e.labelName]}).toString();this.checkedNames=t}else{var a=this.labelData[this.labelName];this.checkedNames=a}},immediate:!0}},methods:{initData:function(){this.dialogVisible=!0,this.getTableData(I.f,this.queryParams),this.getArtCate()},checkRows:function(e){this.multiple?this.$refs.dataTable.toggleRowSelection(e):(this.selectIndex=this.tableData.indexOf(e),this.checkItems=[e])},getArtCate:function(){var e=this;Object(I.b)({parentId:""}).then(function(t){200===t.code?e.artCateList=t.data:e.$errorMessage(t.message)})},determine:function(){var e=this;this.$emit("get",this.multiple?this.checkItems:this.checkItems[0]),this.$emit("update:labelData",this.multiple?this.checkItems:this.checkItems[0]),this.$emit("input",this.checkItems.map(function(e){return e.id}).toString()),this.checkedNames=this.checkItems.map(function(t){return t[e.labelName]}).toString(),this.close()},close:function(e){this.checkItems=[],this.selectIndex="",this.$refs.dataTable.clearSelection(),this.dialogVisible=!1}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{staticStyle:{width:"380px",cursor:"pointer"},attrs:{readonly:!0},model:{value:e.checkedNames,callback:function(t){e.checkedNames=t},expression:"checkedNames"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.initData},slot:"append"})],1),e._v(" "),a("el-dialog",{attrs:{title:"文章列表",visible:e.dialogVisible,width:"900px","before-close":e.close}},[a("div",{staticClass:"cms-dialog__body"},[a("section",{staticClass:"cms-list-query"},[a("div",{staticClass:"query-group"},[a("label",[e._v("文章分类")]),e._v(" "),a("el-select",{staticStyle:{width:"160px"},on:{change:e.query},model:{value:e.queryParams.cateId,callback:function(t){e.$set(e.queryParams,"cateId",t)},expression:"queryParams.cateId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.artCateList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2)],1),e._v(" "),a("div",{staticClass:"query-group"},[a("label",[e._v("文章标题")]),e._v(" "),a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.query(t):null}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:e.query}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{ref:"dataTable",staticStyle:{cursor:"pointer"},attrs:{data:e.tableData,"max-height":"500"},on:{"selection-change":e.getCheckItems,"row-click":e.checkRows}},[e.multiple?a("el-table-column",{attrs:{width:"60",type:"selection"}}):a("el-table-column",{attrs:{width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[a("el-radio",{attrs:{label:t.$index},model:{value:e.selectIndex,callback:function(t){e.selectIndex=t},expression:"selectIndex"}},[e._v(" ")])],1)}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"category.name",label:"分类名称","min-width":"160"}})],1),e._v(" "),a("cms-pagination",{attrs:{total:e.total},on:{change:e.getPage}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("cms-button",{attrs:{type:"primary"},on:{click:e.determine}},[e._v("确 定")]),e._v(" "),a("cms-button",{attrs:{type:"info"},on:{click:e.close}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var G=a("C7Lr")(w,$,!1,function(e){a("xIKd")},null,null).exports,N=a("GqAp"),E={mixins:[n.a,u],data:function(){return{rules:{},folderItems:[],queryParams:{parentId:"",areaType:"1",code:"",name:""},areaData:[]}},components:{cmsArticleTree:C,cmsArticleCategory:G},methods:{getGlobalFolderList:function(){var e,t=this;d.a.get("/admin/platform/config/global/folderList",{params:e}).then(function(e){200===e.code?t.folderItems=e.data:t.$errorMessage(e.message)})},getArea:function(){var e=this;Object(N.d)(this.queryParams).then(function(t){200===t.code&&(e.areaData=t.data)})}},created:function(){this.getGlobalFolderList(),this.getArea()}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cms-form-layout",staticStyle:{"padding-top":"0"}},[a("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{rules:e.rules,model:e.formData,"label-width":"210px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{ref:"attrs_mallName",attrs:{label:"默认显示地区",prop:"displayAreaId"}},[a("el-select",{ref:"first",attrs:{placeholder:"请选择",autofocus:!0},model:{value:e.formData.displayAreaId,callback:function(t){e.$set(e.formData,"displayAreaId",t)},expression:"formData.displayAreaId"}},e._l(e.areaData,function(e){return a("el-option",{key:e.areaCode,attrs:{label:e.areaName,value:e.id}})}),1),e._v(" "),a("div",{staticClass:"gray"})],1),e._v(" "),a("el-form-item",{attrs:{label:"首页搜索关键词",prop:"attrs.pHKeywords"}},[a("el-input",{attrs:{maxlength:"200"},model:{value:e.formData.attrs.pHKeywords,callback:function(t){e.$set(e.formData.attrs,"pHKeywords",t)},expression:"formData.attrs.pHKeywords"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("显示在商城页面title中")])],1),e._v(" "),a("el-form-item",{attrs:{label:"热门搜索词",prop:"attrs.hotsKeywords"}},[a("el-input",{attrs:{maxlength:"200"},model:{value:e.formData.attrs.hotsKeywords,callback:function(t){e.$set(e.formData.attrs,"hotsKeywords",t)},expression:"formData.attrs.hotsKeywords"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("显示在商城页面description中")])],1),e._v(" "),a("el-form-item",{attrs:{label:"版权信息及ICP备案号",prop:"attrs.icpRecordNumber"}},[a("el-input",{attrs:{type:"textarea",rows:3,resize:"none",maxlength:"200"},model:{value:e.formData.attrs.icpRecordNumber,callback:function(t){e.$set(e.formData.attrs,"icpRecordNumber",t)},expression:"formData.attrs.icpRecordNumber"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("信息将显示在商城最底部")])],1),e._v(" "),a("el-form-item",{attrs:{label:"商城用户注册协议文章",prop:"regisAgreementArtId"}},[a("cms-article-category",{attrs:{labelData:e.formData.regisAgreementArt,labelName:"title"},model:{value:e.formData.regisAgreementArtId,callback:function(t){e.$set(e.formData,"regisAgreementArtId",t)},expression:"formData.regisAgreementArtId"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("显示在商城用户注册协议")])],1),e._v(" "),a("el-form-item",{attrs:{label:"商家入驻协议文章",prop:"enterAgreementArtId"}},[a("cms-article-category",{attrs:{labelData:e.formData.enterAgreementArt,labelName:"title"},on:{"update:labelData":function(t){e.$set(e.formData,"enterAgreementArt",t)}},model:{value:e.formData.enterAgreementArtId,callback:function(t){e.$set(e.formData,"enterAgreementArtId",t)},expression:"formData.enterAgreementArtId"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("显示在商城商家入驻时协议")])],1),e._v(" "),a("el-form-item",{attrs:{label:"PC模板方案",prop:"attrs.pcSolution"}},[a("el-select",{model:{value:e.formData.attrs.pcSolution,callback:function(t){e.$set(e.formData.attrs,"pcSolution",t)},expression:"formData.attrs.pcSolution"}},e._l(e.folderItems,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"WAP模板方案",prop:"attrs.mobileSolution"}},[a("el-select",{model:{value:e.formData.attrs.mobileSolution,callback:function(t){e.$set(e.formData.attrs,"mobileSolution",t)},expression:"formData.attrs.mobileSolution"}},e._l(e.folderItems,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"平板模板方案",prop:"attrs.tabletSolution"}},[a("el-select",{model:{value:e.formData.attrs.tabletSolution,callback:function(t){e.$set(e.formData.attrs,"tabletSolution",t)},expression:"formData.attrs.tabletSolution"}},e._l(e.folderItems,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"微信公众号二维码",prop:"wechatPublicNumberImgId"}},[a("cms-picture-zone",{attrs:{data:e.formData.wechatPublicNumberImgResource},model:{value:e.formData.wechatPublicNumberImgId,callback:function(t){e.$set(e.formData,"wechatPublicNumberImgId",t)},expression:"formData.wechatPublicNumberImgId"}},[a("cms-button",{attrs:{size:"small",type:"info",icon:"correlation"}},[e._v("上传图片")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"微信小程序二维码",prop:"wechatSmallImgId"}},[a("cms-picture-zone",{attrs:{data:e.formData.wechatSmallImgResource},model:{value:e.formData.wechatSmallImgId,callback:function(t){e.$set(e.formData,"wechatSmallImgId",t)},expression:"formData.wechatSmallImgId"}},[a("cms-button",{attrs:{size:"small",type:"info",icon:"correlation"}},[e._v("上传图片")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商城LOGO图",prop:"mallImgId"}},[a("cms-picture-zone",{attrs:{data:e.formData.mallImgResource},model:{value:e.formData.mallImgId,callback:function(t){e.$set(e.formData,"mallImgId",t)},expression:"formData.mallImgId"}},[a("cms-button",{attrs:{size:"small",type:"info",icon:"correlation"}},[e._v("选择图标")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户会员中心LOGO图",prop:"operIdentityImgId"}},[a("cms-picture-zone",{attrs:{data:e.formData.operIdentityImgResource},model:{value:e.formData.operIdentityImgId,callback:function(t){e.$set(e.formData,"operIdentityImgId",t)},expression:"formData.operIdentityImgId"}},[a("cms-button",{attrs:{size:"small",type:"info",icon:"correlation"}},[e._v("选择图标")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"平台端登录页LOGO图",prop:"loginPlatformImgId"}},[a("cms-picture-zone",{attrs:{data:e.formData.loginPlatformImgResource},model:{value:e.formData.loginPlatformImgId,callback:function(t){e.$set(e.formData,"loginPlatformImgId",t)},expression:"formData.loginPlatformImgId"}},[a("cms-button",{attrs:{size:"small",type:"info",icon:"correlation"}},[e._v("选择图标")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"平台端LOGO图",prop:"platformImgId"}},[a("cms-picture-zone",{attrs:{data:e.formData.platformImgResource},model:{value:e.formData.platformImgId,callback:function(t){e.$set(e.formData,"platformImgId",t)},expression:"formData.platformImgId"}},[a("cms-button",{attrs:{size:"small",type:"info",icon:"correlation"}},[e._v("选择图标")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商家端登录页LOGO图",prop:"loginStoreImgId"}},[a("cms-picture-zone",{attrs:{data:e.formData.loginStoreImgResource},model:{value:e.formData.loginStoreImgId,callback:function(t){e.$set(e.formData,"loginStoreImgId",t)},expression:"formData.loginStoreImgId"}},[a("cms-button",{attrs:{size:"small",type:"info",icon:"correlation"}},[e._v("选择图标")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商家端LOGO图",prop:"storeImgId"}},[a("cms-picture-zone",{attrs:{data:e.formData.storeImgResource},model:{value:e.formData.storeImgId,callback:function(t){e.$set(e.formData,"storeImgId",t)},expression:"formData.storeImgId"}},[a("cms-button",{attrs:{size:"small",type:"info",icon:"correlation"}},[e._v("选择图标")])],1)],1),e._v(" "),a("el-form-item",[a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/shopSetting",expression:"'/shopSetting'"},{name:"color",rawName:"v-color"}],on:{click:function(t){e.saveData()}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},q=a("C7Lr")(E,P,!1,null,null,null).exports,M={mixins:[n.a,u],data:function(){return{rules:{"attrs.storeWechatPublicNumberPattern":[i.a.required()]}}}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cms-form-layout",staticStyle:{"padding-top":"0"}},[a("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{rules:e.rules,model:e.formData,"label-width":"210px"}},[a("el-form-item",{ref:"kdniaoBussinessKey",attrs:{label:"快递鸟商户ID",prop:"attrs.kdniaoBussinessId",error:e.errorMessage.smtpService}},[a("el-input",{attrs:{autofocus:!0,maxlength:"50"},model:{value:e.formData.attrs.kdniaoBussinessId,callback:function(t){e.$set(e.formData.attrs,"kdniaoBussinessId",t)},expression:"formData.attrs.kdniaoBussinessId"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("点击获取\n        "),a("a",{staticStyle:{color:"#208EE3"},attrs:{href:"http://www.kdniao.com/reg"}},[e._v("快递鸟商户ID")]),e._v("，免费版仅支持日调用3000次，如需查询业务过多，请购买相应套餐")])],1),e._v(" "),a("el-form-item",{ref:"attrs_kdniaoBussinessKey",attrs:{label:"快递鸟商户KEY",prop:"attrs.kdniaoBussinessKey",error:e.errorMessage.smtpService}},[a("el-input",{attrs:{autofocus:!0,maxlength:"100"},model:{value:e.formData.attrs.kdniaoBussinessKey,callback:function(t){e.$set(e.formData.attrs,"kdniaoBussinessKey",t)},expression:"formData.attrs.kdniaoBussinessKey"}})],1),e._v(" "),a("el-form-item",[a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/shopSetting",expression:"'/shopSetting'"},{name:"color",rawName:"v-color"}],on:{click:function(t){e.saveData()}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},F=a("C7Lr")(M,z,!1,null,null,null).exports,O={mixins:[n.a,u],data:function(){var e=function(e,t,a){parseFloat(t)>100?a(new Error("最大值不能超过100")):a()};return{rules:{"attrs.memberRegistPresentScore":[i.a.required(),i.a.number()],"attrs.memberRegistPresentRpk":[i.a.required(),i.a.number()],"attrs.memberRegistGrowth":[i.a.required(),i.a.number()],"attrs.firstLoginPerdayGiftExp":[i.a.required(),i.a.number()],"attrs.shoppedGiftExtRatio":[i.a.required(),i.a.float(),i.a.decimal(),i.a.custom(e)],"attrs.singleOrderMaxGiftExp":[i.a.required(),i.a.number()],"attrs.shoppedGiftScoreRatio":[i.a.required(),i.a.float(),i.a.decimal(),i.a.custom(e)],"attrs.singleOrderMaxGiftScore":[i.a.required(),i.a.number()],"attrs.shoppedGiftRedEnvelopeRatio":[i.a.required(),i.a.float(),i.a.decimal(),i.a.custom(e)],"attrs.singleOrderMaxGiftRedEnvelope":[i.a.required(),i.a.number()],"attrs.orderCommentGiftExp":[i.a.required(),i.a.number()],"attrs.orderCommentGiftScore":[i.a.required(),i.a.number()],"attrs.orderCommentGiftRedEnvelope":[i.a.required(),i.a.number()]}}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cms-form-layout",staticStyle:{"padding-top":"0"}},[a("el-form",{ref:"form",staticClass:"register-form",staticStyle:{"margin-top":"20px"},attrs:{rules:e.rules,model:e.formData,"label-width":"320px"}},[a("el-form-item",{ref:"attrs.memberRegistPresentScore",attrs:{label:"会员注册赠送积分",prop:"attrs.memberRegistPresentScore"}},[a("el-input-number",{attrs:{step:1,max:99999,min:0,size:"small"},model:{value:e.formData.attrs.memberRegistPresentScore,callback:function(t){e.$set(e.formData.attrs,"memberRegistPresentScore",t)},expression:"formData.attrs.memberRegistPresentScore"}}),e._v(" "),a("div",{staticClass:"gray"})],1),e._v(" "),a("el-form-item",{ref:"attrs.memberRegistPresentRpk",attrs:{label:"会员注册赠送红包",prop:"attrs.memberRegistPresentRpk"}},[a("el-input-number",{attrs:{step:1,max:9999,min:0,size:"small"},model:{value:e.formData.attrs.memberRegistPresentRpk,callback:function(t){e.$set(e.formData.attrs,"memberRegistPresentRpk",t)},expression:"formData.attrs.memberRegistPresentRpk"}}),e._v(" "),a("div",{staticClass:"gray"})],1),e._v(" "),a("el-form-item",{ref:"attrs.memberRegistGrowth",attrs:{label:"会员注册赠送成长值",prop:"attrs.memberRegistGrowth"}},[a("el-input-number",{attrs:{step:1,max:99999,min:0,size:"small"},model:{value:e.formData.attrs.memberRegistGrowth,callback:function(t){e.$set(e.formData.attrs,"memberRegistGrowth",t)},expression:"formData.attrs.memberRegistGrowth"}}),e._v(" "),a("div",{staticClass:"gray"})],1),e._v(" "),a("el-form-item",{ref:"attrs.firstLoginPerdayGiftExp",attrs:{label:"每日首次登陆赠送成长值",prop:"attrs.firstLoginPerdayGiftExp"}},[a("el-input-number",{attrs:{step:1,max:99999,min:0,size:"small"},model:{value:e.formData.attrs.firstLoginPerdayGiftExp,callback:function(t){e.$set(e.formData.attrs,"firstLoginPerdayGiftExp",t)},expression:"formData.attrs.firstLoginPerdayGiftExp"}}),e._v(" "),a("div",{staticClass:"gray"})],1),e._v(" "),a("el-form-item",{ref:"attrs.shoppedGiftExtRatio",attrs:{label:"购物赠送成长值比例",prop:"attrs.shoppedGiftExtRatio"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"5"},model:{value:e.formData.attrs.shoppedGiftExtRatio,callback:function(t){e.$set(e.formData.attrs,"shoppedGiftExtRatio",t)},expression:"formData.attrs.shoppedGiftExtRatio"}},[a("template",{slot:"append"},[e._v("%")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("用户确认收货后按比例赠送成长值，如，成交金额为100，则赠送100 * 10% = 10成长值")])],1),e._v(" "),a("el-form-item",{ref:"attrs.singleOrderMaxGiftExp",attrs:{label:"单笔订单赠送成长值上限",prop:"attrs.singleOrderMaxGiftExp"}},[a("el-input-number",{attrs:{step:1,max:99999,min:0,size:"small"},model:{value:e.formData.attrs.singleOrderMaxGiftExp,callback:function(t){e.$set(e.formData.attrs,"singleOrderMaxGiftExp",t)},expression:"formData.attrs.singleOrderMaxGiftExp"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("用户确认收货单笔订单最多可获得成长值上限")])],1),e._v(" "),a("el-form-item",{ref:"attrs.shoppedGiftScoreRatio",attrs:{label:"购物赠送积分比例",prop:"attrs.shoppedGiftScoreRatio"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"5"},model:{value:e.formData.attrs.shoppedGiftScoreRatio,callback:function(t){e.$set(e.formData.attrs,"shoppedGiftScoreRatio",t)},expression:"formData.attrs.shoppedGiftScoreRatio"}},[a("template",{slot:"append"},[e._v("%")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("用户确认收货后按比例赠送积分，如，成交金额为100，则赠送100 * 10% = 10积分")])],1),e._v(" "),a("el-form-item",{ref:"attrs.singleOrderMaxGiftScore",attrs:{label:"单笔订单赠送积分上限",prop:"attrs.singleOrderMaxGiftScore"}},[a("el-input-number",{attrs:{step:1,max:99999,min:0,size:"small"},model:{value:e.formData.attrs.singleOrderMaxGiftScore,callback:function(t){e.$set(e.formData.attrs,"singleOrderMaxGiftScore",t)},expression:"formData.attrs.singleOrderMaxGiftScore"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("用户确认收货单笔订单最多可获得积分上限")])],1),e._v(" "),a("el-form-item",{ref:"attrs.shoppedGiftRedEnvelopeRatio",attrs:{label:"购物赠送红包比例",prop:"attrs.shoppedGiftRedEnvelopeRatio"}},[a("el-input",{staticClass:"sort-input",attrs:{maxlength:"5"},model:{value:e.formData.attrs.shoppedGiftRedEnvelopeRatio,callback:function(t){e.$set(e.formData.attrs,"shoppedGiftRedEnvelopeRatio",t)},expression:"formData.attrs.shoppedGiftRedEnvelopeRatio"}},[a("template",{slot:"append"},[e._v("%")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("用户确认收货后按比例赠送红包，如，成交金额为100，则赠送100 * 10% = 10红包")])],1),e._v(" "),a("el-form-item",{ref:"attrs.singleOrderMaxGiftRedEnvelope",attrs:{label:"单笔订单赠送红包上限",prop:"attrs.singleOrderMaxGiftRedEnvelope"}},[a("el-input-number",{attrs:{step:1,max:99999,min:0,size:"small"},model:{value:e.formData.attrs.singleOrderMaxGiftRedEnvelope,callback:function(t){e.$set(e.formData.attrs,"singleOrderMaxGiftRedEnvelope",t)},expression:"formData.attrs.singleOrderMaxGiftRedEnvelope"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("用户确认收货单笔订单最多可获得红包上限")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderCommentGiftExp",attrs:{label:"订单评价赠送成长值",prop:"attrs.orderCommentGiftExp"}},[a("el-input-number",{attrs:{step:1,max:99999,min:0,size:"small"},model:{value:e.formData.attrs.orderCommentGiftExp,callback:function(t){e.$set(e.formData.attrs,"orderCommentGiftExp",t)},expression:"formData.attrs.orderCommentGiftExp"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("用户评价单笔有效订单，获取的成长值")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderCommentGiftScore",attrs:{label:"订单评价赠送积分",prop:"attrs.orderCommentGiftScore"}},[a("el-input-number",{attrs:{step:1,max:99999,min:0,size:"small"},model:{value:e.formData.attrs.orderCommentGiftScore,callback:function(t){e.$set(e.formData.attrs,"orderCommentGiftScore",t)},expression:"formData.attrs.orderCommentGiftScore"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("用户评价单笔有效订单，赠送积分数")])],1),e._v(" "),a("el-form-item",{ref:"attrs.orderCommentGiftRedEnvelope",attrs:{label:"订单评价赠送红包",prop:"attrs.orderCommentGiftRedEnvelope"}},[a("el-input-number",{attrs:{step:1,max:99999,min:0,size:"small"},model:{value:e.formData.attrs.orderCommentGiftRedEnvelope,callback:function(t){e.$set(e.formData.attrs,"orderCommentGiftRedEnvelope",t)},expression:"formData.attrs.orderCommentGiftRedEnvelope"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("\n        用户评价单笔有效订单，赠送红包数额\n      ")])],1),e._v(" "),a("el-form-item",[a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/shopSetting",expression:"'/shopSetting'"},{name:"color",rawName:"v-color"}],on:{click:function(t){e.saveData()}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},T=a("C7Lr")(O,A,!1,null,null,null).exports,L={mixins:[n.a,u],data:function(){return{rules:{"attrs.productCheck":[i.a.required()],"attrs.storeLevelCheck":[i.a.required()],"attrs.storeSettlementN":[i.a.required("必须选择一个时间","change")],"attrs.storeLevelUpUnpaymentTime":[i.a.required(),i.a.number()],"attrs.storeInsufficientBondPriceTime":[i.a.required(),i.a.number()]}}},methods:{changeDay:function(e){this.formData.attrs.storeSettlementN=""}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cms-form-layout",staticStyle:{"padding-top":"0"}},[a("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{rules:e.rules,model:e.formData,"label-width":"320px"}},[a("el-form-item",{attrs:{label:"是否开启店铺商品审核机制",prop:"attrs.productCheck"}},[a("cms-switch",{attrs:{activeValue:"true",inactiveValue:"false"},model:{value:e.formData.attrs.productCheck,callback:function(t){e.$set(e.formData.attrs,"productCheck",t)},expression:"formData.attrs.productCheck"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("全局设置商家商品是否需要进行平台审核上架。如设置否，依然可以通过店铺管理中对单独商家进行设置；反之，则忽略店铺设置")])],1),e._v(" "),a("el-form-item",{attrs:{label:"指定店铺结算时间",prop:"attrs.storeSettlementN"}},[a("div",[a("span",[e._v("每")]),e._v(" "),a("el-select",{staticStyle:{width:"140px"},on:{change:e.changeDay},model:{value:e.formData.attrs.storeSettlementYT,callback:function(t){e.$set(e.formData.attrs,"storeSettlementYT",t)},expression:"formData.attrs.storeSettlementYT"}},[a("el-option",{attrs:{label:"年",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"月",value:"2"}})],1),e._v(" "),2==e.formData.attrs.storeSettlementYT?a("el-select",{staticStyle:{width:"140px"},model:{value:e.formData.attrs.storeSettlementN,callback:function(t){e.$set(e.formData.attrs,"storeSettlementN",t)},expression:"formData.attrs.storeSettlementN"}},[a("el-option",{attrs:{label:"月末(自动识别月末时间)",value:"0"}}),e._v(" "),e._l(31,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})],2):a("el-select",{staticStyle:{width:"140px"},model:{value:e.formData.attrs.storeSettlementN,callback:function(t){e.$set(e.formData.attrs,"storeSettlementN",t)},expression:"formData.attrs.storeSettlementN"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(12,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})],2)],1),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置平台与店铺的结算时间，按年计算默认为该月第一天的凌晨5点，按月计算默认为该日的凌晨5点")])]),e._v(" "),a("el-form-item",{attrs:{label:"店铺保证金不足保留时效",prop:"attrs.storeInsufficientBondPriceTime"}},[a("el-input",{attrs:{maxlength:"3"},model:{value:e.formData.attrs.storeInsufficientBondPriceTime,callback:function(t){e.$set(e.formData.attrs,"storeInsufficientBondPriceTime",t)},expression:"formData.attrs.storeInsufficientBondPriceTime"}},[a("template",{slot:"append"},[e._v("天")])],2),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置店铺保证金余额低于规定保证金额度时保留商家启用状态时效，超出时效后，系统自动禁用帐号")])],1),e._v(" "),a("el-form-item",[a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/shopSetting",expression:"'/shopSetting'"},{name:"color",rawName:"v-color"}],on:{click:function(t){e.saveData()}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},K=a("C7Lr")(L,B,!1,null,null,null).exports,V={mixins:[n.a,u],data:function(){return{rules:{"attrs.collectionFactor":[i.a.required(),i.a.number()],"attrs.saleFactor":[i.a.required(),i.a.number()],"attrs.avgScoreFactor":[i.a.required(),i.a.number()],"attrs.selfSupportFactor":[i.a.required(),i.a.number()],"attrs.shelfDayFactor":[i.a.required(),i.a.number()]}}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cms-form-layout",staticStyle:{"padding-top":"0"}},[a("el-form",{ref:"form",staticClass:"register-form",staticStyle:{"margin-top":"20px"},attrs:{rules:e.rules,model:e.formData,"label-width":"320px"}},[a("el-form-item",{attrs:{label:"收藏量权重",prop:"attrs.collectionFactor"}},[a("el-input-number",{attrs:{max:10,min:1,size:"small"},model:{value:e.formData.attrs.collectionFactor,callback:function(t){e.$set(e.formData.attrs,"collectionFactor",t)},expression:"formData.attrs.collectionFactor"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置商品的收藏量在商品检索中所占的权重，在同等搜索结果中，值越大，优先排列在前")])],1),e._v(" "),a("el-form-item",{attrs:{label:"销售量权重",prop:"attrs.saleFactor"}},[a("el-input-number",{attrs:{max:10,min:1,size:"small"},model:{value:e.formData.attrs.saleFactor,callback:function(t){e.$set(e.formData.attrs,"saleFactor",t)},expression:"formData.attrs.saleFactor"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置商品的销售量在商品检索中所占的权重，在同等搜索结果中，值越大，优先排列在前")])],1),e._v(" "),a("el-form-item",{attrs:{label:"自营权重",prop:"attrs.selfSupportFactor"}},[a("el-input-number",{attrs:{max:10,min:1,size:"small"},model:{value:e.formData.attrs.selfSupportFactor,callback:function(t){e.$set(e.formData.attrs,"selfSupportFactor",t)},expression:"formData.attrs.selfSupportFactor"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置商品是否为自营商品因素在商品检索中所占的权重，在同等搜索结果中，值越大，优先排列在前")])],1),e._v(" "),a("el-form-item",{attrs:{label:"评分权重",prop:"attrs.avgScoreFactor"}},[a("el-input-number",{attrs:{max:10,min:1,size:"small"},model:{value:e.formData.attrs.avgScoreFactor,callback:function(t){e.$set(e.formData.attrs,"avgScoreFactor",t)},expression:"formData.attrs.avgScoreFactor"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置商品的评分数在商品检索中所占的权重，在同等搜索结果中，值越大，优先排列在前")])],1),e._v(" "),a("el-form-item",{attrs:{label:"新品权重",prop:"attrs.shelfDayFactor"}},[a("el-input-number",{attrs:{max:10,min:1,size:"small"},model:{value:e.formData.attrs.shelfDayFactor,callback:function(t){e.$set(e.formData.attrs,"shelfDayFactor",t)},expression:"formData.attrs.shelfDayFactor"}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("设置商品是否为新品因素在商品检索中所占的权重，在同等搜索结果中，值越大，优先排列在前")])],1),e._v(" "),a("el-form-item",[a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/shopSetting",expression:"'/shopSetting'"},{name:"color",rawName:"v-color"}],on:{click:function(t){e.saveData()}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},j={name:"shopSetting",components:{systemInfo:v,orderSet:h,dispalyInfo:q,extendApp:F,member:T,storeSet:K,productSet:a("C7Lr")(V,U,!1,null,null,null).exports},data:function(){return{activeName:"first",loading:!0}},methods:{getFormData:function(){var e,t=this;d.a.get("/admin/platform/config/global/get",{params:e}).then(function(e){var a=e.data;a.uploadSuffixGroup=e.data.attrs.uploadSuffix.split(","),t.$store.dispatch("setGlobalData",a).then(function(e){t.loading=!1})})},changeTabs:function(e){this.$store.commit("SET_GLOBAL_TAG",this.activeName)}},created:function(){this.$store.state.system.globalData.id?this.loading=!1:this.getFormData()}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cms-form-layout"},[a("el-tabs",{on:{"tab-click":e.changeTabs},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"系统信息",name:"first"}},[a("system-info",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"显示信息",name:"second",lazy:""}},[a("dispaly-info",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"会员注册",name:"third",lazy:""}},[a("member",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"店铺设置",name:"fourth",lazy:""}},[a("store-set",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"订单设置",name:"six",lazy:""}},[a("order-set",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"商品检索",name:"seven",lazy:""}},[a("product-set",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"扩展应用",name:"five",lazy:""}},[a("extend-app",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]})],1)],1)],1)},staticRenderFns:[]};var W=a("C7Lr")(j,H,!1,function(e){a("mlCE")},null,null);t.default=W.exports},mlCE:function(e,t){},xIKd:function(e,t){}});
//# sourceMappingURL=39.97664b75505818f7480d.js.map