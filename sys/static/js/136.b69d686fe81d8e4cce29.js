webpackJsonp([136],{"+48W":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("aA9S"),r=a.n(s),i=a("5HJ5"),n=a("wNC5"),l={apiName:"",apiUrl:"",size:10,page:1,platformType:"1"},o={mixins:[i.a],data:function(){return{queryParams:r()({},l),typeList:[]}},computed:{},methods:{deleteData:function(e){this.deleteTableData(n.b,e)},deleteDatas:function(){this.deleteTableDatas(n.b,this.ids)},getTypeList:function(){this.getTableData(n.d,this.queryParams)},changeTabs:function(e,t){this.queryParams.platFormCod=e.name,this.queryParams.page=1,this.getTableData(n.d,this.queryParams)},codeName:function(e){return this.typeList.filter(function(t){if(t.dictCode===e)return t})[0].dictLabel}},created:function(){this.getTypeList()}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"cms-list-layout"},[a("el-tabs",{on:{"tab-click":e.changeTabs},model:{value:e.queryParams.platformType,callback:function(t){e.$set(e.queryParams,"platformType",t)},expression:"queryParams.platformType"}},[a("el-tab-pane",{attrs:{label:"平台管理",name:"1"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"商家管理",name:"2"}})],1),e._v(" "),a("cms-prompt",[a("li",[e._v("顶部批量操作按钮均为需要选中数据才能进行操作；")])]),e._v(" "),a("section",{staticClass:"cms-list-query"},[a("div",{staticClass:"query-group"},[a("label",[e._v("api地址")]),e._v(" "),a("el-input",{on:{change:e.query},model:{value:e.queryParams.apiUrl,callback:function(t){e.$set(e.queryParams,"apiUrl",t)},expression:"queryParams.apiUrl"}})],1),e._v(" "),a("div",{staticClass:"query-group"},[a("label",[e._v("api名称")]),e._v(" "),a("el-input",{on:{change:e.query},model:{value:e.queryParams.apiName,callback:function(t){e.$set(e.queryParams,"apiName",t)},expression:"queryParams.apiName"}})],1),e._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:e.query}},[e._v("查询")])],1)]),e._v(" "),a("cms-sticky",[a("section",{staticClass:"cms-batch"},[a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/apiMange/save",expression:"'/apiMange/save'"}],attrs:{icon:"success",type:"success",size:"small"},on:{click:function(t){e.$routerLink("/apiMange/save","save",{platformType:e.queryParams.platformType})}}},[e._v("新增API\n      ")]),e._v(" "),a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/apiMange/delete",expression:"'/apiMange/delete'"}],attrs:{icon:"error",type:"error",size:"small"},on:{click:function(t){e.deleteDatas()}}},[e._v("批量删除\n      ")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.getCheckItems,"row-click":e.checkRows}},[a("el-table-column",{attrs:{type:"selection",width:"46",fixed:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"api名称","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"text-overflow",attrs:{title:t.row.apiName}},[e._v(" "+e._s(t.row.apiName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"apiUrl",label:"api地址","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"text-overflow",attrs:{title:t.row.apiUrl}},[e._v(" "+e._s(t.row.apiUrl))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"requestMethod",label:"请求方式",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.requestMethod?a("span",[e._v("GET")]):e._e(),e._v(" "),2==t.row.requestMethod?a("span",[e._v("POST")]):e._e(),e._v(" "),3==t.row.requestMethod?a("span",[e._v("DELETE")]):e._e(),e._v(" "),4==t.row.requestMethod?a("span",[e._v("UPDATE")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"useScene",label:"使用场景","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"text-overflow",attrs:{title:t.row.useScene}},[e._v("\n            "+e._s(t.row.useScene)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"175",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/apiMange/update",expression:"'/apiMange/update'"}],attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(a){a.stopPropagation(),e.$routerLink("/apiMange/update","update",{id:t.row.id,platformType:e.queryParams.platformType})}}},[e._v("编辑\n          ")]),e._v(" "),a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/apiMange/delete",expression:"'/apiMange/delete'"}],attrs:{icon:"error",size:"small",type:"info"},on:{click:function(a){a.stopPropagation(),e.deleteData(t.row.id)}}},[e._v("删除\n          ")])],1)}}])})],1),e._v(" "),a("cms-pagination",{attrs:{total:e.total},on:{change:e.getPage}})],1)])},staticRenderFns:[]};var p=a("C7Lr")(o,c,!1,function(e){a("shsm")},null,null);t.default=p.exports},shsm:function(e,t){}});
//# sourceMappingURL=136.b69d686fe81d8e4cce29.js.map