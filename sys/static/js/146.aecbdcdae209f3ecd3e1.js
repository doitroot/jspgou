webpackJsonp([146],{"6njJ":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("aA9S"),o=t.n(a),s=t("m2ya"),n=t("x1ym"),i=t("lcoF"),m=t("zzd2"),l={roleName:"",remark:"",menuid:[]},u={name:"roleSave",components:{roleTree:s.a},mixins:[i.a],data:function(){return{roleStatus:!1,formData:o()({},l),rules:{roleName:[n.a.required("请填写角色名"),n.a.len(1,10)],remark:[n.a.required("请填写角色描述"),n.a.max(140,"描述最大长度为140个字符")],menuid:[n.a.required("至少选择一个权限")]}}},methods:{save:function(e){var r=this;this.formData.menuid=this.$refs.role.getPermsInfo().map(function(e){return e.id}),this.saveForm(m.d,this.formData,e,"/role","list").then(function(e){r.formData.menuid=[],r.roleStatus=!1,setTimeout(function(){r.roleStatus=!0},1)})},reset:function(){this.menuid=[]}},created:function(){var e=this;this.roleStatus=!1,setTimeout(function(){e.roleStatus=!0,e.formData=o()({},l)},1)}},c={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("cms-breadcrumb",{attrs:{to:"/role",type:"list"},on:{click:e.rest}},[t("li",[e._v(e._s(e.$route.name))])]),e._v(" "),t("div",{staticClass:"cms-form-layout"},[t("cms-prompt",{attrs:{collapse:!1}},[t("li",[e._v("可进行添加修改角色管理员，维护管理员权限")])]),e._v(" "),t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.formData,"label-width":"210px"}},[t("el-form-item",{attrs:{label:"角色名",prop:"roleName",error:e.errorMessage.roleName}},[t("el-input",{ref:"first",attrs:{autofocus:!0},model:{value:e.formData.roleName,callback:function(r){e.$set(e.formData,"roleName",r)},expression:"formData.roleName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"描述",prop:"remark",error:e.errorMessage.remark}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},model:{value:e.formData.remark,callback:function(r){e.$set(e.formData,"remark",r)},expression:"formData.remark"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"权限设置",prop:"menuid",error:e.errorMessage.menuid}},[e.status?t("role-tree",{ref:"role",attrs:{menuIds:e.formData.menuid}}):e._e()],1)],1),e._v(" "),t("div",{staticClass:"cms-form-footer"},[t("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(r){e.save(!1)}}},[e._v("保存并新增")]),e._v(" "),t("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(r){e.save(!0)}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var f=t("C7Lr")(u,c,!1,function(e){t("EQfn")},null,null);r.default=f.exports},EQfn:function(e,r){}});
//# sourceMappingURL=146.aecbdcdae209f3ecd3e1.js.map