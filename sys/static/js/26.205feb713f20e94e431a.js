webpackJsonp([26],{"2n9Z":function(t,a){},"9R8c":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("M3BV"),n=s("UAso"),o=s("2+eX"),l={mixins:[n.a],data:function(){return{newStatistics:{accessCount:8,addCartCount:26,browseCount:2,id:null,orderCount:216,orderPaySize:216,purchasedCount:216,shelfCount:850,visitorsCount:0}}},methods:{getData:function(){var t=this;this.loading=!0,Object(o.f)(this.queryParams).then(function(a){200===a.code&&(t.newStatistics=a.data)}).finally(function(){t.loading=!1})}}},i={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"stat__header"},[s("div",{staticClass:"fl"},[t._v("商品概况\n      "),s("el-tooltip",{attrs:{placement:"right",effect:"light"}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v("上架商品数：正在出售的商品总数\n          "),s("br"),t._v("被访问商品数：被访问的商品总数，一个商品多次访问计一次\n          "),s("br"),t._v("动销商品数据：已出售的商品数据，不排除已退款退货的商品\n          "),s("br"),t._v("商品浏览量：商品详情页被访问的次数\n          "),s("br"),t._v("商品访客数：商品详情页访客数，一个用户访问多次计一次\n          "),s("br"),t._v("加购件数：商品被加入购物车的数量\n          "),s("br"),t._v("下单件数：商品被下单件数，不排除退货退款或未支付的订单\n          "),s("br"),t._v("支付件数：商品支付的件数，不排除退货退款的订单\n          "),s("br")]),t._v(" "),s("i",{staticClass:"el-icon-question"})])],1)]),t._v(" "),s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"stat__body"},[s("el-col",{staticClass:"stat__inner",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[s("el-row",{staticClass:"stat-card__list",attrs:{gutter:20}},[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"stat-card"},[s("p",[t._v("上架商品数")]),t._v(" "),s("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.shelfCount}})],1)]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"stat-card"},[s("p",[t._v("被访问商品数")]),t._v(" "),s("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.accessCount}})],1)]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"stat-card"},[s("p",[t._v("动销商品数")]),t._v(" "),s("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.purchasedCount}})],1)]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"stat-card"},[s("p",[t._v("商品浏览量")]),t._v(" "),s("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.browseCount}})],1)]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"stat-card"},[s("p",[t._v("商品访客数")]),t._v(" "),s("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.visitorsCount}})],1)]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"stat-card"},[s("p",[t._v("加购件数")]),t._v(" "),s("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.addCartCount}})],1)]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"stat-card"},[s("p",[t._v("下单件数")]),t._v(" "),s("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.orderCount}})],1)]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"stat-card"},[s("p",[t._v("支付件数")]),t._v(" "),s("count-to",{staticClass:"count-val",attrs:{endVal:t.newStatistics.orderPaySize}})],1)])],1)],1)],1)],1)},staticRenderFns:[]};var r=s("C7Lr")(l,i,!1,function(t){s("nXCX")},"data-v-1937f7ff",null).exports,c={mixins:[n.a],data:function(){return{el:"catrgoryPie",optionsData:{title:{text:"商品类目分布",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",right:"right",data:["类目1","类目2","类目3"]},series:[{name:"类目统计",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:1,name:"类目1"},{value:1,name:"类目2"},{value:1,name:"类目3"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},newStatistics:{sumMemberCount:0,sumNewMember:0,sumRechargeMember:0},statisticsPage:[]}},methods:{getData:function(){var t=this;this.loading=!0,Object(o.m)(this.queryParams).then(function(a){200===a.code&&(a.data.length>0&&(t.optionsData.legend.data=a.data.map(function(t){return t.name}),t.optionsData.series[0].data=a.data),t.chart.setOption(t.optionsData),t.getTableData())}).finally(function(){t.loading=!1})},getTableData:function(){var t=this;Object(o.l)(this.queryParams).then(function(a){200===a.code&&(t.statisticsPage=a.data.content)}).finally(function(){t.loading=!1})}}},u={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"stat__header"},[s("div",{staticClass:"fl"},[t._v("商品类目分布\n      "),s("el-tooltip",{attrs:{placement:"right",effect:"light"}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v("只统计一级分类的类目所对应的商品数量")]),t._v(" "),s("i",{staticClass:"el-icon-question"})])],1)]),t._v(" "),s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"stat__body"},[s("el-col",{staticClass:"stat__inner",attrs:{span:14}},[s("div",{staticClass:"line-chart",attrs:{id:"catrgoryPie"}})]),t._v(" "),s("el-col",{staticClass:"border-left",attrs:{span:10}},[s("div",{staticClass:"table-box"},[s("table",{staticClass:"stat-inner__table mt-20"},[s("tr",[s("th",[t._v("序号")]),t._v(" "),s("th",[t._v("分类")]),t._v(" "),s("th",[t._v("商品数量")]),t._v(" "),s("th",[t._v("占比")])]),t._v(" "),t._l(t.statisticsPage,function(a,e){return s("tr",{key:e},[s("td",[t._v(t._s(a.id))]),t._v(" "),s("td",[t._v(t._s(a.productCategory.cateName))]),t._v(" "),s("td",[t._v(t._s(a.productCount))]),t._v(" "),s("td",[t._v(t._s(Math.round(100*a.ratio))+"%")])])})],2)])])],1)],1)},staticRenderFns:[]};var d=s("C7Lr")(c,u,!1,function(t){s("I27W")},"data-v-0b12d685",null).exports,v=s("5HJ5"),_=s("Zz1P"),f={mixins:[n.a,v.a],data:function(){return{newStatistics:{sumMemberCount:0,sumNewMember:0,sumRechargeMember:0},queryParams:{page:1,size:10,startTime:_().subtract(7,"days").format("YYYY-MM-DD"),endTime:_().subtract(1,"days").format("YYYY-MM-DD")}}},methods:{getData:function(){this.getTableData(o.n,this.queryParams)}}},m={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"stat__header"},[s("div",{staticClass:"fl"},[t._v("商品类目分布\n      "),s("el-tooltip",{attrs:{placement:"right",effect:"light"}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v("转行率：付款人数 / 访客数\n          "),s("br"),t._v("Tips: 所有统计数据均不排除售后服务商品\n          "),s("br")]),t._v(" "),s("i",{staticClass:"el-icon-question"})])],1)]),t._v(" "),s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"stat__body"},[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"table-box"},[s("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[s("el-table-column",{attrs:{label:"序号","show-overflow-tooltip":"","class-name":"text-overflow"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s((t.queryParams.page-1)*t.queryParams.size+(a.$index+1)))]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"product.name",label:"商品名称","show-overflow-tooltip":"","class-name":"text-overflow"}}),t._v(" "),s("el-table-column",{attrs:{label:"浏览量","show-overflow-tooltip":"","class-name":"text-overflow"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.$cms.float(a.row.browseCount,0)))]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"销售数量","show-overflow-tooltip":"","class-name":"text-overflow"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.$cms.float(a.row.saleCount,0)))]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"销售金额","show-overflow-tooltip":"","class-name":"text-overflow"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("¥"+t._s(t.$cms.float(a.row.productPayAmount)))]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"visitorsCount",label:"访客数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.$cms.float(a.row.visitorsCount,0)))]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"productPayCount",label:"付款人数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.$cms.float(a.row.productPayCount,0)))]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"convertionRate",label:"转化率",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.convertionRate)+"%")]}}])})],1),t._v(" "),s("cms-pagination",{attrs:{total:t.total},on:{change:t.getPage}})],1)])],1)],1)},staticRenderFns:[]};var p={components:{general:r,category:d,sale:s("C7Lr")(f,m,!1,function(t){s("nhZB")},"data-v-f52b525e",null).exports,timer:e.a},data:function(){return{value:["",""]}},methods:{getTime:function(t){this.value=t}}},C={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"stat__layout"},[a("timer",{on:{change:this.getTime}}),this._v(" "),a("general",{staticClass:"mt-20",attrs:{"time-data":this.value}}),this._v(" "),a("category",{staticClass:"mt-20",attrs:{"time-data":this.value}}),this._v(" "),a("sale",{staticClass:"mt-20",attrs:{"time-data":this.value}})],1)},staticRenderFns:[]};var h=s("C7Lr")(p,C,!1,function(t){s("2n9Z")},null,null);a.default=h.exports},I27W:function(t,a){},nXCX:function(t,a){},nhZB:function(t,a){}});
//# sourceMappingURL=26.205feb713f20e94e431a.js.map