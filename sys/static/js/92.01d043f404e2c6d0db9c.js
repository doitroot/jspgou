webpackJsonp([92],{K8Im:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("aA9S"),n=s.n(a),i=s("Jpdf"),d=s.n(i),l=s("x1ym"),u=s("lcoF"),m=s("PUYW"),c=s("MGbd"),r=s("+FNC"),o={menuGroupType:1,menuGroupName:"",status:1,menuList:[{menuName:"菜单名称",childs:[],choiceType:1,mediaData:null,keyword:[]}]},p={name:"wxMenuManageSave",mixins:[u.a],components:{mediaWarpper:m.a,keyWordZone:c.a,draggable:d.a},data:function(){return{formData:n()({},o),selectedMenuIndex:"",selectedSubMenuIndex:"",menuNameBounds:!1,setTagsVisible:!1,material:{title:"",linkUrl:"",thumb_url:""},saveRules:{menuGroupName:[l.a.required("菜单组名称不能为空")]}}},methods:{selMediaData:function(e){this.formData.menuList[e].mediaData=null,this.formData.menuList[e].keyword=[],this.formData.menuList[e].linkUrl=""},selMediaData2:function(e){this.formData.menuList[this.selectedMenuIndex].childs[e].mediaData=null,this.formData.menuList[this.selectedMenuIndex].childs[e].keyword=[],this.formData.menuList[this.selectedMenuIndex].childs[e].linkUrl=""},datadragEnd:function(e){e.preventDefault()},save:function(e){var t=this;this.$refs.form.validate(function(s,a){if(s){var n={menuGroupType:1,menuGroupName:t.formData.menuGroupName,status:e,menuList:[]},i=!0;if(t.formData.menuList.forEach(function(e,s){if(""===e.menuName&&(t.$errorMessage("请填写菜单名称"),t.selectedMenu(s),i=!1),e.childs&&e.childs.length>0)e.childs.forEach(function(e,a){if(""===e.menuName&&(t.$errorMessage("请填写菜单名称"),t.selectedMenuIndex=s,t.selectedSubMenu(a),i=!1),"click"===e.menuType)e.menuKey&&""!==e.menuKey||(t.$errorMessage("请选择关键词回复内容"),t.selectedMenuIndex=s,t.selectedSubMenu(a),i=!1);else if("media_id"===e.menuType)e.mediaId&&""!==e.mediaId||(t.$errorMessage("请选择回复素材"),t.selectedMenuIndex=s,t.selectedSubMenu(a),i=!1);else if("view"===e.menuType)e.linkUrl&&""!==e.linkUrl||(t.$errorMessage("请填写跳转url"),t.selectedMenuIndex=s,t.selectedSubMenu(a),i=!1);else if("miniprogram"===e.menuType&&(e.linkUrl&&""!==e.linkUrl||(t.$errorMessage("请填写小程序跳转url"),t.selectedMenuIndex=s,t.selectedSubMenu(a),i=!1),e.miniprogramAppid&&""!==e.miniprogramAppid||(t.$errorMessage("请填写小程序appid"),t.selectedMenuIndex=s,t.selectedSubMenu(a),i=!1),e.miniprogramPagepath&&""!==e.miniprogramPagepath||(t.$errorMessage("请填写小程序页面路径"),t.selectedMenuIndex=s,t.selectedSubMenu(a),i=!1),""===e.menuType||!e.menuType))return t.$errorMessage("请选择回复内容"),t.selectedMenuIndex=s,t.selectedSubMenu(a),void(i=!1);i&&(delete e.mediaData,delete e.keyword)}),delete e.menuType,delete e.menuKey,delete e.mediaId,delete e.linkUrl,delete e.miniprogramAppid,delete e.miniprogramPagepath,delete e.choiceType;else if("click"===e.menuType?e.menuKey&&""!==e.menuKey||(t.$errorMessage("请选择关键词回复内容"),t.selectedMenu(s),i=!1):"media_id"===e.menuType?e.mediaId&&""!==e.mediaId||(t.$errorMessage("请选择回复素材"),t.selectedMenu(s),i=!1):"view"===e.menuType?e.linkUrl&&""!==e.linkUrl||(t.$errorMessage("请填写跳转url"),t.selectedMenu(s),i=!1):"miniprogram"===e.menuType&&(e.linkUrl&&""!==e.linkUrl||(t.$errorMessage("请填写小程序跳转url"),t.selectedMenu(s),i=!1),e.miniprogramAppid&&""!==e.miniprogramAppid||(t.$errorMessage("请填写小程序appid"),t.selectedMenu(s),i=!1),e.miniprogramPagepath&&""!==e.miniprogramPagepath||(t.$errorMessage("请填写小程序页面路径"),t.selectedMenu(s),i=!1)),""===e.menuType||!e.menuType)return t.$errorMessage("请选择回复内容"),t.selectedMenu(s),void(i=!1);i&&(delete e.mediaData,delete e.keyword)}),!i)return;n.menuList=t.formData.menuList,t.saveForm(r.m,n,!0,"/wechatMenuMange/list","list"),t.clearData()}})},getMediaData:function(e){this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex].mediaData=e[0],this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex].mediaId=e[0].mediaId},getMediaDataTwo:function(e){this.formData.menuList[this.selectedMenuIndex].mediaData=e[0],this.formData.menuList[this.selectedMenuIndex].mediaId=e[0].mediaId},getKeywordTwo:function(e){this.formData.menuList[this.selectedMenuIndex].keyword=e,this.formData.menuList[this.selectedMenuIndex].menuKey=e[0].id},getKeyword:function(e){this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex].keyword=e,this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex].menuKey=e[0].id},selectedMenu:function(e,t){this.selectedSubMenuIndex="",this.selectedMenuIndex=e;var s=this.formData.menuList[this.selectedMenuIndex];void 0!==s.media_id&&""!==s.media_id&&"media_id"===this.selectedMenuType(s)&&this.getMaterial(s.media_id),this.checkMenuName(s.menuName)},selectedSubMenu:function(e,t){this.selectedSubMenuIndex=e;var s=this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex];void 0!==s.media_id&&""!==s&&"media_id"===this.selectedMenuType(s)&&this.getMaterial(s.media_id),this.checkMenuName(s.menuName)},selectedMenuLevel:function(){return""!==this.selectedMenuIndex&&""===this.selectedSubMenuIndex?1:""!==this.selectedSubMenuIndex?2:0},selectedMenuType:function(e){var t=["","media_id","view","click","click","click","click","click","click","miniprogram"];return void 0===e.choiceType&&(e.choiceType=1),e.menuType=t[parseInt(e.choiceType)],t[parseInt(e.choiceType)]},addMenu:function(e){1===e&&this.formData.menuList.length<3&&(this.formData.menuList.push({menuType:"media_id",menuName:"默认菜单",choiceType:1,childs:[],mediaData:null,keyword:[]}),this.selectedMenuIndex=this.formData.menuList.length-1,this.selectedSubMenuIndex=""),2===e&&this.formData.menuList[this.selectedMenuIndex].childs.length<5&&(this.formData.menuList[this.selectedMenuIndex].childs.push({menuType:"media_id",menuName:"默认子菜单",choiceType:1,mediaData:null,keyword:[]}),this.selectedSubMenuIndex=this.formData.menuList[this.selectedMenuIndex].childs.length-1)},delMenu:function(){var e=this;1===this.selectedMenuLevel()?this.$confirm("删除后菜单下设置的内容将被删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){0===e.selectedMenuIndex?(e.formData.menuList.splice(e.selectedMenuIndex,1),e.selectedMenuIndex=0):(e.formData.menuList.splice(e.selectedMenuIndex,1),e.selectedMenuIndex-=1),0===e.formData.menuList.length&&(e.selectedMenuIndex="")}):2===this.selectedMenuLevel()&&this.$confirm("确定要删除此子菜单吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){0===e.selectedSubMenuIndex?(e.formData.menuList[e.selectedMenuIndex].childs.splice(e.selectedSubMenuIndex,1),e.selectedSubMenuIndex=0):(e.formData.menuList[e.selectedMenuIndex].childs.splice(e.selectedSubMenuIndex,1),e.selectedSubMenuIndex-=1),0===e.formData.menuList[e.selectedMenuIndex].childs.length&&(e.selectedSubMenuIndex="")})},checkMenuName:function(e){1===this.selectedMenuLevel()&&this.getMenuNameLen(e)<=8?this.menuNameBounds=!1:2===this.selectedMenuLevel()&&this.getMenuNameLen(e)<=16?this.menuNameBounds=!1:this.menuNameBounds=!0},getMenuNameLen:function(e){for(var t=0,s=0;s<e.length;s++){null!=e.charAt(s).match(/[^\x00-\xff]/gi)?t+=2:t+=1}return t},selectMaterialId:function(){this.setTagsVisible=!0},delMaterialId:function(){1===this.selectedMenuLevel()?this.formData.menuList[this.selectedMenuIndex].media_id="":2===this.selectedMenuLevel()&&(this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex].media_id="")},setNewsUrl:function(e){1===this.selectedMenuLevel()?$.set(this.formData.menuList[this.selectedMenuIndex],"linkUrl",e):2===this.selectedMenuLevel()&&$.set(this.formData.menuList[this.selectedMenuIndex].childs[this.selectedSubMenuIndex],"linkUrl",e)},getMaterial:function(e){this.setTagsVisible=!0},clearData:function(){o.menuList=[],o.menuList[0]={menuName:"菜单名称",childs:[],choiceType:1,mediaData:null,keyword:[]}}},mounted:function(){document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()}},created:function(){}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("cms-breadcrumb",{attrs:{to:"/wechatMenuMange/list"},on:{click:e.rest}},[a("li",[e._v(e._s(e.$route.name))])]),e._v(" "),a("div",{staticClass:"cms-form-layout"},[a("cms-prompt",{attrs:{collapse:"true"}},[a("li",[e._v(" 带 * 为必填项")]),e._v(" "),a("li",[e._v("保存按钮即保存当前编辑数据但不会推送至微信平台；保存并发布即保存且推送至微信平台")])]),e._v(" "),a("el-form",{ref:"form",attrs:{rules:e.saveRules,model:e.formData,"label-width":"210px"}},[a("el-form-item",{attrs:{label:"菜单组名称",prop:"menuGroupName",error:e.errorMessage.menuGroupName}},[a("el-input",{ref:"first",attrs:{autofocus:!0,maxlength:"8"},model:{value:e.formData.menuGroupName,callback:function(t){e.$set(e.formData,"menuGroupName",t)},expression:"formData.menuGroupName"}})],1),e._v(" "),a("div",{staticClass:"content",staticStyle:{margin:"20px 0px 0 110px"}},[a("div",{attrs:{id:"app-menu"}},[a("div",{staticClass:"weixin-preview"},[a("div",{staticClass:"weixin-hd"},[a("div",{staticClass:"weixin-title"},[e._v(e._s(e.formData.menuGroupName))])]),e._v(" "),a("div",{staticClass:"weixin-bd"},[a("ul",{staticClass:"weixin-menu",attrs:{id:"weixin-menu"}},[a("draggable",{attrs:{options:{animation:500}},on:{update:e.datadragEnd},model:{value:e.formData.menuList,callback:function(t){e.$set(e.formData,"menuList",t)},expression:"formData.menuList"}},e._l(e.formData.menuList,function(t,s){return a("li",{key:s,staticClass:"menu-item drag-item",class:{current:e.selectedMenuIndex===s&&1==e.selectedMenuLevel()},on:{click:function(t){e.selectedMenu(s,t)}}},[a("div",{staticClass:"menu-item-title"},[a("i",{staticClass:"icon_menu_dot"}),e._v(" "),a("span",[e._v(e._s(t.menuName))])]),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.selectedMenuIndex===s,expression:"selectedMenuIndex===i"}],staticClass:"weixin-sub-menu"},[a("draggable",{attrs:{options:{animation:500}},on:{update:e.datadragEnd},model:{value:t.childs,callback:function(s){e.$set(t,"childs",s)},expression:"btn.childs"}},e._l(t.childs,function(t,s){return a("li",{key:s,staticClass:"menu-sub-item drag-item",class:{current:e.selectedSubMenuIndex===s&&2==e.selectedMenuLevel()},on:{click:function(t){t.stopPropagation(),e.selectedSubMenu(s,t)}}},[a("div",{staticClass:"menu-item-title"},[a("span",[e._v(e._s(t.menuName))])])])}),0),e._v(" "),t.childs.length<5?a("li",{staticClass:"menu-sub-item",on:{click:function(t){t.stopPropagation(),e.addMenu(2)}}},[a("div",{staticClass:"menu-item-title"},[a("i",{staticClass:"icon14_menu_add"})])]):e._e(),e._v(" "),a("i",{staticClass:"menu-arrow arrow_out"}),e._v(" "),a("i",{staticClass:"menu-arrow arrow_in"})],1)])}),0),e._v(" "),e.formData.menuList.length<3?a("li",{staticClass:"menu-item",on:{click:function(t){e.addMenu(1)}}},[a("i",{staticClass:"icon14_menu_add"})]):e._e()],1)])]),e._v(" "),1==e.selectedMenuLevel()?a("div",{staticClass:"weixin-menu-detail"},[a("div",{staticClass:"menu-input-group",staticStyle:{"border-bottom":"2px #e8e8e8 solid",width:"100%"}},[a("div",{staticClass:"menu-name"},[e._v(e._s(e.formData.menuList[e.selectedMenuIndex].menuName))]),e._v(" "),a("div",{staticClass:"menu-del",on:{click:e.delMenu}},[e._v("删除菜单")])]),e._v(" "),a("div",{staticClass:"weixin-menu-detail"},[a("div",{staticClass:"menu-label "},[e._v("菜单名称")]),e._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].menuName,expression:"formData.menuList[selectedMenuIndex].menuName"}],staticClass:"menu-input-text",attrs:{maxlength:"8",type:"text",name:"menuName",placeholder:"请输入菜单名称"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].menuName},on:{input:[function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex],"menuName",t.target.value)},function(t){e.checkMenuName(e.formData.menuList[e.selectedMenuIndex].menuName)}]}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.menuNameBounds,expression:"menuNameBounds"}],staticClass:"menu-tips",staticStyle:{color:"#e15f63"}},[e._v("字数超过上限")]),e._v(" "),a("p",{staticClass:"menu-tips"},[e._v("字数不超过4个汉字或8个字母，超出或过长系统将自动省略处理")])]),e._v(" "),a("div",{staticStyle:{clear:"both"}}),e._v(" "),0===e.formData.menuList[e.selectedMenuIndex].childs.length?a("div",{staticClass:"menu-group menu-group__radio",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"menu-label menu-type menu-label__two",staticStyle:{margin:"15px 0 15px 0"}},[e._v("菜单类型")]),e._v(" "),a("div",{staticClass:"menu-input__group menu-input__group__two"},[a("el-radio-group",{attrs:{name:"menuType"},on:{change:function(t){e.selMediaData(e.selectedMenuIndex)}},model:{value:e.formData.menuList[e.selectedMenuIndex].choiceType,callback:function(t){e.$set(e.formData.menuList[e.selectedMenuIndex],"choiceType",t)},expression:"formData.menuList[selectedMenuIndex].choiceType"}},[a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:1}},[e._v("发送消息")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:2}},[e._v("跳转网页")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:3}},[e._v("扫码")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:4}},[e._v("扫码(等待消息)")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:5}},[e._v("立即拍照")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:6}},[e._v("拍照/相册")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:7}},[e._v("相册")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:8}},[e._v("地理位置")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:9}},[e._v("关联小程序")])],1)],1),e._v(" "),a("div",{staticStyle:{clear:"both"}})]):e._e(),e._v(" "),0===e.formData.menuList[e.selectedMenuIndex].childs.length?a("div",["view"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex])?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips gray"},[e._v("触发该类型菜单，微信客户端会自动跳转到指定链接")]),e._v(" "),a("div",{staticClass:"menu-label"},[e._v("页面地址")]),e._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].linkUrl,expression:"formData.menuList[selectedMenuIndex].linkUrl"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255",placeholder:""},domProps:{value:e.formData.menuList[e.selectedMenuIndex].linkUrl},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex],"linkUrl",t.target.value)}}}),e._v(" "),a("p",{staticClass:"gray"},[e._v("指定网页链接需要加上访问协议，如http:// 或https://")])])])]):"media_id"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex])?a("div",{staticClass:"menu-msg-content"},[a("media-warpper",{attrs:{data:e.formData.menuList[e.selectedMenuIndex].mediaData},on:{change:e.getMediaDataTwo}})],1):"click"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex])?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"media-warpper"},[a("div",{staticClass:"menu-msg-panel"},[a("div",{staticClass:"menu-msg-select_detail"},[a("ul",{staticClass:"menu-msg-select__ul"},[a("li",[a("div",{staticClass:"wx-create"},[a("key-word-zone",{staticClass:"wx-create__item",on:{change:e.getKeywordTwo}},[a("div",{staticClass:"wx-create__item"},[a("p",[a("img",{staticClass:"key-icon",attrs:{src:s("XgNK"),alt:""}})]),e._v(" "),a("p",{staticClass:"wx-create__title"},[e._v("关键词")])])])],1)])])])])]),e._v(" "),e.formData.menuList[e.selectedMenuIndex].keyword.length>0?a("div",{staticClass:"keyword-items",staticStyle:{width:"40%"}},[a("div",[a("span",[e._v("规则名：")]),e._v(e._s(e.formData.menuList[e.selectedMenuIndex].keyword[0].ruleName))]),e._v(" "),a("span",[e._v("关键词：")]),e._v(" "),e._l(e.formData.menuList[e.selectedMenuIndex].keyword[0].wechatReplyKeywordList,function(t,s){return[""!==t.wordkeyEq?a("el-tag",{key:s,staticStyle:{"margin-left":"5px"},attrs:{size:"mini"}},[e._v(e._s(t.wordkeyEq))]):e._e(),e._v(" "),""!==t.wordkeyLike?a("el-tag",{key:s,staticStyle:{"margin-left":"5px"},attrs:{size:"mini"}},[e._v(e._s(t.wordkeyLike))]):e._e()]}),e._v(" "),a("div",[a("span",[e._v("回复类型：")]),e._v(" "),"image"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?a("span",[e._v("图片")]):e._e(),e._v(" "),"text"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?a("span",[e._v("文本")]):e._e(),e._v(" "),"news"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?a("span",[e._v("图文")]):e._e(),e._v(" "),"voice"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?a("span",[e._v("音乐")]):e._e(),e._v(" "),"video"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?a("span",[e._v("视频")]):e._e(),e._v(" "),"music"===e.formData.menuList[e.selectedMenuIndex].keyword[0].msgType?a("span",[e._v("音乐")]):e._e()])],2):e._e()])]):"miniprogram"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex])?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips gray"},[e._v("订阅者点击该子菜单会跳到以下小程序")]),e._v(" "),a("div",{staticClass:"menu-label"},[e._v("小程序APPID")]),e._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].miniprogramAppid,expression:"formData.menuList[selectedMenuIndex].miniprogramAppid"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"50"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].miniprogramAppid},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex],"miniprogramAppid",t.target.value)}}}),e._v(" "),a("div",[a("a",{staticClass:"menu-tips gray",attrs:{target:"_blank",href:"http://weixiao.qq.com/notice/view?mid=0&cid=2&id=274"}},[e._v("获取小程序APPID")])])])]),e._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[e._v("小程序路径")]),e._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].miniprogramPagepath,expression:"formData.menuList[selectedMenuIndex].miniprogramPagepath"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].miniprogramPagepath},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex],"miniprogramPagepath",t.target.value)}}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("填写跳转至小程序指定页面访问路径，"),a("a",{staticClass:"menu-tips",attrs:{target:"_blank",href:"http://weixiao.qq.com/notice/view?mid=0&cid=2&id=275"}},[e._v("查看引导")])])])]),e._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[e._v("备用网页")]),e._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].linkUrl,expression:"formData.menuList[selectedMenuIndex].linkUrl"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].linkUrl},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex],"linkUrl",t.target.value)}}}),e._v(" "),a("p",{staticClass:"menu-tips gray"},[e._v("旧版微信客户端无法支持小程序，用户点击菜单时将会打开备用网页。")])])])]):e._e()]):e._e()])]):e._e(),e._v(" "),2==e.selectedMenuLevel()?a("div",{staticClass:"weixin-menu-detail"},[a("div",{staticClass:"menu-input-group",staticStyle:{"border-bottom":"2px #e8e8e8 solid"}},[a("div",{staticClass:"menu-name"},[e._v(e._s(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].menuName))]),e._v(" "),a("div",{staticClass:"menu-del",on:{click:e.delMenu}},[e._v("删除子菜单")])]),e._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[e._v("子菜单名称")]),e._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].menuName,expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].menuName"}],staticClass:"menu-input-text",attrs:{type:"text",placeholder:"请输入子菜单名称"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].menuName},on:{input:[function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"menuName",t.target.value)},function(t){e.checkMenuName(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].menuName)}]}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.menuNameBounds,expression:"menuNameBounds"}],staticClass:"menu-tips",staticStyle:{color:"#e15f63"}},[e._v("字数超过上限")]),e._v(" "),a("p",{staticClass:"menu-tips"},[e._v("字数不超过4个汉字或8个字母，超出或过长系统将自动省略处理")])])]),e._v(" "),a("div",{staticClass:"menu-group menu-group__radio"},[a("div",{staticClass:"menu-label menu-type menu-label__two",staticStyle:{margin:"15px 0 15px 0"}},[e._v("菜单类型")]),e._v(" "),a("div",{staticClass:"menu-input__group menu-input__group__two"},[a("el-radio-group",{attrs:{name:"menuType"},on:{change:function(t){e.selMediaData2(e.selectedSubMenuIndex)}},model:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].choiceType,callback:function(t){e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"choiceType",t)},expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].choiceType"}},[a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:1}},[e._v("发送消息")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:2}},[e._v("跳转网页")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:3}},[e._v("扫码")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:4}},[e._v("扫码(等待消息)")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:5}},[e._v("立即拍照")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:6}},[e._v("拍照/相册")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:7}},[e._v("相册")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:8}},[e._v("地理位置")]),e._v(" "),a("el-radio",{staticClass:"el-radio-group--item",attrs:{label:9}},[e._v("关联小程序")])],1)],1),e._v(" "),a("div",{staticStyle:{clear:"both"}})]),e._v(" "),"view"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex])?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips gray"},[e._v("触发该类型菜单，微信客户端会自动跳转到指定链接")]),e._v(" "),a("div",{staticClass:"menu-label"},[e._v("页面地址")]),e._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].linkUrl,expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].linkUrl"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255",placeholder:""},domProps:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].linkUrl},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"linkUrl",t.target.value)}}}),e._v(" "),a("p",{staticClass:"gray"},[e._v("指定网页链接需要加上访问协议，如http:// 或https://")])])])]):"media_id"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex])?a("div",{staticClass:"menu-msg-content"},[a("media-warpper",{attrs:{data:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].mediaData},on:{change:e.getMediaData}})],1):"click"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex])?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"media-warpper"},[a("div",{staticClass:"menu-msg-panel"},[a("div",{staticClass:"menu-msg-select_detail"},[a("ul",{staticClass:"menu-msg-select__ul"},[a("li",[a("div",{staticClass:"wx-create"},[a("key-word-zone",{staticClass:"wx-create__item",on:{change:e.getKeyword}},[a("div",{staticClass:"wx-create__item"},[a("p",[a("img",{staticClass:"key-icon",attrs:{src:s("XgNK"),alt:""}})]),e._v(" "),a("p",{staticClass:"wx-create__title"},[e._v("关键词")])])])],1)])])])])]),e._v(" "),e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword.length>0?a("div",{staticClass:"keyword-items",staticStyle:{width:"40%"}},[a("div",[a("span",[e._v("规则名：")]),e._v(e._s(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].ruleName))]),e._v(" "),a("span",[e._v("关键词：")]),e._v(" "),e._l(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].wechatReplyKeywordList,function(t,s){return[""!==t.wordkeyEq?a("el-tag",{key:s,staticStyle:{"margin-left":"5px"},attrs:{size:"mini"}},[e._v(e._s(t.wordkeyEq))]):e._e(),e._v(" "),""!==t.wordkeyLike?a("el-tag",{key:s,staticStyle:{"margin-left":"5px"},attrs:{size:"mini"}},[e._v(e._s(t.wordkeyLike))]):e._e()]}),e._v(" "),a("div",[a("span",[e._v("回复类型：")]),e._v(" "),"image"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?a("span",[e._v("图片")]):e._e(),e._v(" "),"text"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?a("span",[e._v("文本")]):e._e(),e._v(" "),"news"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?a("span",[e._v("图文")]):e._e(),e._v(" "),"voice"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?a("span",[e._v("音乐")]):e._e(),e._v(" "),"video"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?a("span",[e._v("视频")]):e._e(),e._v(" "),"music"===e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].keyword[0].msgType?a("span",[e._v("音乐")]):e._e()])],2):e._e()])]):"miniprogram"==e.selectedMenuType(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex])?a("div",{staticClass:"menu-content"},[a("div",{staticClass:"menu-input-group"},[a("p",{staticClass:"menu-tips gray"},[e._v("订阅者点击该子菜单会跳到以下小程序")]),e._v(" "),a("div",{staticClass:"menu-label"},[e._v("小程序APPID")]),e._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].miniprogramAppid,expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].miniprogramAppid"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"50"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].miniprogramAppid},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"miniprogramAppid",t.target.value)}}}),e._v(" "),a("div",[a("a",{staticClass:"gray",attrs:{target:"_blank",href:"http://weixiao.qq.com/notice/view?mid=0&cid=2&id=274"}},[e._v("获取小程序APPID")])])])]),e._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[e._v("小程序路径")]),e._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].miniprogramPagepath,expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].miniprogramPagepath"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].miniprogramPagepath},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"miniprogramPagepath",t.target.value)}}}),e._v(" "),a("div",{staticClass:"gray"},[e._v("填写跳转至小程序指定页面访问路径，"),a("a",{staticClass:"menu-tips",attrs:{target:"_blank",href:"http://weixiao.qq.com/notice/view?mid=0&cid=2&id=275"}},[e._v("查看引导")])])])]),e._v(" "),a("div",{staticClass:"menu-input-group"},[a("div",{staticClass:"menu-label"},[e._v("备用网页")]),e._v(" "),a("div",{staticClass:"menu-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].linkUrl,expression:"formData.menuList[selectedMenuIndex].childs[selectedSubMenuIndex].linkUrl"}],staticClass:"menu-input-text",attrs:{type:"text",maxlength:"255"},domProps:{value:e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex].linkUrl},on:{input:function(t){t.target.composing||e.$set(e.formData.menuList[e.selectedMenuIndex].childs[e.selectedSubMenuIndex],"linkUrl",t.target.value)}}}),e._v(" "),a("p",{staticClass:"menu-tips gray"},[e._v("旧版微信客户端无法支持小程序，用户点击菜单时将会打开备用网页。")])])])]):e._e()]):e._e()])])],1),e._v(" "),a("div",{staticClass:"cms-form-footer"},[a("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(t){e.save(1)}}},[e._v("保存并发布")]),e._v(" "),a("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(t){e.save(2)}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var _=s("C7Lr")(p,v,!1,function(e){s("MQDm")},"data-v-a62795e6",null);t.default=_.exports},MQDm:function(e,t){}});
//# sourceMappingURL=92.01d043f404e2c6d0db9c.js.map