{"version":3,"sources":["webpack:///src/views/marketing/activityMange/stroeList.vue","webpack:///./src/views/marketing/activityMange/stroeList.vue?fbfd","webpack:///./src/views/marketing/activityMange/stroeList.vue","webpack:///src/views/marketing/activityMange/productList.vue","webpack:///./src/views/marketing/activityMange/productList.vue?d878","webpack:///./src/views/marketing/activityMange/productList.vue"],"names":["defaultData","name","beginTime","endTime","promoteId","size","page","stroeList","mixins","components","productList","data","queryParams","assign_default","signEndTime","computed","canShowAudit","Date","getTime","this","methods","setTimer","value","getTableData","marketing","storeAduit","id","_this","$confirm","confirmButtonText","cancelButtonText","type","then","Object","res","code","$successMessage","$errorMessage","message","catch","created","$route","query","activityMange_stroeList","render","_vm","_h","$createElement","_c","_self","attrs","to","_v","_s","staticClass","staticStyle","color","directives","rawName","expression","ref","width","tableData","stripe","label","scopedSlots","_u","key","fn","scope","row","storeId","signStatus","prop","min-width","$moment","signTime","_e","icon","on","click","$event","total","change","getPage","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","props","String","Number","Boolean","signCheck","singProductIds","reason","status","arguments","length","undefined","checked","activityMange_productList","padding","_l","item","src","$cms","filterUrl","product","coverImage","float","salePrice","title"],"mappings":"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","file":"static/js/37.eea57d568e7c4a765439.js","sourcesContent":["<template>\n  <div>\n    <cms-breadcrumb to=\"/activity/list\" type='list'>\n      <li>{{$route.name}}</li>\n    </cms-breadcrumb>\n    <div class=\"cms-list-layout\">\n      <cms-prompt>\n        <li>显示参与 <span style=\"color:#188ae2\">{{$route.query.name}}</span> 的商家列表</li>\n      </cms-prompt>\n      <el-table :data=\"tableData\" style=\"width: 100%\" stripe v-loading=\"loading\" ref='dataTable'>\n        <el-table-column type=\"expand\" label=\"\" width=\"60\">\n          <template slot-scope=\"scope\">\n            <product-list :promoteId=\"scope.row.promoteId\" :id=\"scope.row.id\" :storeId=\"scope.row.storeId\" \n            :signStatus=\"scope.row.signStatus\" :canShowAudit=\"canShowAudit\"></product-list>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"store.storeName\" label=\"商家名称\" min-width=\"200\"></el-table-column>\n        <el-table-column prop=\"discountAmount\" label=\"报名时间\" min-width=\"140\">\n          <template slot-scope=\"scope\">\n            {{$moment(scope.row.signTime,'YYYY-MM-DD')}}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"signStatus\" label=\"审核状态\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.signStatus==0\" class=\"error\">报名待审核</span>\n            <span v-if=\"scope.row.signStatus==1\" class=\"link\">已审核待支付</span>\n            <span v-if=\"scope.row.signStatus==2\" class=\"success\">已支付报名成功</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"signStatus\" label=\"操作\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <cms-button icon='edit' size='small' type='info' v-if=\"scope.row.signStatus==0&&canShowAudit\"\n            @click=\"storeAduit(scope.row.id)\">确认审核</cms-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <cms-pagination @change=\"getPage\" :total='total'></cms-pagination>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  promoteSignPage,\n  promoteSignCheckFinish\n} from './../../../api/marketing/index.js'\nimport productList from './productList'\nimport list from '@/mixins/list'\nvar defaultData = {\n  name: '',\n  beginTime: '',\n  endTime: '',\n  promoteId: '',\n  size: 10,\n  page: 1\n}\nexport default {\n  mixins: [list],\n  components: { productList },\n  data() {\n    return {\n      queryParams: Object.assign({}, defaultData),\n      signEndTime: ''// 报名结束时间(控制操作按钮)\n    }\n  },\n  computed: {\n    canShowAudit() { // 根据报名截止时间判断是否可以操作\n      const now = new Date().getTime()\n      if (now > this.signEndTime) {\n        return true\n      } else {\n        return false\n      }\n    }\n  },\n  methods: {\n    setTimer(value) {\n      this.queryParams.beginTime = value[0]\n      this.queryParams.endTime = value[1]\n      this.getTableData(promoteSignPage, this.queryParams)\n    },\n    storeAduit(id) {\n      this.$confirm('确定审核后,无法再对该活动进行审核操作,是否确定?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(() => {\n          promoteSignCheckFinish({ id: id }).then(res => {\n            if (res.code === 200) {\n              this.$successMessage('审核成功')\n              this.getTableData(promoteSignPage, this.queryParams)\n            } else {\n              this.$errorMessage('审核失败,' + res.message)\n            }\n          })\n        })\n        .catch(() => {})\n    }\n  },\n  created() {\n    this.queryParams.promoteId = this.$route.query.promoteId\n    this.signEndTime = this.$route.query.signEndTime\n    this.getTableData(promoteSignPage, this.queryParams)\n  }\n}\n</script>\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/marketing/activityMange/stroeList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('cms-breadcrumb',{attrs:{\"to\":\"/activity/list\",\"type\":\"list\"}},[_c('li',[_vm._v(_vm._s(_vm.$route.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"cms-list-layout\"},[_c('cms-prompt',[_c('li',[_vm._v(\"显示参与 \"),_c('span',{staticStyle:{\"color\":\"#188ae2\"}},[_vm._v(_vm._s(_vm.$route.query.name))]),_vm._v(\" 的商家列表\")])]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"dataTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\",\"label\":\"\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('product-list',{attrs:{\"promoteId\":scope.row.promoteId,\"id\":scope.row.id,\"storeId\":scope.row.storeId,\"signStatus\":scope.row.signStatus,\"canShowAudit\":_vm.canShowAudit}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"store.storeName\",\"label\":\"商家名称\",\"min-width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"discountAmount\",\"label\":\"报名时间\",\"min-width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm.$moment(scope.row.signTime,'YYYY-MM-DD'))+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"signStatus\",\"label\":\"审核状态\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.signStatus==0)?_c('span',{staticClass:\"error\"},[_vm._v(\"报名待审核\")]):_vm._e(),_vm._v(\" \"),(scope.row.signStatus==1)?_c('span',{staticClass:\"link\"},[_vm._v(\"已审核待支付\")]):_vm._e(),_vm._v(\" \"),(scope.row.signStatus==2)?_c('span',{staticClass:\"success\"},[_vm._v(\"已支付报名成功\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"signStatus\",\"label\":\"操作\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.signStatus==0&&_vm.canShowAudit)?_c('cms-button',{attrs:{\"icon\":\"edit\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){_vm.storeAduit(scope.row.id)}}},[_vm._v(\"确认审核\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('cms-pagination',{attrs:{\"total\":_vm.total},on:{\"change\":_vm.getPage}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-3be720ca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/marketing/activityMange/stroeList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3be720ca\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./stroeList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./stroeList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./stroeList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3be720ca\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./stroeList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/marketing/activityMange/stroeList.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"cms-list-layout\" style=\"padding:0px 16px;\">\r\n    <ul class=\"prodSearch-intro-ul clearfix\">\r\n      <li class=\"prodSearch-intro-li\" v-for=\"(item) in tableData\" :key=\"item.id\">\r\n        <div class=\"prodSearch-intro-box\">\r\n          <img :src=\"$cms.filterUrl(item.product.coverImage)\" class=\"prodSearch-intro-box__img\">\r\n          <p class=\"prodSearch-intro-box__descript\">\r\n            {{item.product.name}}\r\n          </p>\r\n          <p class=\"prodSearch-intro-box__price error\">\r\n            ￥{{$cms.float(item.product.salePrice)}}\r\n          </p>\r\n        </div>\r\n        <div class=\"prodSearch-toolbar\" :key=\"item.id\" v-if=\"signStatus<=0&&canShowAudit\">\r\n          <span class=\"el-icon-check\" title=\"审核通过\" @click=\"signCheck([item.id],'审核通过')\"></span>\r\n          <span class=\"el-icon-close\" title=\"审核不通过\"  @click=\"signCheck([item.id],'审核不通过',false)\"></span>\r\n        </div>\r\n        <span class=\"prodSearch__aduit--scucc\" v-if=\"item.status==1\">已审核</span>\r\n        <span class=\"prodSearch__aduit--fail\" v-if=\"item.status==2\">退回</span>\r\n        <span class=\"prodSearch__aduit--primary\" v-if=\"item.status==0\">待审核</span>\r\n      </li>\r\n\r\n    </ul>\r\n    <cms-pagination @change=\"getPage\" :total='total' style=\"padding:10px 0\"></cms-pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  promoteProductPage,\r\n  promoteSignCheck\r\n} from './../../../api/marketing/index.js'\r\nimport list from '@/mixins/list'\r\nvar defaultData = {\r\n  promoteId: '',\r\n  id: '',\r\n  size: 10,\r\n  page: 1,\r\n  storeId: ''\r\n}\r\nexport default {\r\n  mixins: [list],\r\n  props: {\r\n    promoteId: [String, Number],\r\n    id: [String, Number],\r\n    storeId: [String, Number],\r\n    signStatus: [String, Number],\r\n    canShowAudit: {// 店铺列表传过来的值(是否可以操作)\r\n      type: Boolean\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      queryParams: Object.assign({}, defaultData)\r\n    }\r\n  },\r\n  methods: {\r\n    signCheck(singProductIds, reason, status = true) {\r\n      // 审核商品\r\n      promoteSignCheck({\r\n        id: this.id,\r\n        checked: status,\r\n        singProductIds: singProductIds,\r\n        reason: reason\r\n      }).then(res => {\r\n        if (res.code === 200) {\r\n          this.$successMessage('审核成功')\r\n          this.getTableData(promoteProductPage, this.queryParams)\r\n        } else {\r\n          this.$errorMessage(res.message)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.queryParams.promoteId = this.promoteId\r\n    this.queryParams.storeId = this.storeId\r\n    this.getTableData(promoteProductPage, this.queryParams)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n/* 商品搜索 */\r\n.prodSearch-toolbar {\r\n  width: 100%;\r\n  height: 26px;\r\n  border-top: 1px solid #e0e0e0;\r\n  display: flex;\r\n  justify-items: flex-start;\r\n  span {\r\n    flex: 1;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    text-align: center;\r\n    &:first-child {\r\n      border-right: 1px solid #e0e0e0;\r\n    }\r\n  }\r\n}\r\n/* 商品搜索主体 */\r\n.prodSearch-intro {\r\n  position: relative;\r\n  font-size: 14px;\r\n  overflow: hidden;\r\n}\r\n.prodSearch-intro-li {\r\n  cursor: pointer;\r\n  float: left;\r\n  width: 150px;\r\n  // height: 180px;\r\n  border: 1px solid #e0e0e0;\r\n  padding: 10px 0px 0 0px;\r\n  margin-top: 10px;\r\n  border-radius: 4px;\r\n  margin-right: 15px;\r\n  position: relative;\r\n}\r\n.prodSearch__aduit--scucc {\r\n  font-size: 12px;\r\n  display: block;\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 10px;\r\n  padding: 0px 4px;\r\n  border-radius: 3px;\r\n  background: #5cb85c;\r\n  color: #fff;\r\n}\r\n.prodSearch__aduit--fail {\r\n  font-size: 12px;\r\n  display: block;\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 10px;\r\n  padding: 0px 4px;\r\n  border-radius: 3px;\r\n  background: #fe5331;\r\n  color: #fff;\r\n}\r\n.prodSearch__aduit--primary{\r\n    font-size: 12px;\r\n  display: block;\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 10px;\r\n padding: 0px 4px;\r\n  border-radius: 3px;\r\n  background: #188ae2;\r\n  color: #fff;\r\n}\r\n\r\n.prodSearch-intro-box {\r\n  &__img {\r\n    width: 80px;\r\n    height: 80px;\r\n    display: block;\r\n    margin: 0px auto 5px auto;\r\n  }\r\n  &__price {\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #f56c6c;\r\n    margin-bottom: 10px;\r\n  }\r\n  &__descript {\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #444;\r\n    line-height: 20px;\r\n    height: 40px;\r\n    overflow: hidden;\r\n    -webkit-line-clamp: 2;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-box-orient: vertical;\r\n  }\r\n  &__cancel {\r\n    display: none;\r\n    height: 32px;\r\n    background: rgba(0, 0, 0, 0.6);\r\n    color: #fff;\r\n    line-height: 32px;\r\n    font-size: 14px;\r\n    text-align: center;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n  }\r\n}\r\n.prodSearch-intro-li:hover {\r\n  .prodSearch-intro-box__cancel {\r\n    display: block;\r\n  }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/marketing/activityMange/productList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cms-list-layout\",staticStyle:{\"padding\":\"0px 16px\"}},[_c('ul',{staticClass:\"prodSearch-intro-ul clearfix\"},_vm._l((_vm.tableData),function(item){return _c('li',{key:item.id,staticClass:\"prodSearch-intro-li\"},[_c('div',{staticClass:\"prodSearch-intro-box\"},[_c('img',{staticClass:\"prodSearch-intro-box__img\",attrs:{\"src\":_vm.$cms.filterUrl(item.product.coverImage)}}),_vm._v(\" \"),_c('p',{staticClass:\"prodSearch-intro-box__descript\"},[_vm._v(\"\\n          \"+_vm._s(item.product.name)+\"\\n        \")]),_vm._v(\" \"),_c('p',{staticClass:\"prodSearch-intro-box__price error\"},[_vm._v(\"\\n          ￥\"+_vm._s(_vm.$cms.float(item.product.salePrice))+\"\\n        \")])]),_vm._v(\" \"),(_vm.signStatus<=0&&_vm.canShowAudit)?_c('div',{key:item.id,staticClass:\"prodSearch-toolbar\"},[_c('span',{staticClass:\"el-icon-check\",attrs:{\"title\":\"审核通过\"},on:{\"click\":function($event){_vm.signCheck([item.id],'审核通过')}}}),_vm._v(\" \"),_c('span',{staticClass:\"el-icon-close\",attrs:{\"title\":\"审核不通过\"},on:{\"click\":function($event){_vm.signCheck([item.id],'审核不通过',false)}}})]):_vm._e(),_vm._v(\" \"),(item.status==1)?_c('span',{staticClass:\"prodSearch__aduit--scucc\"},[_vm._v(\"已审核\")]):_vm._e(),_vm._v(\" \"),(item.status==2)?_c('span',{staticClass:\"prodSearch__aduit--fail\"},[_vm._v(\"退回\")]):_vm._e(),_vm._v(\" \"),(item.status==0)?_c('span',{staticClass:\"prodSearch__aduit--primary\"},[_vm._v(\"待审核\")]):_vm._e()])}),0),_vm._v(\" \"),_c('cms-pagination',{staticStyle:{\"padding\":\"10px 0\"},attrs:{\"total\":_vm.total},on:{\"change\":_vm.getPage}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-e22ed026\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/marketing/activityMange/productList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e22ed026\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./productList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./productList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./productList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e22ed026\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./productList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e22ed026\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/marketing/activityMange/productList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}