webpackJsonp([108],{"9qQa":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),l=a.n(r),o=a("x1ym"),s=a("5HJ5"),i=a("lcoF"),n=a("VtJY"),c={storeUsername:"",size:10,page:1},u={id:"",capitalChangeType:2,calculatorType:1,storeName:"",money:"",remark:""},m={mixins:[s.a,i.a],data:function(){return{queryParams:l()({},c),formData:l()({},u),dialogFormVisible:!1,saveRules:{capitalChangeType:[o.a.required("此项必填","change")],calculatorType:[o.a.required("此项必填")],money:[o.a.required("此项必填"),o.a.float()],remark:[o.a.required("此项必填")]}}},methods:{adjust:function(e){var t=this;this.dialogFormVisible=!0,Object(n.b)({id:e}).then(function(e){t.formData=l()(u,e.data)})},noPass:function(){var e=this;this.saveForm(n.c,this.formData).then(function(t){200===t.code?(e.$successMessage("提交成功"),e.getTableData(n.a,e.queryParams),e.dialogFormVisible=!1):e.$errorMessage("提交失败,"+t.message)}).catch(function(){})}},activated:function(){"list"===this.$route.query.type&&(this.queryParams=l()({},c),this.getTableData(n.a,this.queryParams))},created:function(){this.getTableData(n.a,this.queryParams)}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cms-list-layout"},[a("cms-prompt",{attrs:{collapse:"true"}},[a("li",[e._v("入住商家账户资产管理")]),e._v(" "),a("li",[e._v("支持保证金额调整，查阅账户明细信息")])]),e._v(" "),a("section",{staticClass:"cms-list-query"},[a("div",{staticClass:"query-group"},[a("label",[e._v("店铺名称")]),e._v(" "),a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.query(t):null}},model:{value:e.queryParams.storeName,callback:function(t){e.$set(e.queryParams,"storeName",t)},expression:"queryParams.storeName"}})],1),e._v(" "),a("div",{staticClass:"query-group"},[a("label",[e._v("商家账号")]),e._v(" "),a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.query(t):null}},model:{value:e.queryParams.storeUsername,callback:function(t){e.$set(e.queryParams,"storeUsername",t)},expression:"queryParams.storeUsername"}})],1),e._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:e.query}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.getCheckItems,"row-click":e.checkRows}},[a("el-table-column",{attrs:{type:"selection",width:"46",fixed:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"store.storeName",label:"店铺名称","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"store.storeUsername",label:"商家账号","min-width":"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"账户金额","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.$cms.float(t.row.balance)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"frozenMoney",label:"冻结金额","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.$cms.float(t.row.frozenMoney)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"bondMoney",label:"保证金","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.$cms.float(t.row.bondMoney)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"340",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[a("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(a){e.adjust(t.row.id)}}},[e._v("资金调整")]),e._v(" "),a("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(a){a.stopPropagation(),e.$routerLink("/shopAccount/accountList/detali","list",{id:t.row.store.id})}}},[e._v("账户明细")])],1)}}])})],1),e._v(" "),a("cms-pagination",{attrs:{total:e.total},on:{change:e.getPage}}),e._v(" "),a("el-dialog",{attrs:{title:"资金调整",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.saveRules}},[a("el-form-item",{attrs:{label:"店铺名称",prop:"storeName","label-width":"120px"}},[[e.formData.storeName?a("span",[e._v(e._s(e.formData.storeName))]):e._e()]],2),e._v(" "),a("el-form-item",{attrs:{label:"资金类型",prop:"capitalChangeType","label-width":"120px"}},[a("el-radio-group",{model:{value:e.formData.capitalChangeType,callback:function(t){e.$set(e.formData,"capitalChangeType",t)},expression:"formData.capitalChangeType"}},[a("el-radio",{attrs:{label:2}},[e._v("保证金")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"调整类型",prop:"calculatorType","label-width":"120px"}},[a("el-radio-group",{model:{value:e.formData.calculatorType,callback:function(t){e.$set(e.formData,"calculatorType",t)},expression:"formData.calculatorType"}},[a("el-radio",{attrs:{label:1}},[e._v("增加")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("减少")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"调整金额",prop:"money","label-width":"120px"}},[a("el-input",{attrs:{maxlength:"6"},model:{value:e.formData.money,callback:function(t){e.$set(e.formData,"money",t)},expression:"formData.money"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"原由",prop:"remark","label-width":"120px"}},[a("el-input",{attrs:{maxlength:"255",type:"textarea",rows:6},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.noPass}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(m,p,!1,function(e){a("sW4l")},null,null);t.default=d.exports},sW4l:function(e,t){}});
//# sourceMappingURL=108.1c557b608b1051780ec8.js.map