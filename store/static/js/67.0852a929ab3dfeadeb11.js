webpackJsonp([67],{"0VE2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("5HJ5"),s=n("zzd2"),i={mixins:[a.a],data:function(){return{tableData:[{email:"",enabled:"",id:[],mobile:"",username:""}]}},methods:{getUserList:function(){var e=this;Object(s.f)({id:this.$route.query.id}).then(function(t){200===t.code&&(e.tableData=t.data.storeUsers)})},removeUser:function(e){var t=this;this.$confirm("确定移除该成员?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.g)({id:t.$route.query.id,userId:[e]}).then(function(e){t.$successMessage(e.message),t.getUserList()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},getChangeIds:function(e){this.tableData.ids=e},removeBatch:function(){var e=this;if(this.tableData.ids.length>0){var t=[];this.tableData.ids.forEach(function(e){t.push(e.id)}),this.$confirm("确定要移除选定的成员?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.g)({id:e.$route.query.id,userId:t}).then(function(t){200===t.code&&(e.$errorMessage(t.message),e.getUserList())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}else this.$errorMessage("请先选中之后在删除")}},created:function(){this.getUserList()}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("cms-breadcrumb",{attrs:{to:"/role/list"}},[n("li",[e._v(e._s(e.$route.name))])]),e._v(" "),n("div",{staticClass:"cms-list-layout"},[n("cms-prompt",[n("li",[e._v("显示账号组内的用户信息列表,可移除账号组内用户")])]),e._v(" "),n("section",{staticClass:"cms-batch"},[n("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/admin/save",expression:"'/admin/save'"}],attrs:{icon:"add",type:"success",size:"small"},on:{click:function(t){e.$routerLink("/admin/save","save")}}},[e._v("新增")]),e._v(" "),n("cms-button",{attrs:{icon:"error",type:"error",size:"small"},on:{click:function(t){e.removeBatch(e.ids)}}},[e._v("批量删除")])],1),e._v(" "),n("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.getChangeIds,"row-click":e.checkRows}},[n("el-table-column",{attrs:{type:"selection",width:"46",fixed:"left"}}),e._v(" "),n("el-table-column",{attrs:{prop:"id",label:"id",width:"60"}}),e._v(" "),n("el-table-column",{attrs:{prop:"username",label:"店铺账户",width:"110"}}),e._v(" "),n("el-table-column",{attrs:{prop:"mobile",label:"手机","min-width":"130"}}),e._v(" "),n("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"160"}}),e._v(" "),n("el-table-column",{attrs:{prop:"",label:"是否启用",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.enabled?"是":"否"))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"255",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("cms-button",{attrs:{icon:"error",size:"small",type:"info"},on:{click:function(n){n.stopPropagation(),e.removeUser(t.row.id)}}},[e._v("移除")])]}}])})],1)],1)],1)},staticRenderFns:[]};var o=n("C7Lr")(i,r,!1,function(e){n("V2Rc")},null,null);t.default=o.exports},V2Rc:function(e,t){}});
//# sourceMappingURL=67.0852a929ab3dfeadeb11.js.map