webpackJsonp([83],{PaiG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),o=a.n(r),s=a("x1ym"),i=a("lcoF"),l=a("AsmT"),n={cateName:"",parentId:"",isShow:!0,isTop:!0,title:"",keywords:"",description:"",sortNum:10,storeId:"",parentIds:[]},c={mixins:[i.a],data:function(){return{options:[],props:{value:"id",label:"cateName",children:"childs",disabled:"isAuth"},formData:o()({},n),saveRules:{cateName:[s.a.required("请填写分类名称 ")],isShow:[s.a.required()],isTop:[s.a.required()]}}},methods:{getMenuTree:function(){var e=this;Object(l.f)().then(function(t){e.options=[{id:0,cateName:"顶级分类"}].concat(t.data)})},getAll:function(){this.getMenuTree()},save:function(e){var t=this.$cms.deepCopy(this.formData);t.parentId=t.parentIds[t.parentIds.length-1],delete t.parentIds,0===t.parentId&&(t.parentId=""),this.saveForm(l.e,t,e,"/store/category",this.$route.query.type)},reset:function(){window.clearInterval(this.timer),this.autoFocus(),this.$refs.form.resetFields(),this.destroyed(),this.formData.parentIds=[0]}},created:function(){this.formData.parentIds=this.$cms.arrayToNumber(this.$route.query.nodeIds),this.getAll()}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("cms-breadcrumb",{attrs:{to:"/store/category",type:e.$route.query.type}},[a("li",[e._v(e._s(e.$route.name))])]),e._v(" "),a("div",{staticClass:"cms-form-layout"},[a("cms-prompt",{attrs:{collapse:"true"}},[a("li",[e._v("带 * 为必填项")])]),e._v(" "),a("el-form",{ref:"form",attrs:{rules:e.saveRules,model:e.formData,"label-width":"210px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"分类名称：",prop:"cateName",error:e.errorMessage.cateName}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.formData.cateName,callback:function(t){e.$set(e.formData,"cateName",t)},expression:"formData.cateName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上级分类：",prop:"parentId"}},[a("el-cascader",{attrs:{options:e.options,props:e.props,"change-on-select":!0,placeholder:"请选择分类"},model:{value:e.formData.parentIds,callback:function(t){e.$set(e.formData,"parentIds",t)},expression:"formData.parentIds"}}),e._v(" "),a("span",{staticClass:"gray"},[e._v("不选择，默认为顶级分类")])],1),e._v(" "),a("el-form-item",{attrs:{label:"是否显示：",prop:"isShow",error:e.errorMessage.isShow}},[a("cms-switch",{model:{value:e.formData.isShow,callback:function(t){e.$set(e.formData,"isShow",t)},expression:"formData.isShow"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否显示店铺导航栏：",prop:"isTop",error:e.errorMessage.isTop}},[a("cms-switch",{model:{value:e.formData.isTop,callback:function(t){e.$set(e.formData,"isTop",t)},expression:"formData.isTop"}}),e._v(" "),a("span",{staticClass:"gray"},[e._v("设置该分类是否显示在店铺分类导航中")])],1),e._v(" "),a("el-form-item",{attrs:{label:"分类页标题：",prop:"title"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类页关键字：",prop:"keywords"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.formData.keywords,callback:function(t){e.$set(e.formData,"keywords",t)},expression:"formData.keywords"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类页描述：",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:4,maxlength:"200"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1)],1),e._v(" "),a("div",{staticClass:"cms-form-footer"},[a("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(t){e.save(!1)}}},[e._v("保存并新增")]),e._v(" "),a("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(t){e.save(!0)}}},[e._v("保存")]),e._v(" "),a("cms-button",{attrs:{type:"rest"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]},p=a("C7Lr")(c,m,!1,null,null,null);t.default=p.exports}});
//# sourceMappingURL=83.f3e077437b904b9152aa.js.map