{"version":3,"sources":["webpack:///./src/views/trading/waybillTemplate/components/vue-drag-resize.js","webpack:///./src/views/trading/waybillTemplate/components/vue-drag-resize.html","webpack:///./src/views/trading/waybillTemplate/components/vue-drag-resize.vue","webpack:///src/views/trading/waybillTemplate/components/tpl.vue","webpack:///./src/views/trading/waybillTemplate/components/tpl.vue?8099","webpack:///./src/views/trading/waybillTemplate/components/tpl.vue","webpack:///./src/api/setting/logisticsCompany.js","webpack:///src/views/trading/waybillTemplate/save.vue","webpack:///./src/views/trading/waybillTemplate/save.vue?6bc2","webpack:///./src/views/trading/waybillTemplate/save.vue"],"names":["styleMapping","t","m","b","l","r","vue_drag_resize","name","props","parentScaleX","type","Number","default","parentScaleY","isActive","Boolean","preventActiveBehavior","isDraggable","isResizable","aspectRatio","parentLimitation","parentW","validator","val","parentH","w","h","minw","minh","x","y","z","String","dragHandle","dragCancel","sticks","Array","axis","indexOf","customData","Object","value","data","active","this","rawWidth","rawHeight","rawLeft","rawTop","rawRight","rawBottom","zIndex","aspectFactor","parentWidth","parentHeight","left","top","right","bottom","minWidth","minHeight","created","stickDrag","bodyDrag","stickAxis","stickStartPos","mouseX","mouseY","limits","minLeft","maxLeft","minRight","maxRight","minTop","maxTop","minBottom","maxBottom","currentStick","mounted","parentElement","$el","parentNode","clientWidth","clientHeight","document","documentElement","addEventListener","move","up","deselect","dragHandles","prototype","slice","call","querySelectorAll","i","setAttribute","_uid","cancelHandles","beforeDestroy","removeEventListener","methods","ev","stopPropagation","stickMove","bodyMove","stickUp","bodyUp","bodyDown","target","srcElement","button","$emit","getAttribute","toString","pageX","touches","pageY","calcDragLimitation","width","height","delta","obj","assign_default","rect","stickDown","stick","split","calcResizeLimitation","parentLim","aspectLimits","Math","min","max","aspectRatioCorrection","newWidth","newHeight","computed","style","vdrStick","_this","stickStyle","round","watch","newLeft","newRight","newTop","newBottom","components_vue_drag_resize","render","_vm","_h","$createElement","_c","_self","staticClass","class","on","mousedown","$event","preventDefault","touchstart","_t","_v","_l","staticRenderFns","tpl","backgroundImgId","filedItems","text","canvasWidth","canvasHeight","checkItems","canvasItems","imageObject","isEdit","components","vueDragResize","__webpack_require__","normalizeComponent","ssrContext","imgData","filedData","handler","newVal","oldVal","key","getArrDifference","filter","v","index","findIndex","id","splice","canvasObj","push","deep","resizeCanvas","getImg","immediate","length","map","canvasStyles","$nextTick","body","getElementById","cvs","ctx","getContext","drawImage","changeCheckItems","_this2","Image","src","$cms","filterUrl","url","onload","arr1","arr2","concat","arr","lastIndexOf","components_tpl","attrs","label","staticStyle","change","model","callback","$$v","expression","item","margin-left","margin-bottom","_s","preview","size","$set","tpl_Component","tpl_normalizeComponent","__webpack_exports__","d","logisticsCompanyList","__WEBPACK_IMPORTED_MODULE_0__fetch__","params","axios","get","defaultData","waybillType","upperOffset","leftOffset","isEnable","logisticsCompanyId","isDefault","waybillTemplate_save","mixins","mixins_form","validateNum","rule","test","Error","templateSelect","logItems","templateList","selTplList","formData","saveRules","rules","required","len","number","custom","tplField","save","state","stringify_default","bgImgResourceData","saveForm","waybillTemplate","getlogItem","logisticsCompany","page","then","res","getTemplate","code","forEach","getTemplateSelect","JSON","parse","status","getTplData","imgId","activated","autoFocus","$route","query","trading_waybillTemplate_save","directives","rawName","to","click","rest","collapse","ref","label-width","placeholder","prop","error","errorMessage","cnName","float","maxlength","slot","clear","_e","Component"],"mappings":"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","file":"static/js/14.b67e38021aa5e019a6a6.js","sourcesContent":["const stickSize = 8\nconst styleMapping = {\n  y: {\n    t: 'top',\n    m: 'marginTop',\n    b: 'bottom'\n  },\n  x: {\n    l: 'left',\n    m: 'marginLeft',\n    r: 'right'\n  }\n}\n\nexport default {\n  name: 'vue-drag-resize',\n  props: {\n    parentScaleX: {\n      type: Number, default: 1\n    },\n    parentScaleY: {\n      type: Number, default: 1\n    },\n    isActive: {\n      type: Boolean, default: false\n    },\n    preventActiveBehavior: {\n      type: Boolean, default: false\n    },\n    isDraggable: {\n      type: Boolean, default: true\n    },\n    isResizable: {\n      type: Boolean, default: true\n    },\n    aspectRatio: {\n      type: Boolean, default: false\n    },\n    parentLimitation: {\n      type: Boolean, default: false\n    },\n    parentW: {\n      type: Number,\n      default: 0,\n      validator: function(val) {\n        return val >= 0\n      }\n    },\n    parentH: {\n      type: Number,\n      default: 0,\n      validator: function(val) {\n        return val >= 0\n      }\n    },\n    w: {\n      type: Number,\n      default: 100,\n      validator: function(val) {\n        return val > 0\n      }\n    },\n    h: {\n      type: Number,\n      default: 100,\n      validator: function(val) {\n        return val > 0\n      }\n    },\n    minw: {\n      type: Number,\n      default: 50,\n      validator: function(val) {\n        return val > 0\n      }\n    },\n    minh: {\n      type: Number,\n      default: 50,\n      validator: function(val) {\n        return val > 0\n      }\n    },\n    x: {\n      type: Number,\n      default: 0,\n      validator: function(val) {\n        return typeof val === 'number'\n      }\n    },\n    y: {\n      type: Number,\n      default: 0,\n      validator: function(val) {\n        return typeof val === 'number'\n      }\n    },\n    z: {\n      type: [String, Number],\n      default: 'auto',\n      validator: function(val) {\n        const valid = (typeof val === 'string') ? val === 'auto' : val >= 0\n        return valid\n      }\n    },\n    dragHandle: {\n      type: String,\n      default: null\n    },\n    dragCancel: {\n      type: String,\n      default: null\n    },\n    sticks: {\n      type: Array,\n      default: function() {\n        return ['tl', 'tm', 'tr', 'mr', 'br', 'bm', 'bl', 'ml']\n      }\n    },\n    axis: {\n      type: String,\n      default: 'both',\n      validator: function(val) {\n        return ['x', 'y', 'both', 'none'].indexOf(val) !== -1\n      }\n    },\n    customData: {\n      type: Object,\n      default: function() {\n        return {}\n      }\n    },\n    value: {\n      type: Object,\n      default: function() {\n        return {}\n      }\n    }\n  },\n\n  data: function() {\n    return {\n      active: this.isActive,\n      rawWidth: this.w,\n      rawHeight: this.h,\n      rawLeft: this.x,\n      rawTop: this.y,\n      rawRight: null,\n      rawBottom: null,\n      zIndex: this.z,\n      aspectFactor: this.w / this.h,\n      parentWidth: null,\n      parentHeight: null,\n      left: this.x,\n      top: this.y,\n      right: null,\n      bottom: null,\n      minWidth: this.minw,\n      minHeight: this.minh\n    }\n  },\n\n  created: function() {\n    this.stickDrag = false\n    this.bodyDrag = false\n    this.stickAxis = null\n    this.stickStartPos = { mouseX: 0, mouseY: 0, x: 0, y: 0, w: 0, h: 0 }\n    this.limits = {\n      minLeft: null,\n      maxLeft: null,\n      minRight: null,\n      maxRight: null,\n      minTop: null,\n      maxTop: null,\n      minBottom: null,\n      maxBottom: null\n    }\n\n    this.currentStick = []\n  },\n\n  mounted: function() {\n    this.parentElement = this.$el.parentNode\n    this.parentWidth = this.parentW ? this.parentW : this.parentElement.clientWidth\n    this.parentHeight = this.parentH ? this.parentH : this.parentElement.clientHeight\n\n    this.rawRight = this.parentWidth - this.rawWidth - this.rawLeft\n    this.rawBottom = this.parentHeight - this.rawHeight - this.rawTop\n\n    document.documentElement.addEventListener('mousemove', this.move)\n    document.documentElement.addEventListener('mouseup', this.up)\n    document.documentElement.addEventListener('mouseleave', this.up)\n\n    document.documentElement.addEventListener('mousedown', this.deselect)\n\n    document.documentElement.addEventListener('touchmove', this.move, true)\n    document.documentElement.addEventListener('touchend touchcancel', this.up, true)\n    document.documentElement.addEventListener('touchstart', this.up, true)\n\n    if (this.dragHandle) {\n      const dragHandles = Array.prototype.slice.call(this.$el.querySelectorAll(this.dragHandle))\n      for (const i in dragHandles) {\n        dragHandles[i].setAttribute('data-drag-handle', this._uid)\n      }\n    }\n\n    if (this.dragCancel) {\n      const cancelHandles = Array.prototype.slice.call(this.$el.querySelectorAll(this.dragCancel))\n      for (const i in cancelHandles) {\n        cancelHandles[i].setAttribute('data-drag-cancel', this._uid)\n      }\n    }\n  },\n\n  beforeDestroy: function() {\n    document.documentElement.removeEventListener('mousemove', this.move)\n    document.documentElement.removeEventListener('mouseup', this.up)\n    document.documentElement.removeEventListener('mouseleave', this.up)\n\n    document.documentElement.removeEventListener('mousedown', this.deselect)\n\n    document.documentElement.removeEventListener('touchmove', this.move, true)\n    document.documentElement.removeEventListener('touchend touchcancel', this.up, true)\n    document.documentElement.removeEventListener('touchstart', this.up, true)\n  },\n\n  methods: {\n    deselect() {\n      if (this.preventActiveBehavior) {\n        return\n      }\n      this.active = false\n    },\n\n    move(ev) {\n      if (!this.stickDrag && !this.bodyDrag) {\n        return\n      }\n\n      ev.stopPropagation()\n\n      if (this.stickDrag) {\n        this.stickMove(ev)\n      }\n      if (this.bodyDrag) {\n        this.bodyMove(ev)\n      }\n    },\n\n    up(ev) {\n      if (this.stickDrag) {\n        this.stickUp(ev)\n      }\n      if (this.bodyDrag) {\n        this.bodyUp(ev)\n      }\n    },\n\n    bodyDown: function(ev) {\n      const target = ev.target || ev.srcElement\n\n      if (!this.preventActiveBehavior) {\n        this.active = true\n      }\n\n      if (ev.button && ev.button !== 0) {\n        return\n      }\n\n      this.$emit('clicked', ev)\n\n      if (!this.isDraggable || !this.active) {\n        return\n      }\n\n      if (this.dragHandle && target.getAttribute('data-drag-handle') !== this._uid.toString()) {\n        return\n      }\n\n      if (this.dragCancel && target.getAttribute('data-drag-cancel') === this._uid.toString()) {\n        return\n      }\n\n      this.bodyDrag = true\n\n      this.stickStartPos.mouseX = ev.pageX || ev.touches[0].pageX\n      this.stickStartPos.mouseY = ev.pageY || ev.touches[0].pageY\n\n      this.stickStartPos.left = this.left\n      this.stickStartPos.right = this.right\n      this.stickStartPos.top = this.top\n      this.stickStartPos.bottom = this.bottom\n\n      if (this.parentLimitation) {\n        this.limits = this.calcDragLimitation()\n      }\n    },\n\n    calcDragLimitation() {\n      const parentWidth = this.parentWidth\n      const parentHeight = this.parentHeight\n\n      return {\n        minLeft: 0,\n        maxLeft: parentWidth - this.width,\n        minRight: 0,\n        maxRight: parentWidth - this.width,\n        minTop: 0,\n        maxTop: parentHeight - this.height,\n        minBottom: 0,\n        maxBottom: parentHeight - this.height\n      }\n    },\n\n    bodyMove(ev) {\n      const stickStartPos = this.stickStartPos\n\n      const delta = {\n        x: (this.axis !== 'y' && this.axis !== 'none' ? stickStartPos.mouseX - (ev.pageX || ev.touches[0].pageX) : 0) / this.parentScaleX,\n        y: (this.axis !== 'x' && this.axis !== 'none' ? stickStartPos.mouseY - (ev.pageY || ev.touches[0].pageY) : 0) / this.parentScaleY\n      }\n\n      this.rawTop = stickStartPos.top - delta.y\n      this.rawBottom = stickStartPos.bottom + delta.y\n      this.rawLeft = stickStartPos.left - delta.x\n      this.rawRight = stickStartPos.right + delta.x\n      const obj = Object.assign({}, this.value, this.rect)\n      this.$emit('input', obj)\n      this.$emit('dragging', this.rect, this.customData)\n    },\n\n    bodyUp() {\n      this.bodyDrag = false\n      const obj = Object.assign({}, this.value, this.rect)\n      this.$emit('input', obj)\n      this.$emit('dragging', this.rect, this.customData)\n      this.$emit('dragstop', this.rect, this.customData)\n\n      this.stickStartPos = { mouseX: 0, mouseY: 0, x: 0, y: 0, w: 0, h: 0 }\n      this.limits = {\n        minLeft: null,\n        maxLeft: null,\n        minRight: null,\n        maxRight: null,\n        minTop: null,\n        maxTop: null,\n        minBottom: null,\n        maxBottom: null\n      }\n    },\n\n    stickDown: function(stick, ev) {\n      if (!this.isResizable || !this.active) {\n        return\n      }\n\n      this.stickDrag = true\n      this.stickStartPos.mouseX = ev.pageX || ev.touches[0].pageX\n      this.stickStartPos.mouseY = ev.pageY || ev.touches[0].pageY\n      this.stickStartPos.left = this.left\n      this.stickStartPos.right = this.right\n      this.stickStartPos.top = this.top\n      this.stickStartPos.bottom = this.bottom\n      this.currentStick = stick.split('')\n      this.stickAxis = null\n\n      switch (this.currentStick[0]) {\n        case 'b':\n          this.stickAxis = 'y'\n          break\n        case 't':\n          this.stickAxis = 'y'\n          break\n      }\n      switch (this.currentStick[1]) {\n        case 'r':\n          this.stickAxis = this.stickAxis === 'y' ? 'xy' : 'x'\n          break\n        case 'l':\n          this.stickAxis = this.stickAxis === 'y' ? 'xy' : 'x'\n          break\n      }\n\n      this.limits = this.calcResizeLimitation()\n    },\n\n    calcResizeLimitation() {\n      let minw = this.minWidth\n      let minh = this.minHeight\n      const aspectFactor = this.aspectFactor\n      const width = this.width\n      const height = this.height\n      const bottom = this.bottom\n      const top = this.top\n      const left = this.left\n      const right = this.right\n      const stickAxis = this.stickAxis\n\n      const parentLim = this.parentLimitation ? 0 : null\n\n      if (this.aspectRatio) {\n        if (minw / minh > aspectFactor) {\n          minh = minw / aspectFactor\n        } else {\n          minw = aspectFactor * minh\n        }\n      }\n\n      let limits = {\n        minLeft: parentLim,\n        maxLeft: left + (width - minw),\n        minRight: parentLim,\n        maxRight: right + (width - minw),\n        minTop: parentLim,\n        maxTop: top + (height - minh),\n        minBottom: parentLim,\n        maxBottom: bottom + (height - minh)\n      }\n\n      if (this.aspectRatio) {\n        const aspectLimits = {\n          minLeft: left - (Math.min(top, bottom) * aspectFactor) * 2,\n          maxLeft: left + ((((height - minh) / 2) * aspectFactor) * 2),\n\n          minRight: right - (Math.min(top, bottom) * aspectFactor) * 2,\n          maxRight: right + ((((height - minh) / 2) * aspectFactor) * 2),\n\n          minTop: top - (Math.min(left, right) / aspectFactor) * 2,\n          maxTop: top + ((((width - minw) / 2) / aspectFactor) * 2),\n\n          minBottom: bottom - (Math.min(left, right) / aspectFactor) * 2,\n          maxBottom: bottom + ((((width - minw) / 2) / aspectFactor) * 2)\n        }\n\n        if (stickAxis === 'x') {\n          limits = {\n            minLeft: Math.max(limits.minLeft, aspectLimits.minLeft),\n            maxLeft: Math.min(limits.maxLeft, aspectLimits.maxLeft),\n            minRight: Math.max(limits.minRight, aspectLimits.minRight),\n            maxRight: Math.min(limits.maxRight, aspectLimits.maxRight)\n          }\n        } else if (stickAxis === 'y') {\n          limits = {\n            minTop: Math.max(limits.minTop, aspectLimits.minTop),\n            maxTop: Math.min(limits.maxTop, aspectLimits.maxTop),\n            minBottom: Math.max(limits.minBottom, aspectLimits.minBottom),\n            maxBottom: Math.min(limits.maxBottom, aspectLimits.maxBottom)\n          }\n        }\n      }\n\n      return limits\n    },\n\n    stickMove(ev) {\n      const stickStartPos = this.stickStartPos\n\n      const delta = {\n        x: (stickStartPos.mouseX - (ev.pageX || ev.touches[0].pageX)) / this.parentScaleX,\n        y: (stickStartPos.mouseY - (ev.pageY || ev.touches[0].pageY)) / this.parentScaleY\n      }\n\n      switch (this.currentStick[0]) {\n        case 'b':\n          this.rawBottom = stickStartPos.bottom + delta.y\n          break\n        case 't':\n          this.rawTop = stickStartPos.top - delta.y\n          break\n      }\n\n      switch (this.currentStick[1]) {\n        case 'r':\n          this.rawRight = stickStartPos.right + delta.x\n          break\n        case 'l':\n          this.rawLeft = stickStartPos.left - delta.x\n          break\n      }\n      const obj = Object.assign({}, this.value, this.rect)\n      this.$emit('input', obj)\n      this.$emit('resizing', this.rect, this.customData)\n    },\n\n    stickUp() {\n      this.stickDrag = false\n      this.stickStartPos = {\n        mouseX: 0,\n        mouseY: 0,\n        x: 0,\n        y: 0,\n        w: 0,\n        h: 0\n      }\n      this.limits = {\n        minLeft: null,\n        maxLeft: null,\n        minRight: null,\n        maxRight: null,\n        minTop: null,\n        maxTop: null,\n        minBottom: null,\n        maxBottom: null\n      }\n      this.rawTop = this.top\n      this.rawBottom = this.bottom\n      this.rawLeft = this.left\n      this.rawRight = this.right\n\n      this.stickAxis = null\n      const obj = Object.assign({}, this.value, this.rect)\n      this.$emit('input', obj)\n      this.$emit('resizing', this.rect, this.$emit)\n      this.$emit('resizestop', this.rect, this.$emit)\n    },\n\n    aspectRatioCorrection() {\n      if (!this.aspectRatio) {\n        return\n      }\n\n      const bottom = this.bottom\n      const top = this.top\n      const left = this.left\n      const right = this.right\n      const width = this.width\n      const height = this.height\n      const aspectFactor = this.aspectFactor\n      const currentStick = this.currentStick\n\n      if (width / height > aspectFactor) {\n        const newWidth = aspectFactor * height\n\n        if (currentStick[1] === 'l') {\n          this.left = left + width - newWidth\n        } else {\n          this.right = right + width - newWidth\n        }\n      } else {\n        const newHeight = width / aspectFactor\n\n        if (currentStick[0] === 't') {\n          this.top = top + height - newHeight\n        } else {\n          this.bottom = bottom + height - newHeight\n        }\n      }\n    }\n  },\n\n  computed: {\n    style() {\n      return {\n        top: this.top + 'px',\n        left: this.left + 'px',\n        width: this.width + 'px',\n        height: this.height + 'px',\n        zIndex: this.zIndex\n      }\n    },\n\n    vdrStick() {\n      return (stick) => {\n        const stickStyle = {\n          width: `${stickSize / this.parentScaleX}px`,\n          height: `${stickSize / this.parentScaleY}px`\n        }\n        stickStyle[styleMapping.y[stick[0]]] = `${stickSize / this.parentScaleX / -2}px`\n        stickStyle[styleMapping.x[stick[1]]] = `${stickSize / this.parentScaleX / -2}px`\n        return stickStyle\n      }\n    },\n\n    width() {\n      return this.parentWidth - this.left - this.right\n    },\n\n    height() {\n      return this.parentHeight - this.top - this.bottom\n    },\n\n    rect() {\n      return {\n        left: Math.round(this.left),\n        top: Math.round(this.top),\n        width: Math.round(this.width),\n        height: Math.round(this.height)\n      }\n    }\n  },\n\n  watch: {\n    rawLeft(newLeft) {\n      const limits = this.limits\n      const stickAxis = this.stickAxis\n      const aspectFactor = this.aspectFactor\n      const aspectRatio = this.aspectRatio\n      const left = this.left\n      const bottom = this.bottom\n      const top = this.top\n\n      if (limits.minLeft !== null && newLeft < limits.minLeft) {\n        newLeft = limits.minLeft\n      } else if (limits.maxLeft !== null && limits.maxLeft < newLeft) {\n        newLeft = limits.maxLeft\n      }\n\n      if (aspectRatio && stickAxis === 'x') {\n        const delta = left - newLeft\n        this.rawTop = top - (delta / aspectFactor) / 2\n        this.rawBottom = bottom - (delta / aspectFactor) / 2\n      }\n\n      this.left = newLeft\n    },\n\n    rawRight(newRight) {\n      const limits = this.limits\n      const stickAxis = this.stickAxis\n      const aspectFactor = this.aspectFactor\n      const aspectRatio = this.aspectRatio\n      const right = this.right\n      const bottom = this.bottom\n      const top = this.top\n\n      if (limits.minRight !== null && newRight < limits.minRight) {\n        newRight = limits.minRight\n      } else if (limits.maxRight !== null && limits.maxRight < newRight) {\n        newRight = limits.maxRight\n      }\n\n      if (aspectRatio && stickAxis === 'x') {\n        const delta = right - newRight\n        this.rawTop = top - (delta / aspectFactor) / 2\n        this.rawBottom = bottom - (delta / aspectFactor) / 2\n      }\n\n      this.right = newRight\n    },\n\n    rawTop(newTop) {\n      const limits = this.limits\n      const stickAxis = this.stickAxis\n      const aspectFactor = this.aspectFactor\n      const aspectRatio = this.aspectRatio\n      const right = this.right\n      const left = this.left\n      const top = this.top\n\n      if (limits.minTop !== null && newTop < limits.minTop) {\n        newTop = limits.minTop\n      } else if (limits.maxTop !== null && limits.maxTop < newTop) {\n        newTop = limits.maxTop\n      }\n\n      if (aspectRatio && stickAxis === 'y') {\n        const delta = top - newTop\n        this.rawLeft = left - (delta * aspectFactor) / 2\n        this.rawRight = right - (delta * aspectFactor) / 2\n      }\n\n      this.top = newTop\n    },\n\n    rawBottom(newBottom) {\n      const limits = this.limits\n      const stickAxis = this.stickAxis\n      const aspectFactor = this.aspectFactor\n      const aspectRatio = this.aspectRatio\n      const right = this.right\n      const left = this.left\n      const bottom = this.bottom\n\n      if (limits.minBottom !== null && newBottom < limits.minBottom) {\n        newBottom = limits.minBottom\n      } else if (limits.maxBottom !== null && limits.maxBottom < newBottom) {\n        newBottom = limits.maxBottom\n      }\n\n      if (aspectRatio && stickAxis === 'y') {\n        const delta = bottom - newBottom\n        this.rawLeft = left - (delta * aspectFactor) / 2\n        this.rawRight = right - (delta * aspectFactor) / 2\n      }\n\n      this.bottom = newBottom\n    },\n\n    width() {\n      this.aspectRatioCorrection()\n    },\n\n    height() {\n      this.aspectRatioCorrection()\n    },\n\n    active(isActive) {\n      if (isActive) {\n        this.$emit('activated')\n      } else {\n        this.$emit('deactivated')\n      }\n    },\n\n    isActive(val) {\n      this.active = val\n    },\n\n    z(val) {\n      if (val >= 0 || val === 'auto') {\n        this.zIndex = val\n      }\n    },\n\n    aspectRatio(val) {\n      if (val) {\n        this.aspectFactor = this.width / this.height\n      }\n    },\n\n    minw(val) {\n      if (val > 0 && val <= this.width) {\n        this.minWidth = val\n      }\n    },\n\n    minh(val) {\n      if (val > 0 && val <= this.height) {\n        this.minHeight = val\n      }\n    },\n\n    x() {\n      if (this.stickDrag || this.bodyDrag) {\n        return\n      }\n      if (this.parentLimitation) {\n        this.limits = this.calcDragLimitation()\n      }\n\n      const delta = this.x - this.left\n      this.rawLeft = this.x\n      this.rawRight = this.right - delta\n    },\n\n    y() {\n      if (this.stickDrag || this.bodyDrag) {\n        return\n      }\n\n      if (this.parentLimitation) {\n        this.limits = this.calcDragLimitation()\n      }\n\n      const delta = this.y - this.top\n      this.rawTop = this.y\n      this.rawBottom = this.bottom - delta\n    },\n\n    w() {\n      if (this.stickDrag || this.bodyDrag) {\n        return\n      }\n\n      this.currentStick = ['m', 'r']\n      this.stickAxis = 'x'\n\n      if (this.parentLimitation) {\n        this.limits = this.calcResizeLimitation()\n      }\n\n      const delta = this.width - this.w\n      this.rawRight = this.right + delta\n    },\n\n    h() {\n      if (this.stickDrag || this.bodyDrag) {\n        return\n      }\n\n      this.currentStick = ['b', 'm']\n      this.stickAxis = 'y'\n\n      if (this.parentLimitation) {\n        this.limits = this.calcResizeLimitation()\n      }\n\n      const delta = this.height - this.h\n      this.rawBottom = this.bottom + delta\n    },\n\n    parentW(val) {\n      this.right = val - this.width - this.left\n      this.parentWidth = val\n    },\n\n    parentH(val) {\n      this.bottom = val - this.height - this.top\n      this.parentHeight = val\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/trading/waybillTemplate/components/vue-drag-resize.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vdr\",class:_vm.active || _vm.isActive ? 'active' : 'inactive',style:(_vm.style),on:{\"mousedown\":function($event){$event.stopPropagation();$event.preventDefault();_vm.bodyDown($event)},\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();_vm.bodyDown($event)}}},[_vm._t(\"default\"),_vm._v(\" \"),_vm._l((_vm.sticks),function(stick){return _c('div',{staticClass:\"vdr-stick\",class:['vdr-stick-' + stick, _vm.isResizable ? '' : 'not-resizable'],style:(_vm.vdrStick(stick)),on:{\"mousedown\":function($event){$event.stopPropagation();$event.preventDefault();_vm.stickDown(stick, $event)},\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();_vm.stickDown(stick, $event)}}})})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-b13d13bc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./src/views/trading/waybillTemplate/components/vue-drag-resize.html\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b13d13bc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!./vue-drag-resize.css\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./vue-drag-resize.js\"\nimport __vue_script__ from \"!!babel-loader!./vue-drag-resize.js\"/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b13d13bc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!./vue-drag-resize.html\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/trading/waybillTemplate/components/vue-drag-resize.vue\n// module id = null\n// module chunks = ","<template>\n      <div>\n        <el-form-item label=\"模板选择项\">\n         <el-checkbox-group style=\"width:500px;\" v-model=\"checkItems\" @change=\"changeCheckItems\">\n             <el-checkbox :label=\"item.name\" v-for=\"item in filedItems\" :key=\"item.name\" style=\"margin-left:0; width:160px;margin-bottom:5px;\">\n               {{item.text}}\n             </el-checkbox>\n           </el-checkbox-group>\n           </el-form-item>\n      <div  class=\"canvas-warp\">\n         <div  class=\"canvas-tool\">\n            <cms-picture-zone v-model=\"backgroundImgId\" @change=\"getImg\"  :preview=\"false\">\n              <cms-button type='info' size='small'>更换模板背景图</cms-button>\n            </cms-picture-zone>\n           </div>\n         <div :style=\"canvasStyles\" class=\"canvas-inner\" id=\"canvasBody\">\n            <canvas id=\"tplCanvas\" width=\"870\" height=\"480\"></canvas>\n            <template v-for=\"(item,index) in canvasItems\">\n            <vue-drag-resize :isActive=\"true\"\n            :parentLimitation='true'\n            v-model=\"canvasItems[index]\"\n            :w=\"item.width\" :h=\"item.height\"\n            :x=\"item.left\"\n            :y=\"item.top\"\n            :minh=\"20\"\n            :key=\"item.id\"\n            >{{item.text}}</vue-drag-resize>\n            </template>\n           </div>\n           </div>\n      </div>\n</template>\n<script>\n import vueDragResize from './vue-drag-resize.vue'\nexport default {\n   data() {\n     return {\n       backgroundImgId: '',\n       filedItems: [\n         {\n           name: 'orederId',\n           text: '订单编号'\n         }, {\n           name: 'senderName',\n           text: '发件人姓名'\n         },\n         {\n           name: 'senderTel',\n           text: '发件人电话'\n         }, {\n           name: 'senderCompany',\n           text: '发件人公司'\n         }, {\n           name: 'senderAddress',\n           text: '发件人地址'\n         }, {\n           name: 'senderCode',\n           text: '发件人邮编'\n         }, {\n           name: 'desc',\n           text: '备注'\n         }, {\n           name: 'receiverName',\n           text: '收件人姓名'\n         }, {\n           name: 'receiverTel',\n           text: '收件人电话'\n         }, {\n           name: 'receiverAddress',\n           text: '收件人地址'\n         }, {\n           name: 'receiverCode',\n           text: '收件人邮编'\n         }\n       ],\n       canvasWidth: 200,\n       canvasHeight: 150,\n       checkItems: [],\n       canvasItems: [], // 添加进画布的集合\n       imageObject: null,\n       isEdit: false// 是否为修改\n     }\n   },\n   components: {\n     vueDragResize\n   },\n   props: {\n     width: {\n       type: [Number, String],\n       default: 200\n     },\n     height: {\n       type: [Number, String],\n       default: 150\n     },\n     imgData: {\n       type: Object,\n       default: function() {\n         return null\n       }\n     },\n     filedData: {\n       type: Array,\n       default: function() {\n         return []\n       }\n     }\n   },\n   watch: {\n     checkItems: {\n       handler(newVal, oldVal) {\n         const key = this.getArrDifference(oldVal, newVal)[0]\n         const obj = this.filedItems.filter((v) => { return v.name === key })[0]\n         const index = this.canvasItems.findIndex(v => { return v.id === key })\n         if (index > -1) {\n           this.canvasItems.splice(index, 1)\n         } else {\n           if (this.isEdit) {\n             this.canvasItems = Object.assign([], this.filedData)\n             this.isEdit = false\n           } else {\n             const canvasObj = {\n               id: obj.name,\n               text: obj.text,\n               left: 0,\n               top: 0,\n               width: 120,\n               height: 20\n             }\n             this.canvasItems.push(canvasObj)\n           }\n         }\n       }\n     },\n     canvasItems: {\n       handler() {\n         this.$emit('change', this.canvasItems, this.backgroundImgId)\n       },\n       deep: true\n     },\n     width() {\n       this.resizeCanvas(this.width, this.height)\n     },\n     height() {\n       this.resizeCanvas(this.width, this.height)\n     },\n     imgData: {\n       handler() {\n         if (this.imgData && this.imgData.id !== '') {\n           this.backgroundImgId = this.imgData.id\n           this.getImg([this.imgData])// 写入图片\n         } else {\n           this.backgroundImgId = ''\n         }\n       },\n       immediate: true\n\n     },\n     filedData: {\n       handler() {\n         if (this.filedData.length > 0) {\n           this.isEdit = true\n           const checkItems = this.filedData.map(v => v.id)\n           this.checkItems = Object.assign([], checkItems)\n         }\n       },\n       immediate: true\n     }\n   },\n   computed: {\n     canvasStyles() {\n       return {\n         width: this.width + 'mm',\n         height: this.height + 'mm'\n       }\n     }\n   },\n   methods: {\n     resizeCanvas(w, h) {\n       this.$nextTick(() => {\n         const body = document.getElementById('canvasBody')\n         const cvs = document.getElementById('tplCanvas')\n         cvs.width = body.clientWidth\n         cvs.height = body.clientHeight\n         var ctx = cvs.getContext('2d')\n         if (this.imageObject) {\n           ctx.drawImage(this.imageObject, 0, 0, cvs.width, cvs.height)// this即是imgObj,保持图片的原始大小：470*480\n         }\n       })\n     },\n     changeCheckItems(data) {\n       this.isEdit = false\n     },\n     getImg(data) {\n       if (data.length > 0) {\n         this.backgroundImgId = data[0].id\n       }\n       this.$nextTick(() => {\n         this.imageObject = new Image()\n         this.imageObject.src = this.$cms.filterUrl(data[0].url)\n         this.imageObject.onload = () => {\n           this.resizeCanvas(this.width, this.height)\n         }\n       })\n       this.$emit('change', this.canvasItems, this.backgroundImgId)\n     },\n     getArrDifference(arr1, arr2) { // 前后数组比较\n       return arr1.concat(arr2).filter(function(v, i, arr) {\n         return arr.indexOf(v) === arr.lastIndexOf(v)\n       })\n     }\n   }\n}\n</script>\n\n <style lang=\"scss\" scoped>\n.canvas-warp{\n   width: 100%;\n   min-height: 400px;\n   border: 1px solid #eee;\n}\n.canvas-tool{\n  width: 100%;\n  padding: 10px 10px 0 10px;\n  border-bottom: 1px solid #eee;\n}\n.canvas-inner{\n  position: relative;\n  margin: 0 auto;\n  overflow: hidden;\n  // background-size: 100% 100%;\n  background-color: #fff;\n  border: 1px solid #666\n}\n#tplCanvas{\n     height: inherit;\n       background: -webkit-linear-gradient(top, transparent 10px, #666 10px),-webkit-linear-gradient(left, transparent 10px, #666 10px);\n        background-size: 11px 11px;\n}\n\n</style>\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/trading/waybillTemplate/components/tpl.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form-item',{attrs:{\"label\":\"模板选择项\"}},[_c('el-checkbox-group',{staticStyle:{\"width\":\"500px\"},on:{\"change\":_vm.changeCheckItems},model:{value:(_vm.checkItems),callback:function ($$v) {_vm.checkItems=$$v},expression:\"checkItems\"}},_vm._l((_vm.filedItems),function(item){return _c('el-checkbox',{key:item.name,staticStyle:{\"margin-left\":\"0\",\"width\":\"160px\",\"margin-bottom\":\"5px\"},attrs:{\"label\":item.name}},[_vm._v(\"\\n         \"+_vm._s(item.text)+\"\\n       \")])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"canvas-warp\"},[_c('div',{staticClass:\"canvas-tool\"},[_c('cms-picture-zone',{attrs:{\"preview\":false},on:{\"change\":_vm.getImg},model:{value:(_vm.backgroundImgId),callback:function ($$v) {_vm.backgroundImgId=$$v},expression:\"backgroundImgId\"}},[_c('cms-button',{attrs:{\"type\":\"info\",\"size\":\"small\"}},[_vm._v(\"更换模板背景图\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"canvas-inner\",style:(_vm.canvasStyles),attrs:{\"id\":\"canvasBody\"}},[_c('canvas',{attrs:{\"id\":\"tplCanvas\",\"width\":\"870\",\"height\":\"480\"}}),_vm._v(\" \"),_vm._l((_vm.canvasItems),function(item,index){return [_c('vue-drag-resize',{key:item.id,attrs:{\"isActive\":true,\"parentLimitation\":true,\"w\":item.width,\"h\":item.height,\"x\":item.left,\"y\":item.top,\"minh\":20},model:{value:(_vm.canvasItems[index]),callback:function ($$v) {_vm.$set(_vm.canvasItems, index, $$v)},expression:\"canvasItems[index]\"}},[_vm._v(_vm._s(item.text))])]})],2)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-43909bcc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/trading/waybillTemplate/components/tpl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43909bcc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./tpl.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tpl.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tpl.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43909bcc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./tpl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-43909bcc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/trading/waybillTemplate/components/tpl.vue\n// module id = null\n// module chunks = ","// 物流公司相关接口\nimport axios from './../fetch'\n\n// 分页\nexport const logisticsCompanyPage = params => { return axios.get('/admin/store/logisticscompany/page', { params: params }) }\n\n// 详情\nexport const logisticsCompanyGet = params => { return axios.get('/admin/store/logisticscompany/get', { params: params }) }\n// 列表\nexport const logisticsCompanyList = params => { return axios.get('/admin/store/logisticscompany/list', { params: params }) }\n\n// 新增\nexport const logisticsCompanySave = params => { return axios.post('/admin/store/logisticscompany/save', params) }\n// 修改\nexport const logisticsCompanyEdit = params => { return axios.post('/admin/store/logisticscompany/update', params) }\n// 删除\nexport const logisticsCompanyDelete = params => { return axios.post('/admin/store/logisticscompany/delete', params) }\n\n// 排序\nexport const logisticsCompanySort = params => { return axios.post('/admin/store/logisticscompany/sort', params) }\n\n// 启用\nexport const logisticsCompanyEnable = params => { return axios.post('/admin/store/logisticscompany/enable', params) }\n\n// 禁用\nexport const logisticsCompanyDisable = params => { return axios.post('/admin/store/logisticscompany/disable', params) }\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/setting/logisticsCompany.js","<template>\n  <div v-loading=\"loading\">\n    <cms-breadcrumb to=\"/waybillTemplate/list\" @click=\"rest\">\n      <li>{{$route.name}}</li>\n    </cms-breadcrumb>\n    <div class=\"cms-form-layout\">\n      <cms-prompt collapse=\"true\">\n        <li>带 * 为必填项</li>\n        <li>可选择系统自带模板，快捷定制个性化运单模板</li>\n      </cms-prompt>\n      <el-form ref=\"form\" :rules=\"saveRules\" :model=\"formData\" label-width=\"210px\">\n        <el-form-item label=\"选择系统模板\">\n          <el-select v-model=\"templateSelect\" placeholder=\"请选择\" @change=\"getTemplateSelect\">\n            <el-option\n              v-for=\"item in templateList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"模板名称\" prop=\"name\" :error=\"errorMessage.name\">\n          <el-input v-model=\"formData.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"物流公司\" prop=\"logisticsCompanyId\" ref=\"logisticsCompanyId\">\n          <el-select v-model=\"formData.logisticsCompanyId\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in logItems\"\n              :key=\"item.id\"\n              :label=\"item.cnName\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item class=\"board-width\" label=\"自定义尺寸\" style=\"float:left\" prop=\"width\" :error='errorMessage.width'>\n          <el-input maxlength=\"5\" v-model=\"formData.width\" placeholder=\"宽\" style=\"width:185px\" >\n            <template slot=\"append\">mm</template>\n          </el-input>*\n        </el-form-item>\n        <el-form-item\n          class=\"board-height\"\n          style=\"float:left;margin-left:-210px\"\n          prop=\"height\"\n          :error=\"errorMessage.height\"\n        >\n          <el-input maxlength=\"5\" v-model=\"formData.height\" placeholder=\"高\" style=\"width:185px\">\n            <template slot=\"append\">mm</template>\n          </el-input>\n        </el-form-item>\n        <div style=\"clear:both\"></div>\n        <el-form-item label=\"打印偏移校正上偏移量\" prop=\"upperOffset\">\n          <el-input v-model=\"formData.upperOffset\" placeholder=\"上偏移量\" maxlength=\"3\">\n            <template slot=\"append\">mm</template>\n          </el-input>\n          <div class=\"gray\">设置运单模板居上偏移量</div>\n        </el-form-item>\n        <el-form-item label=\"打印偏移校正左偏移量\" prop=\"leftOffset\">\n          <el-input v-model=\"formData.leftOffset\" placeholder=\"左偏移量\" maxlength=\"3\">\n            <template slot=\"append\">mm</template>\n          </el-input>\n          <div class=\"gray\">设置运单模板居左偏移量</div>\n        </el-form-item>\n        <el-form-item label=\"是否启用\" prop=\"isEnable\" :error=\"errorMessage.isEnable\">\n          <cms-switch v-model=\"formData.isEnable\"></cms-switch>\n          <div class=\"gray\">设置启用的模板，可供订单发货打印面单使用</div>\n        </el-form-item>\n        <el-form-item label=\"是否默认\" prop=\"isDefault\" ref=\"isDefault\">\n          <cms-switch v-model=\"formData.isDefault\"></cms-switch>\n        </el-form-item>\n        <tpl @change=\"getTplData\" :width=\"formData.width\" :height=\"formData.height\"\n        :filedData=\"tplField\"\n         :imgData=\"formData.bgImgResourceData\" v-if=\"status\"></tpl>\n      </el-form>\n      <div class=\"cms-form-footer\">\n        <cms-button @click=\"save(false)\" v-color>保存并新增</cms-button>\n        <cms-button @click=\"save(true)\" v-color>保存</cms-button>\n        <cms-button type=\"rest\" @click=\"rest\">重置</cms-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport rules from '@/rules'\nimport form from '@/mixins/form.js'\nimport { waybillTemplateSave, waybillTemplateList } from '@/api/setting/waybillTemplate.js'\nimport { logisticsCompanyList } from '@/api/setting/logisticsCompany.js'\nimport tpl from './components/tpl'\nvar defaultData = {\n  name: '',\n  waybillType: 2,\n  width: 200,\n  height: 150,\n  upperOffset: '',\n  leftOffset: '',\n  isEnable: true,\n  logisticsCompanyId: '',\n  backgroundImgId: '',\n  isDefault: false\n}\nexport default {\n  name: 'waybillTemplateSave',\n  mixins: [form],\n  components: {\n    tpl\n  },\n  data() {\n    var validateNum = (rule, value, callback) => {\n      const reg = /^[0-9]\\d*$/\n      if (value === '' || value === null) {\n        callback()\n      } else if (!reg.test(value)) {\n        callback(new Error('请输入合法的数字'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      templateSelect: null,\n      logItems: [], // 物流公司列表\n      templateList: [], // 系统模板\n      selTplList: [],\n      formData: Object.assign({}, defaultData),\n      saveRules: {\n        // 新增规则\n        name: [rules.required('模板名称不能为空'), rules.len(1, 20)],\n        width: [rules.required('请输入宽度'), rules.number()],\n        height: [rules.required('请输入高度'), rules.number()],\n        upperOffset: [rules.custom(validateNum)],\n        leftOffset: [rules.custom(validateNum)],\n        logisticsCompanyId: [rules.required('请选择物流公司', 'change')],\n        isEnable: [rules.required('请选择是否要启用')]\n      },\n      tplField: []\n    }\n  },\n  methods: {\n    save(state) {\n      // 添加\n      const params = Object.assign({}, this.formData)\n      params.tplField = JSON.stringify(params.tplField)\n      delete params.bgImgResourceData\n      delete params.id\n      this.saveForm(\n        waybillTemplateSave,\n        params,\n        state,\n        '/waybillTemplate/list',\n        'list'\n      )\n    },\n    getlogItem() {\n      // 获取物流公司列表\n      logisticsCompanyList({ page: 1, size: 9999 }).then(res => {\n        this.logItems = res.data\n      })\n    },\n    getTemplate() {\n      waybillTemplateList({ waybillType: 1 }).then(res => {\n        if (res.code === 200) {\n          this.templateList = []\n          res.data.forEach(v => {\n            this.selTplList[v.id] = v\n            if (v.isEnable) {\n              this.templateList.push(v)\n            }\n          })\n        }\n      })\n    },\n    getTemplateSelect(val) {\n      var data = this.selTplList[val]\n      this.formData = Object.assign(defaultData, data)\n      if (data.tplField) {\n        this.tplField = Object.assign([], JSON.parse(data.tplField))\n        this.status = true\n      }\n      this.formData.logisticsCompanyId = data.logisticsCompany.id\n      this.formData.backgroundImgId = data.bgImgResourceData ? data.bgImgResourceData.id : ''\n    },\n    getTplData(data, imgId) {\n      this.formData.tplField = data\n      this.formData.backgroundImgId = imgId\n    }\n  },\n  activated() {\n    this.autoFocus()\n    if (this.$route.query.type === 'save') {\n      this.formData = Object.assign({}, defaultData)\n    }\n  },\n  created() {\n    this.getlogItem()\n    this.getTemplate()\n  }\n}\n</script>\n<style>\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/trading/waybillTemplate/save.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('cms-breadcrumb',{attrs:{\"to\":\"/waybillTemplate/list\"},on:{\"click\":_vm.rest}},[_c('li',[_vm._v(_vm._s(_vm.$route.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-layout\"},[_c('cms-prompt',{attrs:{\"collapse\":\"true\"}},[_c('li',[_vm._v(\"带 * 为必填项\")]),_vm._v(\" \"),_c('li',[_vm._v(\"可选择系统自带模板，快捷定制个性化运单模板\")])]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.saveRules,\"model\":_vm.formData,\"label-width\":\"210px\"}},[_c('el-form-item',{attrs:{\"label\":\"选择系统模板\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.getTemplateSelect},model:{value:(_vm.templateSelect),callback:function ($$v) {_vm.templateSelect=$$v},expression:\"templateSelect\"}},_vm._l((_vm.templateList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"模板名称\",\"prop\":\"name\",\"error\":_vm.errorMessage.name}},[_c('el-input',{model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{ref:\"logisticsCompanyId\",attrs:{\"label\":\"物流公司\",\"prop\":\"logisticsCompanyId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formData.logisticsCompanyId),callback:function ($$v) {_vm.$set(_vm.formData, \"logisticsCompanyId\", $$v)},expression:\"formData.logisticsCompanyId\"}},_vm._l((_vm.logItems),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.cnName,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"board-width\",staticStyle:{\"float\":\"left\"},attrs:{\"label\":\"自定义尺寸\",\"prop\":\"width\",\"error\":_vm.errorMessage.width}},[_c('el-input',{staticStyle:{\"width\":\"185px\"},attrs:{\"maxlength\":\"5\",\"placeholder\":\"宽\"},model:{value:(_vm.formData.width),callback:function ($$v) {_vm.$set(_vm.formData, \"width\", $$v)},expression:\"formData.width\"}},[_c('template',{slot:\"append\"},[_vm._v(\"mm\")])],2),_vm._v(\"*\\n      \")],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"board-height\",staticStyle:{\"float\":\"left\",\"margin-left\":\"-210px\"},attrs:{\"prop\":\"height\",\"error\":_vm.errorMessage.height}},[_c('el-input',{staticStyle:{\"width\":\"185px\"},attrs:{\"maxlength\":\"5\",\"placeholder\":\"高\"},model:{value:(_vm.formData.height),callback:function ($$v) {_vm.$set(_vm.formData, \"height\", $$v)},expression:\"formData.height\"}},[_c('template',{slot:\"append\"},[_vm._v(\"mm\")])],2)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"打印偏移校正上偏移量\",\"prop\":\"upperOffset\"}},[_c('el-input',{attrs:{\"placeholder\":\"上偏移量\",\"maxlength\":\"3\"},model:{value:(_vm.formData.upperOffset),callback:function ($$v) {_vm.$set(_vm.formData, \"upperOffset\", $$v)},expression:\"formData.upperOffset\"}},[_c('template',{slot:\"append\"},[_vm._v(\"mm\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"设置运单模板居上偏移量\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"打印偏移校正左偏移量\",\"prop\":\"leftOffset\"}},[_c('el-input',{attrs:{\"placeholder\":\"左偏移量\",\"maxlength\":\"3\"},model:{value:(_vm.formData.leftOffset),callback:function ($$v) {_vm.$set(_vm.formData, \"leftOffset\", $$v)},expression:\"formData.leftOffset\"}},[_c('template',{slot:\"append\"},[_vm._v(\"mm\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"设置运单模板居左偏移量\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否启用\",\"prop\":\"isEnable\",\"error\":_vm.errorMessage.isEnable}},[_c('cms-switch',{model:{value:(_vm.formData.isEnable),callback:function ($$v) {_vm.$set(_vm.formData, \"isEnable\", $$v)},expression:\"formData.isEnable\"}}),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_vm._v(\"设置启用的模板，可供订单发货打印面单使用\")])],1),_vm._v(\" \"),_c('el-form-item',{ref:\"isDefault\",attrs:{\"label\":\"是否默认\",\"prop\":\"isDefault\"}},[_c('cms-switch',{model:{value:(_vm.formData.isDefault),callback:function ($$v) {_vm.$set(_vm.formData, \"isDefault\", $$v)},expression:\"formData.isDefault\"}})],1),_vm._v(\" \"),(_vm.status)?_c('tpl',{attrs:{\"width\":_vm.formData.width,\"height\":_vm.formData.height,\"filedData\":_vm.tplField,\"imgData\":_vm.formData.bgImgResourceData},on:{\"change\":_vm.getTplData}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-footer\"},[_c('cms-button',{directives:[{name:\"color\",rawName:\"v-color\"}],on:{\"click\":function($event){_vm.save(false)}}},[_vm._v(\"保存并新增\")]),_vm._v(\" \"),_c('cms-button',{directives:[{name:\"color\",rawName:\"v-color\"}],on:{\"click\":function($event){_vm.save(true)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('cms-button',{attrs:{\"type\":\"rest\"},on:{\"click\":_vm.rest}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2ff78f1b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/trading/waybillTemplate/save.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ff78f1b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./save.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./save.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./save.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ff78f1b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./save.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/trading/waybillTemplate/save.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}