{"version":3,"sources":["webpack:///src/views/marketing/activityMange/storeActivity/save.vue","webpack:///./src/views/marketing/activityMange/storeActivity/save.vue?4df9","webpack:///./src/views/marketing/activityMange/storeActivity/save.vue"],"names":["defaultData","promote","name","promoteBeginTime","promoteEndTime","conType","promoteScope","discountMode","conOrderAmount","discountAmount","remark","conProductNum","enable","promoteType","products","specialPrice","productId","discount","limitNum","ctgIds","includeProductIds","excludeProductIds","couponIds","giveProductIds","giveCouponIds","storeServices","storeActivity_save","components","categoryCascader","cmsCoupon","cmsProduct","mixins","mixins_form","data","_this","this","proStatus","productLimt","activeTimer","formData","assign_default","discountData","rules","promote.name","required","len","promote.promoteBeginTime","promote.promoteScope","promote.promoteType","promote.conOrderAmount","number","promote.discountAmount","integer","custom","rule","value","callback","Error","promote.conProductNum","methods","deleteDiscountData","index","splice","getProductDiscount","arr","forEach","v","obj","product","coverImage","id","salePrice","push","changePromoteType","getActiveTimer","save","state","params","$cms","deepCopy","saveForm","marketing","then","res","restSel","_this2","setTimeout","getStoreService","_this3","Object","code","serFilter","val","parseInt","restData","window","clearInterval","timer","rest","created","activityMange_storeActivity_save","render","_vm","_h","$createElement","_c","_self","attrs","to","type","on","click","_v","_s","$route","staticClass","collapse","directives","rawName","expression","ref","model","label-width","nativeOn","submit","$event","preventDefault","label","prop","$$v","$set","error","errorMessage","staticStyle","width","disabledType","change","rows","maxlength","no-data-text","_l","item","key","_e","slot","show","get","length","src","filterUrl","alt","float","precision","size","step","max","min","cursor","_n","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/58.e751cd7a7df523f9b03c.js","sourcesContent":["<template>\n  <div>\n    <cms-breadcrumb to=\"/storeActivity/list\" type='list' @click=\"rest\">\n      <li>{{$route.name}}</li>\n    </cms-breadcrumb>\n    <div class=\"cms-form-layout\">\n      <cms-prompt :collapse='false'>\n        <li>可进行添加商家活动</li>\n      </cms-prompt>\n      <el-form ref=\"form\" class=\"the-form\" :rules=\"rules\" :model=\"formData\" label-width=\"210px\" @submit.native.prevent v-loading='loading'>\n        <el-form-item label=\"活动名称\" prop=\"promote.name\" ref=\"promote_name\">\n          <el-input v-model=\"formData.promote.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"活动时间\" prop=\"promote.promoteBeginTime\" ref=\"promote.promoteBeginTime\" :error=\"errorMessage['promote.promoteBeginTime']\">\n          <cms-picker disabledType='before' v-model=\"activeTimer\" style=\"width:380px\" @change=\"getActiveTimer\"></cms-picker>\n        </el-form-item>\n        <el-form-item label=\"活动说明\" prop=\"promote.remark\" ref=\"promote.remark\">\n          <el-input v-model=\"formData.promote.remark\" type=\"textarea\" :rows=\"4\" maxlength=\"100\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"活动支持优惠形式\" prop=\"promote.promoteType\" ref=\"promote.promoteType\">\n          <el-select v-model=\"formData.promote.promoteType\" @change=\"changePromoteType\"  no-data-text=\"暂无可用活动类型，请前往营销服务开通\">\n            <el-option v-for=\"(item,index) in storeServices\" :key=\"index\" \n            :label=\"serFilter(item.promoteType)\" :value=\"item.promoteType\"></el-option>\n          </el-select>\n        </el-form-item>\n        <!-- 选择商品条件 -->\n        <el-form-item label=\"活动商品\" prop=\"promote.promoteScope\" ref=\"promote.promoteScope\" v-show=\"(formData.promote.promoteType>2)\">\n          <el-radio-group v-model=\"formData.promote.promoteScope\" @change=\"restSel\">\n            <el-radio :label=\"1\">全部商品</el-radio>\n            <el-radio :label=\"2\">部分类目</el-radio>\n            <el-radio :label=\"3\">部分商品</el-radio>\n            <el-radio :label=\"4\">排除商品</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"选择类目\" v-show=\"formData.promote.promoteScope===2\">\n          <category-cascader style=\"width:380px;\" v-model=\"formData.ctgIds\"></category-cascader>\n        </el-form-item>\n        <!-- 部分商品-->\n        <el-form-item  v-show=\"formData.promote.promoteScope===3\" label=\"选择商品\">\n          <cms-product v-if=\"proStatus\" v-model=\"formData.includeProductIds\" type=\"product\"></cms-product>\n        </el-form-item>\n        <el-form-item v-show=\"formData.promote.promoteScope===4\" label=\"选择商品\">\n          <cms-product v-if=\"proStatus\" v-model=\"formData.excludeProductIds\" type=\"product\"></cms-product>\n        </el-form-item>\n        <!-- 排除商品-->\n\n        <!-- 单品折扣 一口价-->\n        <div v-if=\"formData.promote.promoteType<=2\">\n          <el-form-item label='活动条件' class=\"default\" prop=\"promote.conProductNum\" >\n            <el-radio-group v-model=\"formData.promote.conType\">\n              <el-radio :label=\"1\">\n                <el-input style=\"width:180px\" v-model=\"formData.promote.conProductNum\" maxlength=\"5\">\n                  <template slot=\"prepend\">满</template>\n                  <template slot=\"append\">件</template>\n                </el-input>\n              </el-radio>\n              <el-radio :label=\"3\">\n                <el-input style=\"width:200px\" v-model=\"formData.promote.conProductNum\" maxlength=\"5\">\n                  <template slot=\"prepend\">第</template>\n                  <template slot=\"append\">件</template>\n                </el-input>\n              </el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item :label=\"formData.promote.promoteType==1?'设置折扣':'设置一口价'\">\n            <cms-product type=\"product\" :show=\"false\" @get=\"getProductDiscount\"></cms-product>\n            <table v-if=\"discountData.length>0\" class=\"dis-table\">\n              <tr>\n                <th>商品名称</th>\n                <th>商品售价</th>\n                <th>{{formData.promote.promoteType==1?'设置折扣':'设置一口价'}}</th>\n                <th>限购数量</th>\n                <th>操作</th>\n              </tr>\n              <tr v-for=\"(item,index) in discountData\" :key=\"index\">\n                <td style=\"width:40%\">\n                  <div class=\"dis-img\">\n                    <img :src=\"$cms.filterUrl(item.product.coverImage)\" alt=\"\">\n                  </div>\n                  <div class=\"dis-name\">\n                    {{item.product.name}}\n                  </div>\n                </td>\n                <td>\n                  {{$cms.float(item.product.salePrice)}}元\n                </td>\n                <td>\n                  <el-input-number v-model=\"item.product.discount\" :precision=\"1\" size=\"mini\" :step=\"0.1\"  :max=\"10\" :min=\"0.1\"  v-if=\"formData.promote.promoteType==1\"></el-input-number>\n                  <el-input-number v-model=\"item.product.specialPrice\" :precision=\"1\" size=\"mini\" :step=\"1\" :max=\"999999\" :min=\"0.1\" v-else></el-input-number>\n                </td>\n                <td>\n                  <el-input-number v-model=\"item.product.limitNum\" :step=\"1\" size=\"mini\" :max=\"99\" :min=\"1\"></el-input-number>\n                </td>\n                <td style=\"cursor: pointer;\" @click=\"deleteDiscountData(index)\">删除</td>\n              </tr>\n            </table>\n          </el-form-item>\n\n        </div>\n        <!-- 满减条件 -->\n        <div v-if=\"formData.promote.promoteType==3\">\n          <el-form-item  label='活动条件' class=\"default\" prop=\"promote.conOrderAmount\" >\n            <el-radio-group v-model=\"formData.promote.conType\">\n              <el-radio :label=\"1\">\n                <el-input style=\"width:180px\" v-model=\"formData.promote.conOrderAmount\" maxlength=\"5\">\n                  <template slot=\"prepend\">满</template>\n                  <template slot=\"append\">元</template>\n                </el-input>\n              </el-radio>\n              <el-radio :label=\"2\">\n                <el-input style=\"width:200px\" v-model=\"formData.promote.conOrderAmount\" maxlength=\"5\">\n                  <template slot=\"prepend\">每满</template>\n                  <template slot=\"append\">元</template>\n                </el-input>\n              </el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item  class=\"default\" label=\"促销方式\" prop=\"promote.discountAmount\" v-if=\"formData.promote.promoteType==3\">\n            <el-input style=\"width:200px;\" v-model.number=\"formData.promote.discountAmount\" maxlength=\"5\">\n              <template slot=\"prepend\">减</template>\n              <template slot=\"append\">元</template>\n            </el-input>\n          </el-form-item>\n        </div>\n        <!-- 优惠券 -->\n        <div v-if=\"formData.promote.promoteType==4\">\n          <el-form-item label='活动优惠券'>\n            <cms-coupon v-model=\"formData.couponIds\"  :disabled=\"true\"></cms-coupon>\n          </el-form-item>\n        </div>\n        <!--满赠条件-->\n        <div v-if=\"formData.promote.promoteType==5\">\n          <el-form-item  label='活动条件' prop=\"promote.conOrderAmount\">\n            <el-radio-group v-model=\"formData.promote.conType\">\n              <el-radio :label=\"1\">\n                <el-input style=\"width:180px\" v-model=\"formData.promote.conOrderAmount\" maxlength=\"5\">\n                  <template slot=\"prepend\">满</template>\n                  <template slot=\"append\">元</template>\n                </el-input>\n              </el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label='促销方式'>\n            <el-radio-group v-model=\"formData.promote.discountMode\">\n              <el-radio :label=\"2\">\n                赠品\n              </el-radio>\n              <el-radio :label=\"3\">\n                优惠券\n              </el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"选择优惠券\" v-if=\"formData.promote.discountMode==3\">\n            <cms-coupon label=\"选择赠品\"  :disabled=\"true\" v-model=\"formData.giveCouponIds\">\n            </cms-coupon>\n          </el-form-item>\n          <el-form-item label=\"选择商品\" v-if=\"formData.promote.discountMode==2\">\n            <cms-product v-model=\"formData.giveProductIds\" type=\"product\"></cms-product>\n          </el-form-item>\n        </div>\n        <!--包邮-->\n      <div v-if=\"formData.promote.promoteType==6\">\n          <el-form-item  label=\"活动条件\" prop=\"promote.conOrderAmount\" >\n             <el-input style=\"width:180px\" v-model=\"formData.promote.conOrderAmount\" maxlength=\"5\">\n                  <template slot=\"prepend\">满</template>\n                  <template slot=\"append\">元</template>\n                </el-input>\n          </el-form-item>\n      </div>\n\n        <el-form-item label=\"是否上线\" prop=\"promote.enable\" ref=\"promote.enable\">\n          <cms-switch v-model=\"formData.promote.enable\"></cms-switch>\n        </el-form-item>\n      </el-form>\n      <div class=\"cms-form-footer\">\n        <cms-button @click=\"save(false)\" v-color>保存并新增</cms-button>\n        <cms-button @click=\"save(true)\" v-color>保存</cms-button>\n        <cms-button type='rest' @click=\"restData\">重置</cms-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport rules from '@/rules/index.js'\nimport form from '@/mixins/form.js'\nimport { activitySave, signPlatformStoreService } from '@/api/marketing/index.js'\nimport categoryCascader from '@/components/cms/categoryCascader'\nimport cmsCoupon from '@/components/operation/cmsCoupon'\nimport cmsProduct from '@/components/operation/cmsProduct'\nvar defaultData = {\n  promote: {\n    name: '',\n    promoteBeginTime: '',\n    promoteEndTime: '',\n    conType: 1,\n    promoteScope: 1,\n    discountMode: 2,\n    conOrderAmount: 1,\n    discountAmount: 1,\n    remark: '',\n    conProductNum: 0,\n    enable: true,\n    promoteType: ''\n  },\n  products: [\n    {\n      specialPrice: '',\n      productId: '',\n      discount: '',\n      limitNum: ''\n    }\n  ],\n  ctgIds: [],\n  includeProductIds: [],\n  excludeProductIds: [],\n  couponIds: [],\n  giveProductIds: [],\n  giveCouponIds: [],\n  storeServices: []\n}\n\nexport default {\n  components: { categoryCascader, cmsCoupon, cmsProduct },\n  mixins: [form],\n  data() {\n    var minConOrder = (rule, value, callback) => {\n      if (value > this.formData.promote.conOrderAmount) {\n        callback(new Error('优惠金额不得大于满值金额'))\n      }\n    }\n    return {\n      proStatus: false, // 商品组件是否重置\n      productLimt: [], // 商品报名限制\n      activeTimer: [],\n      formData: Object.assign({}, defaultData),\n      discountData: [],\n      storeServices: [],\n      rules: {\n        'promote.name': [rules.required('请填写活动名称'), rules.len(1, 15)],\n        'promote.promoteBeginTime': [\n          rules.required('请选择活动开始时间', 'change')\n        ],\n        'promote.promoteScope': [rules.required()],\n        'promote.promoteType': [rules.required('此项必填', 'change')],\n        'promote.conOrderAmount': [rules.number()],\n        'promote.discountAmount': [rules.integer(), rules.custom(minConOrder)],\n        'promote.conProductNum': [rules.required()]\n      }\n    }\n  },\n  methods: {\n    deleteDiscountData(index) {\n      this.discountData.splice(index, 1)\n    },\n    getProductDiscount(data) {\n      // 获取设置一口价商品\n      const arr = []\n      data.forEach(v => {\n        const obj = {\n          product: {\n            coverImage: v.product.coverImage,\n            id: v.product.id,\n            name: v.product.name,\n            salePrice: v.product.salePrice,\n            specialPrice: v.product.salePrice,\n            discount: 9.5,\n            limitNum: 1\n          }\n        }\n        arr.push(obj)\n      })\n\n      this.discountData = arr\n    },\n    changePromoteType(value) {\n      // 切换单品一口价和折扣\n      if (value === 1) {\n        this.formData.promote.promoteScope = 1\n      }\n      if (value === 6) {\n        this.formData.promote.conType = 1\n      }\n    },\n    getActiveTimer(value) {\n      this.formData.promote.promoteBeginTime = value[0]\n      this.formData.promote.promoteEndTime = value[1]\n    },\n    save(state) {\n      const params = this.$cms.deepCopy(this.formData)\n      if (params.promote.promoteType <= 2) {\n        const arr = []\n        this.discountData.forEach(v => {\n          const obj = {\n            specialPrice:\n              params.promote.promoteType === 2 ? v.product.specialPrice : '',\n            productId: v.product.id,\n            discount:\n              params.promote.promoteType === 1 ? v.product.discount : '',\n            limitNum: v.product.limitNum\n          }\n          arr.push(obj)\n        })\n        params.products = arr\n      }\n      this.saveForm(\n        activitySave,\n        params,\n        state,\n        '/storeActivity/list',\n        'list'\n      ).then(res => {})\n    },\n    restSel() {\n      this.proStatus = false\n      setTimeout(() => {\n        this.proStatus = true\n      }, 3)\n    },\n    getStoreService() { // 获取优惠活动列表\n      signPlatformStoreService().then(res => {\n        if (res.code === 200) {\n          this.storeServices = res.data\n        }\n      })\n    },\n    serFilter(val) { // 服务项目\n      var arr = ['', '单品折扣', '单品一口价', '满减', '优惠券', '满赠', '包邮']\n      return arr[parseInt(val)]\n    },\n    restData() {\n      window.clearInterval(this.timer)\n      this.rest()\n      this.formData = this.$cms.deepCopy(defaultData)\n      this.activeTimer = []\n      this.proStatus = false\n    }\n  },\n  created() {\n    this.formData = this.$cms.deepCopy(defaultData)\n    this.getStoreService()\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.discounts__add {\n  cursor: pointer;\n}\n.discounts__add .iconfont {\n  position: relative;\n  top: 1px;\n  margin-right: 3px;\n}\n.dis-table {\n  width: 100%;\n  max-width: 1000px;\n  td,\n  tr {\n    font-size: 12px;\n    text-align: center;\n  }\n}\n.dis-img {\n  width: 40px;\n  height: 40px;\n  float: left;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n.dis-name {\n  margin-left: 45px;\n  text-align: left;\n  height: 40px;\n  font-size: 12px;\n  color: #444;\n  line-height: 20px;\n  overflow: hidden;\n  -webkit-line-clamp: 2;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/marketing/activityMange/storeActivity/save.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('cms-breadcrumb',{attrs:{\"to\":\"/storeActivity/list\",\"type\":\"list\"},on:{\"click\":_vm.rest}},[_c('li',[_vm._v(_vm._s(_vm.$route.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-layout\"},[_c('cms-prompt',{attrs:{\"collapse\":false}},[_c('li',[_vm._v(\"可进行添加商家活动\")])]),_vm._v(\" \"),_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"form\",staticClass:\"the-form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.formData,\"label-width\":\"210px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{ref:\"promote_name\",attrs:{\"label\":\"活动名称\",\"prop\":\"promote.name\"}},[_c('el-input',{model:{value:(_vm.formData.promote.name),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"name\", $$v)},expression:\"formData.promote.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{ref:\"promote.promoteBeginTime\",attrs:{\"label\":\"活动时间\",\"prop\":\"promote.promoteBeginTime\",\"error\":_vm.errorMessage['promote.promoteBeginTime']}},[_c('cms-picker',{staticStyle:{\"width\":\"380px\"},attrs:{\"disabledType\":\"before\"},on:{\"change\":_vm.getActiveTimer},model:{value:(_vm.activeTimer),callback:function ($$v) {_vm.activeTimer=$$v},expression:\"activeTimer\"}})],1),_vm._v(\" \"),_c('el-form-item',{ref:\"promote.remark\",attrs:{\"label\":\"活动说明\",\"prop\":\"promote.remark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"maxlength\":\"100\"},model:{value:(_vm.formData.promote.remark),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"remark\", $$v)},expression:\"formData.promote.remark\"}})],1),_vm._v(\" \"),_c('el-form-item',{ref:\"promote.promoteType\",attrs:{\"label\":\"活动支持优惠形式\",\"prop\":\"promote.promoteType\"}},[_c('el-select',{attrs:{\"no-data-text\":\"暂无可用活动类型，请前往营销服务开通\"},on:{\"change\":_vm.changePromoteType},model:{value:(_vm.formData.promote.promoteType),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"promoteType\", $$v)},expression:\"formData.promote.promoteType\"}},_vm._l((_vm.storeServices),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":_vm.serFilter(item.promoteType),\"value\":item.promoteType}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.formData.promote.promoteType>2)),expression:\"(formData.promote.promoteType>2)\"}],ref:\"promote.promoteScope\",attrs:{\"label\":\"活动商品\",\"prop\":\"promote.promoteScope\"}},[_c('el-radio-group',{on:{\"change\":_vm.restSel},model:{value:(_vm.formData.promote.promoteScope),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"promoteScope\", $$v)},expression:\"formData.promote.promoteScope\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"全部商品\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"部分类目\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"部分商品\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":4}},[_vm._v(\"排除商品\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.formData.promote.promoteScope===2),expression:\"formData.promote.promoteScope===2\"}],attrs:{\"label\":\"选择类目\"}},[_c('category-cascader',{staticStyle:{\"width\":\"380px\"},model:{value:(_vm.formData.ctgIds),callback:function ($$v) {_vm.$set(_vm.formData, \"ctgIds\", $$v)},expression:\"formData.ctgIds\"}})],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.formData.promote.promoteScope===3),expression:\"formData.promote.promoteScope===3\"}],attrs:{\"label\":\"选择商品\"}},[(_vm.proStatus)?_c('cms-product',{attrs:{\"type\":\"product\"},model:{value:(_vm.formData.includeProductIds),callback:function ($$v) {_vm.$set(_vm.formData, \"includeProductIds\", $$v)},expression:\"formData.includeProductIds\"}}):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.formData.promote.promoteScope===4),expression:\"formData.promote.promoteScope===4\"}],attrs:{\"label\":\"选择商品\"}},[(_vm.proStatus)?_c('cms-product',{attrs:{\"type\":\"product\"},model:{value:(_vm.formData.excludeProductIds),callback:function ($$v) {_vm.$set(_vm.formData, \"excludeProductIds\", $$v)},expression:\"formData.excludeProductIds\"}}):_vm._e()],1),_vm._v(\" \"),(_vm.formData.promote.promoteType<=2)?_c('div',[_c('el-form-item',{staticClass:\"default\",attrs:{\"label\":\"活动条件\",\"prop\":\"promote.conProductNum\"}},[_c('el-radio-group',{model:{value:(_vm.formData.promote.conType),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"conType\", $$v)},expression:\"formData.promote.conType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_c('el-input',{staticStyle:{\"width\":\"180px\"},attrs:{\"maxlength\":\"5\"},model:{value:(_vm.formData.promote.conProductNum),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"conProductNum\", $$v)},expression:\"formData.promote.conProductNum\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"满\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"件\")])],2)],1),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":3}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"maxlength\":\"5\"},model:{value:(_vm.formData.promote.conProductNum),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"conProductNum\", $$v)},expression:\"formData.promote.conProductNum\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"第\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"件\")])],2)],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.formData.promote.promoteType==1?'设置折扣':'设置一口价'}},[_c('cms-product',{attrs:{\"type\":\"product\",\"show\":false},on:{\"get\":_vm.getProductDiscount}}),_vm._v(\" \"),(_vm.discountData.length>0)?_c('table',{staticClass:\"dis-table\"},[_c('tr',[_c('th',[_vm._v(\"商品名称\")]),_vm._v(\" \"),_c('th',[_vm._v(\"商品售价\")]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.formData.promote.promoteType==1?'设置折扣':'设置一口价'))]),_vm._v(\" \"),_c('th',[_vm._v(\"限购数量\")]),_vm._v(\" \"),_c('th',[_vm._v(\"操作\")])]),_vm._v(\" \"),_vm._l((_vm.discountData),function(item,index){return _c('tr',{key:index},[_c('td',{staticStyle:{\"width\":\"40%\"}},[_c('div',{staticClass:\"dis-img\"},[_c('img',{attrs:{\"src\":_vm.$cms.filterUrl(item.product.coverImage),\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"dis-name\"},[_vm._v(\"\\n                  \"+_vm._s(item.product.name)+\"\\n                \")])]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                \"+_vm._s(_vm.$cms.float(item.product.salePrice))+\"元\\n              \")]),_vm._v(\" \"),_c('td',[(_vm.formData.promote.promoteType==1)?_c('el-input-number',{attrs:{\"precision\":1,\"size\":\"mini\",\"step\":0.1,\"max\":10,\"min\":0.1},model:{value:(item.product.discount),callback:function ($$v) {_vm.$set(item.product, \"discount\", $$v)},expression:\"item.product.discount\"}}):_c('el-input-number',{attrs:{\"precision\":1,\"size\":\"mini\",\"step\":1,\"max\":999999,\"min\":0.1},model:{value:(item.product.specialPrice),callback:function ($$v) {_vm.$set(item.product, \"specialPrice\", $$v)},expression:\"item.product.specialPrice\"}})],1),_vm._v(\" \"),_c('td',[_c('el-input-number',{attrs:{\"step\":1,\"size\":\"mini\",\"max\":99,\"min\":1},model:{value:(item.product.limitNum),callback:function ($$v) {_vm.$set(item.product, \"limitNum\", $$v)},expression:\"item.product.limitNum\"}})],1),_vm._v(\" \"),_c('td',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.deleteDiscountData(index)}}},[_vm._v(\"删除\")])])})],2):_vm._e()],1)],1):_vm._e(),_vm._v(\" \"),(_vm.formData.promote.promoteType==3)?_c('div',[_c('el-form-item',{staticClass:\"default\",attrs:{\"label\":\"活动条件\",\"prop\":\"promote.conOrderAmount\"}},[_c('el-radio-group',{model:{value:(_vm.formData.promote.conType),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"conType\", $$v)},expression:\"formData.promote.conType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_c('el-input',{staticStyle:{\"width\":\"180px\"},attrs:{\"maxlength\":\"5\"},model:{value:(_vm.formData.promote.conOrderAmount),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"conOrderAmount\", $$v)},expression:\"formData.promote.conOrderAmount\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"满\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"maxlength\":\"5\"},model:{value:(_vm.formData.promote.conOrderAmount),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"conOrderAmount\", $$v)},expression:\"formData.promote.conOrderAmount\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"每满\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1)],1)],1),_vm._v(\" \"),(_vm.formData.promote.promoteType==3)?_c('el-form-item',{staticClass:\"default\",attrs:{\"label\":\"促销方式\",\"prop\":\"promote.discountAmount\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"maxlength\":\"5\"},model:{value:(_vm.formData.promote.discountAmount),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"discountAmount\", _vm._n($$v))},expression:\"formData.promote.discountAmount\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"减\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.formData.promote.promoteType==4)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"活动优惠券\"}},[_c('cms-coupon',{attrs:{\"disabled\":true},model:{value:(_vm.formData.couponIds),callback:function ($$v) {_vm.$set(_vm.formData, \"couponIds\", $$v)},expression:\"formData.couponIds\"}})],1)],1):_vm._e(),_vm._v(\" \"),(_vm.formData.promote.promoteType==5)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"活动条件\",\"prop\":\"promote.conOrderAmount\"}},[_c('el-radio-group',{model:{value:(_vm.formData.promote.conType),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"conType\", $$v)},expression:\"formData.promote.conType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_c('el-input',{staticStyle:{\"width\":\"180px\"},attrs:{\"maxlength\":\"5\"},model:{value:(_vm.formData.promote.conOrderAmount),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"conOrderAmount\", $$v)},expression:\"formData.promote.conOrderAmount\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"满\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"促销方式\"}},[_c('el-radio-group',{model:{value:(_vm.formData.promote.discountMode),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"discountMode\", $$v)},expression:\"formData.promote.discountMode\"}},[_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"\\n              赠品\\n            \")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"\\n              优惠券\\n            \")])],1)],1),_vm._v(\" \"),(_vm.formData.promote.discountMode==3)?_c('el-form-item',{attrs:{\"label\":\"选择优惠券\"}},[_c('cms-coupon',{attrs:{\"label\":\"选择赠品\",\"disabled\":true},model:{value:(_vm.formData.giveCouponIds),callback:function ($$v) {_vm.$set(_vm.formData, \"giveCouponIds\", $$v)},expression:\"formData.giveCouponIds\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.formData.promote.discountMode==2)?_c('el-form-item',{attrs:{\"label\":\"选择商品\"}},[_c('cms-product',{attrs:{\"type\":\"product\"},model:{value:(_vm.formData.giveProductIds),callback:function ($$v) {_vm.$set(_vm.formData, \"giveProductIds\", $$v)},expression:\"formData.giveProductIds\"}})],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.formData.promote.promoteType==6)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"活动条件\",\"prop\":\"promote.conOrderAmount\"}},[_c('el-input',{staticStyle:{\"width\":\"180px\"},attrs:{\"maxlength\":\"5\"},model:{value:(_vm.formData.promote.conOrderAmount),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"conOrderAmount\", $$v)},expression:\"formData.promote.conOrderAmount\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"满\")]),_vm._v(\" \"),_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{ref:\"promote.enable\",attrs:{\"label\":\"是否上线\",\"prop\":\"promote.enable\"}},[_c('cms-switch',{model:{value:(_vm.formData.promote.enable),callback:function ($$v) {_vm.$set(_vm.formData.promote, \"enable\", $$v)},expression:\"formData.promote.enable\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"cms-form-footer\"},[_c('cms-button',{directives:[{name:\"color\",rawName:\"v-color\"}],on:{\"click\":function($event){_vm.save(false)}}},[_vm._v(\"保存并新增\")]),_vm._v(\" \"),_c('cms-button',{directives:[{name:\"color\",rawName:\"v-color\"}],on:{\"click\":function($event){_vm.save(true)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('cms-button',{attrs:{\"type\":\"rest\"},on:{\"click\":_vm.restData}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5098b60e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/marketing/activityMange/storeActivity/save.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5098b60e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./save.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./save.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./save.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5098b60e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./save.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5098b60e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/marketing/activityMange/storeActivity/save.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}