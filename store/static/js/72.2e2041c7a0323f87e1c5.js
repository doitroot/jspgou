webpackJsonp([72],{jZqd:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("aA9S"),i=a.n(s),l=a("5HJ5"),n=a("8zS8"),r={name:"",status:"",page:1,size:10},o={mixins:[l.a],data:function(){return{queryParams:i()({},r)}},methods:{commit:function(t,e){var a=this;Object(n.a)({id:t}).then(function(t){200===t.code?(a.$successMessage("提交成功"),a.getTableData(n.d,a.queryParams)):a.$errorMessage(t.message)})},cancelaudit:function(t){var e=this;this.$confirm("您确定要取消审核吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.h)({id:t}).then(function(t){200===t.code?(e.$successMessage("取消成功"),e.getTableData(n.d,e.queryParams)):e.$errorMessage(t.message)})}).catch(function(){})},deleteData:function(t){this.deleteTableData(n.b,t)}},activated:function(){"list"===this.$route.query.type&&(this.queryParams=i()({},r),this.getTableData(n.d,this.queryParams))},created:function(){this.getTableData(n.d,this.queryParams)}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cms-list-layout"},[a("cms-prompt",{attrs:{collapse:"true"}},[a("li",[t._v("显示品牌列表信息")]),t._v(" "),a("li",[t._v("可对申请信息进行编辑、删除等操作")])]),t._v(" "),a("section",{staticClass:"cms-list-query"},[a("div",{staticClass:"query-group"},[a("label",[t._v("品牌名称")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.name,callback:function(e){t.$set(t.queryParams,"name",e)},expression:"queryParams.name"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("label",[t._v("审核状态")]),t._v(" "),a("el-select",{on:{change:t.query},model:{value:t.queryParams.status,callback:function(e){t.$set(t.queryParams,"status",e)},expression:"queryParams.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"待提交",value:1}}),t._v(" "),a("el-option",{attrs:{label:"审核中",value:2}}),t._v(" "),a("el-option",{attrs:{label:"审核不通过",value:3}}),t._v(" "),a("el-option",{attrs:{label:"审核通过",value:4}})],1)],1),t._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:t.query}},[t._v("查询")])],1)]),t._v(" "),a("section",{staticClass:"cms-batch"},[a("cms-button",{attrs:{icon:"add",type:"success",size:"small"},on:{click:function(e){t.$routerLink("/brand/save","save")}}},[t._v("新增")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.getCheckItems,"row-click":t.checkRows}},[a("el-table-column",{attrs:{type:"selection",width:"46",fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"品牌名称","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow",attrs:{title:e.row.name}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"initials",label:"首字母","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow",attrs:{title:e.row.initials}},[t._v(t._s(e.row.initials))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"LOGO","min-width":"180",prop:"logo"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-img"},[e.row.resourcesSpaceData?a("img",{attrs:{src:t.$cms.filterUrl(e.row.resourcesSpaceData.url),alt:"mockimg"}}):t._e()])}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[1===e.row.status?a("span",{staticClass:"gray"},[t._v("待提交")]):t._e(),t._v(" "),2===e.row.status?a("span",{staticClass:"success"},[t._v("审核中")]):t._e(),t._v(" "),3===e.row.status?a("span",{staticClass:"error"},[t._v("审核不通过")]):t._e(),t._v(" "),4===e.row.status?a("span",{staticClass:"success"},[t._v("审核通过")]):t._e()])}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注(原因)","min-width":"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow",attrs:{title:e.row.remark}},[t._v(t._s(e.row.remark))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300",prop:"status",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticStyle:{"text-align":"right"}},[1===e.row.status||3===e.row.status?a("div",[a("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(a){t.commit(e.row.id,2)}}},[t._v("提交审核")]),t._v(" "),a("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(a){a.stopPropagation(),t.$routerLink("/brand/edit","update",{id:e.row.id})}}},[t._v("编辑")]),t._v(" "),a("cms-button",{attrs:{icon:"error",size:"small",type:"info"},on:{click:function(a){t.deleteData(e.row.id)}}},[t._v("删除")])],1):t._e(),t._v(" "),2===e.row.status?a("div",[a("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(a){t.cancelaudit(e.row.id)}}},[t._v("取消审核")])],1):t._e()])}}])})],1),t._v(" "),a("cms-pagination",{attrs:{total:t.total},on:{change:t.getPage}})],1)},staticRenderFns:[]};var u=a("C7Lr")(o,c,!1,function(t){a("rzRo")},null,null);e.default=u.exports},rzRo:function(t,e){}});
//# sourceMappingURL=72.2e2041c7a0323f87e1c5.js.map