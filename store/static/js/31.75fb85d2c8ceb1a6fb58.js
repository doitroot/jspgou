webpackJsonp([31],{CWac:function(t,e,a){"use strict";a.d(e,"c",function(){return s}),a.d(e,"a",function(){return i}),a.d(e,"e",function(){return r}),a.d(e,"d",function(){return o}),a.d(e,"b",function(){return c});var n=a("HNM5"),s=function(t){return n.a.get("/admin/store/storeDynamic/page",{params:t})},i=function(t){return n.a.post("/admin/store/storeDynamic/delete",t)},r=function(t){return n.a.post("/admin/store/storeDynamic/update",t)},o=function(t){return n.a.post("/admin/store/storeDynamic/save",t)},c=function(t){return n.a.get("/admin/store/storeDynamic/get",{params:t})}},"fo+f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("aA9S"),s=a.n(n),i=a("5HJ5"),r=a("CWac"),o={page:1,size:15},c={mixins:[i.a],data:function(){return{queryParams:s()({},o)}},methods:{deleteData:function(t){this.deleteTableData(r.a,t)},deleteDatas:function(){this.deleteTableDatas(r.a,this.ids)},setTimer:function(t){this.queryParams.startTime=t[0],this.queryParams.endTime=t[1],this.query()}},activated:function(){"list"===this.$route.query.type&&(this.queryParams=s()({},o),this.getTableData(r.c,this.queryParams))},created:function(){this.getTableData(r.c,this.queryParams)}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cms-list-layout"},[a("cms-prompt",[a("li",[t._v("可对店铺动态进行编辑、删除等操作；置顶操作将信息以跑马灯的形式循环显示在店铺首页")])]),t._v(" "),a("section",{staticClass:"cms-list-query"},[a("div",{staticClass:"query-group"},[a("label",[t._v("发布时间")]),t._v(" "),a("cms-picker",{on:{change:t.setTimer},model:{value:t.queryParams.timer,callback:function(e){t.$set(t.queryParams,"timer",e)},expression:"queryParams.timer"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:t.query}},[t._v("查询")])],1)]),t._v(" "),a("section",{staticClass:"cms-batch"},[a("cms-button",{attrs:{icon:"add",type:"success",size:"small"},on:{click:function(e){t.$routerLink("/shopDynamic/save","save")}}},[t._v("添加动态")]),t._v(" "),a("cms-button",{attrs:{icon:"error",type:"error",size:"small"},on:{click:function(e){t.deleteDatas()}}},[t._v("批量删除")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.getCheckItems,"row-click":t.checkRows}},[a("el-table-column",{attrs:{type:"selection",width:"46",fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"公告内容","min-width":"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"storeUsername",label:"发布时间","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(t.$moment(e.row.createTime))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"isShow",label:"显示",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("cms-switch",{attrs:{id:e.row.id},model:{value:e.row.isShow,callback:function(a){t.$set(e.row,"isShow",a)},expression:"scope.row.isShow"}})],1)}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"175",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("cms-button",{attrs:{icon:"edit",size:"small",type:"info"},on:{click:function(a){t.$routerLink("/shopDynamic/update","update",{id:e.row.id})}}},[t._v("编辑")]),t._v(" "),a("cms-button",{attrs:{icon:"error",size:"small",type:"info"},on:{click:function(a){a.stopPropagation(),t.deleteData(e.row.id)}}},[t._v("删除")])],1)}}])})],1),t._v(" "),a("cms-pagination",{attrs:{total:t.total},on:{change:t.getPage}})],1)},staticRenderFns:[]};var u=a("C7Lr")(c,l,!1,function(t){a("haIB")},null,null);e.default=u.exports},haIB:function(t,e){}});
//# sourceMappingURL=31.75fb85d2c8ceb1a6fb58.js.map