{"version":3,"sources":["webpack:///src/views/statistics/settlement/sale.vue","webpack:///./src/views/statistics/settlement/sale.vue?f5f0","webpack:///./src/views/statistics/settlement/sale.vue","webpack:///src/views/statistics/settlement/saleAfter.vue","webpack:///./src/views/statistics/settlement/saleAfter.vue?06f5","webpack:///./src/views/statistics/settlement/saleAfter.vue","webpack:///src/views/statistics/settlement/view.vue","webpack:///./src/views/statistics/settlement/view.vue?ad5e","webpack:///./src/views/statistics/settlement/view.vue"],"names":["defaultData","page","size","settlementCycleId","storeId","orderCode","outTradeNum","defaultForm","settlementError","settlementId","businessCode","businessType","errorType","reason","turnoverAmount","integralDeductionAmount","redenvelopeOffset","platformCouponOffset","sale","mixins","list","mixins_form","data","formData","orderPayAmount","useIntegral","useRedPacket","platformDiscount","queryParams","assign_default","formPrams","loading","isEdit","businessNumber","this","$route","query","storeName","exceptionHand","rules","settlementError.turnoverAmount","required","decimal","settlementError.integralDeductionAmount","settlementError.redenvelopeOffset","settlementError.platformCouponOffset","select01","select02","select03","select04","methods","exportData","Object","finance","then","res","blob","Blob","a","document","createElement","download","href","window","URL","createObjectURL","click","changeData","getTableData","done","rest","openException","sid","subException","_this","$refs","form","validate","valid","item","code","$successMessage","$errorMessage","message","created","id","settlement_sale","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","padding-top","_v","on","keyup","$event","_k","keyCode","key","model","value","callback","$$v","$set","expression","attrs","colorPicker","directives","name","rawName","ref","width","tableData","stripe","selection-change","getCheckItems","row-click","checkRows","type","align","scopedSlots","_u","fn","props","label-position","label-width","inline","label","_s","row","store","productCategory","cateName","payMode","_e","$moment","orderTime","finishTime","productCount","$cms","float","integralDiscount","redPacketDiscount","prop","min-width","scope","fixed","slot","total","change","getPage","title","visible","before-close","update:visible","src","__webpack_require__","alt","placeholder","rows","maxlength","resize","max","staticRenderFns","statistics_settlement_sale","normalizeComponent","ssrContext","saleAfter_defaultData","refundNumber","refundType","saleAfter_defaultForm","saleAfter","refundIntegralAmount","refundAmount","refundRedPacketAmount","refundPlatformDiscount","orderRefundNum","settlement_saleAfter","order","applyTime","productRefundCount","refundIntegral","refundRedPacket","view","components","after","saleAfter_normalizeComponent","activeName","eventChange","ev","settlement_view","to","collapse","lazy","view_Component","view_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/20.44c6b8d43f195e97afa0.js","sourcesContent":["<template>\r\n  <div class=\"cms-list-layout\" style=\"padding-top:6px\">\r\n    <section class=\"cms-list-query\">\r\n      <div class=\"query-group\">\r\n        <label>订单号</label>\r\n        <el-input v-model=\"queryParams.orderCode\" @keyup.enter=\"query\"></el-input>\r\n      </div>\r\n      <div class=\"query-group\">\r\n        <label>交易流水号</label>\r\n        <el-input v-model=\"queryParams.outTradeNum\" @keyup.enter=\"query\"></el-input>\r\n      </div>\r\n      <div class=\"query-group\">\r\n        <cms-button size=\"small\" :colorPicker=\"true\" @click=\"query\">查询</cms-button>\r\n      </div>\r\n      <div class=\"query-group\">\r\n        <cms-button size=\"small\" :colorPicker=\"true\" @click=\"exportData\">\r\n          <i class=\"iconfont icon-Excel\"></i> 导出\r\n        </cms-button>\r\n      </div>\r\n    </section>\r\n    <el-table\r\n      :data=\"tableData\"\r\n      style=\"width: 100%\"\r\n      stripe\r\n      v-loading=\"loading\"\r\n      @selection-change=\"getCheckItems\"\r\n      @row-click=\"checkRows\"\r\n      ref=\"dataTable\"\r\n    >\r\n      <el-table-column type=\"expand\" align=\"right\">\r\n        <template slot-scope=\"props\">\r\n          <el-form label-position=\"right\" label-width=\"160px\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"结算批次号：\">\r\n              <span>{{ businessNumber }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商家：\">\r\n              <span>{{ storeName }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"主营类目：\">\r\n              <span>{{ props.row.store.productCategory.cateName }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"订单号：\">\r\n              <span>{{ props.row.orderCode }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"交易流水号：\">\r\n              <span>{{ props.row.outTradeNum }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"支付方式：\">\r\n              <span v-if=\"props.row.payMode == 1\">支付宝</span>\r\n              <span v-if=\"props.row.payMode == 2\">微信</span>\r\n              <span v-if=\"props.row.payMode == 3\">银联</span>\r\n              <span v-if=\"props.row.payMode == 4\">余额</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"下单时间：\">\r\n              <span>{{$moment(props.row.orderTime, 'YYYY-MM-DD HH:mm:ss')}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"交易成功时间：\">\r\n              <span>{{$moment(props.row.finishTime, 'YYYY-MM-DD HH:mm:ss')}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品数量：\">\r\n              <span>{{props.row.productCount}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"成交金额：\">\r\n              <span class=\"green\">￥ {{ $cms.float(props.row.orderPayAmount) }}</span>\r\n            </el-form-item>\r\n            <el-form-item label>\r\n              <span></span>\r\n            </el-form-item>\r\n            <el-form-item label>\r\n              <span></span>\r\n            </el-form-item>\r\n            <el-form-item label=\"积分抵扣（金额/数量）：\">\r\n              <span\r\n                class=\"green\"\r\n              >￥{{$cms.float(props.row.useIntegral)}}/{{props.row.integralDiscount}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"红包抵扣（金额/数量）：\">\r\n              <span\r\n                class=\"green\"\r\n              >￥{{$cms.float(props.row.useRedPacket)}}/{{props.row.redPacketDiscount}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"平台优惠券抵扣：\">\r\n              <span class=\"green\">￥ {{$cms.float(props.row.platformDiscount)}}</span>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop label=\"结算批次号\" width=\"160\">\r\n        <div slot-scope>\r\n          <span>{{businessNumber}}</span>\r\n        </div>\r\n      </el-table-column>\r\n      <el-table-column prop label=\"商家\" min-width=\"150\" align=\"center\">\r\n        <div slot-scope>\r\n          <span>{{storeName}}</span>\r\n        </div>\r\n      </el-table-column>\r\n      <el-table-column prop=\"orderCode\" label=\"订单号\" min-width=\"170\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"outTradeNum\" label=\"交易流水号\" min-width=\"210\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"orderPayAmount\" label=\"成交金额\" min-width=\"130\" align=\"center\">\r\n        <div slot-scope=\"scope\">\r\n          <span>￥ {{$cms.float(scope.row.orderPayAmount)}}</span>\r\n        </div>\r\n      </el-table-column>\r\n      <el-table-column prop=\"finishTime\" label=\"交易成功时间\" min-width=\"150\" align=\"center\">\r\n        <div slot-scope=\"scope\">\r\n          <span>{{$moment(scope.row.finishTime, 'YYYY-MM-DD HH:mm:ss')}}</span>\r\n        </div>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"isEdit\" label=\"操作\" width=\"150\" fixed=\"right\" align=\"center\">\r\n        <div slot-scope=\"scope\">\r\n          <cms-button\r\n            type=\"info\"\r\n            size=\"small\"\r\n            slot=\"reference\"\r\n            @click=\"openException(scope.row)\"\r\n          >异常处理</cms-button>\r\n        </div>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <cms-pagination @change=\"getPage\" :total=\"total\"></cms-pagination>\r\n    <el-dialog title=\"异常数据添加\" :visible.sync=\"exceptionHand\" width=\"700px\" :before-close=\"done\">\r\n      <div class=\"add-exception\">\r\n        <div class=\"cms-prompt\" ref=\"prompt\" id=\"prompt\">\r\n          <div class=\"cms-prompt-icon\">\r\n            <img src=\"../../../assets/images/icon-prompt.png\" alt>\r\n            <span>温馨提示:</span>\r\n          </div>\r\n          <ul class=\"cms-prompt-info\">\r\n            <li>避免后期争议，平台填写的异常数据须由平台和商家确认</li>\r\n          </ul>\r\n        </div>\r\n        <el-form ref=\"form\" :rules=\"rules\" :model=\"formPrams\" label-width=\"160px\">\r\n          <el-form-item label=\"订单类型：\">\r\n            <span>订单</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"订单：\">\r\n            <span>{{formPrams.settlementError.businessCode}}</span>\r\n            <!-- <el-input v-model=\"formData.Code\"></el-input> -->\r\n          </el-form-item>\r\n          <el-form-item label=\"异常类型：\" class=\"default\">\r\n            <el-select v-model=\"formPrams.settlementError.businessType\" placeholder=\"请选择\">\r\n              <el-option label=\"金额异常\" :value=\"1\"></el-option>\r\n              <el-option label=\"订单未结算\" :value=\"2\"></el-option>\r\n              <el-option label=\"订单重复结算\" :value=\"3\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"原因：\" prop=\"settlementError.reason\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              rows=\"4\"\r\n              maxlength=\"200\"\r\n              resize=\"none\"\r\n              placeholder=\"请填写200字以内的修改说明\"\r\n              v-model=\"formPrams.settlementError.reason\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"成交金额：\" prop=\"settlementError.turnoverAmount\">\r\n            <span class=\"add-exception__price\">￥ {{$cms.float(formData.orderPayAmount)}}</span>\r\n            <el-input\r\n              maxlength=\"6\"\r\n              placeholder=\"0.00\"\r\n              :max=\"formData.orderPayAmount\"\r\n              v-model=\"formPrams.settlementError.turnoverAmount\"\r\n            >\r\n              <el-select v-model=\"select01\" slot=\"prepend\" placeholder=\"请选择\">\r\n                <el-option label=\"+\" :value=\"1\"></el-option>\r\n                <el-option label=\"-\" :value=\"2\"></el-option>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"积分：\" prop=\"settlementError.integralDeductionAmount\">\r\n            <span class=\"add-exception__price\">￥ {{$cms.float(formData.useIntegral)}}</span>\r\n            <el-input\r\n              maxlength=\"6\"\r\n              placeholder=\"0.00\"\r\n              :max=\"formData.useIntegral\"\r\n              v-model=\"formPrams.settlementError.integralDeductionAmount\"\r\n            >\r\n              <el-select v-model=\"select02\" slot=\"prepend\" placeholder=\"请选择\">\r\n                <el-option label=\"+\" :value=\"1\"></el-option>\r\n                <el-option label=\"-\" :value=\"2\"></el-option>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"红包：\" prop=\"settlementError.redenvelopeOffset\">\r\n            <span class=\"add-exception__price\">￥ {{$cms.float(formData.useRedPacket)}}</span>\r\n            <el-input\r\n              maxlength=\"6\"\r\n              placeholder=\"0.00\"\r\n              :max=\"formData.useRedPacket\"\r\n              v-model=\"formPrams.settlementError.redenvelopeOffset\"\r\n            >\r\n              <el-select v-model=\"select03\" slot=\"prepend\" placeholder=\"请选择\">\r\n                <el-option label=\"+\" :value=\"1\"></el-option>\r\n                <el-option label=\"-\" :value=\"2\"></el-option>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"平台优惠：\" prop=\"settlementError.platformCouponOffset\">\r\n            <span class=\"add-exception__price\">￥ {{$cms.float(formData.platformDiscount)}}</span>\r\n            <el-input\r\n              maxlength=\"6\"\r\n              placeholder=\"0.00\"\r\n              :max=\"formData.platformDiscount\"\r\n              v-model=\"formPrams.settlementError.platformCouponOffset\"\r\n            >\r\n              <el-select v-model=\"select04\" slot=\"prepend\" placeholder=\"请选择\">\r\n                <el-option label=\"+\" :value=\"1\"></el-option>\r\n                <el-option label=\"-\" :value=\"2\"></el-option>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"mini\" @click=\"done\">取 消</el-button>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"subException\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  orderSettlementPage,\r\n  storesettlementerrorSave,\r\n  orderExport\r\n} from '@/api/finance/finance.js'\r\nimport list from '@/mixins/list'\r\nimport form from '@/mixins/form'\r\nimport rules from '@/rules/index.js'\r\nvar defaultData = {\r\n  page: 1,\r\n  size: 10,\r\n  settlementCycleId: '',\r\n  storeId: '',\r\n  orderCode: '',\r\n  outTradeNum: ''\r\n}\r\nvar defaultForm = {\r\n  settlementError: {\r\n    settlementId: '', // 商家结算id\r\n    businessCode: '', // 订单编号\r\n    businessType: 1, // 订单类型. 1:订单 2:售后服务单\r\n    errorType: 1, // 异常类型. 1:金额异常 2:订单未结算 3:订单重复结算\r\n    reason: '', // 原因\r\n    turnoverAmount: '', // 成交金额(差价)\r\n    integralDeductionAmount: '', // 积分抵扣金额(差价)\r\n    redenvelopeOffset: '', // 红包抵扣金额(差价)\r\n    platformCouponOffset: '' //\t平台优惠券抵扣金额(差价)\r\n  }\r\n}\r\nexport default {\r\n  mixins: [list, form],\r\n  data() {\r\n    return {\r\n      formData: {\r\n        orderPayAmount: '',\r\n        useIntegral: '',\r\n        useRedPacket: '',\r\n        platformDiscount: ''\r\n      },\r\n      queryParams: Object.assign({}, defaultData),\r\n      formPrams: Object.assign({}, defaultForm),\r\n      loading: false,\r\n      isEdit: false,\r\n      businessNumber: this.$route.query.businessNumber,\r\n      storeName: this.$route.query.storeName,\r\n      exceptionHand: false,\r\n      rules: {\r\n        'settlementError.turnoverAmount': [rules.required(), rules.decimal()],\r\n        'settlementError.integralDeductionAmount': [\r\n          rules.required(),\r\n          rules.decimal()\r\n        ],\r\n        'settlementError.redenvelopeOffset': [\r\n          rules.required(),\r\n          rules.decimal()\r\n        ],\r\n        'settlementError.platformCouponOffset': [\r\n          rules.required(),\r\n          rules.decimal()\r\n        ]\r\n      },\r\n      select01: 1,\r\n      select02: 1,\r\n      select03: 1,\r\n      select04: 1\r\n    }\r\n  },\r\n  methods: {\r\n    exportData() {\r\n      // 导出\r\n      delete this.queryParams.page\r\n      delete this.queryParams.size\r\n      orderExport(this.queryParams).then(res => {\r\n        const blob = new Blob([res])\r\n        var a = document.createElement('a')\r\n        a.download = '订单明细.xls'\r\n        a.href = window.URL.createObjectURL(blob)\r\n        a.click()\r\n      })\r\n    },\r\n    changeData() {\r\n      // 通过ref来触发\r\n      this.getTableData(orderSettlementPage, this.queryParams)\r\n    },\r\n    done() {\r\n      this.exceptionHand = false\r\n      this.formPrams = Object.assign({}, defaultForm)\r\n      this.rest()\r\n      this.select01 = 1\r\n      this.select02 = 1\r\n      this.select03 = 1\r\n      this.select04 = 1\r\n    },\r\n    openException(data) {\r\n      // 打开异常弹框\r\n      this.formPrams.settlementError.businessCode = data.orderCode\r\n      this.formPrams.settlementError.settlementId = this.$route.query.sid\r\n      this.formData = data\r\n      this.exceptionHand = true\r\n    },\r\n    subException() {\r\n      this.$refs.form.validate((valid, item) => {\r\n        if (valid) {\r\n          if (this.select01 === 2) {\r\n            this.formPrams.settlementError.turnoverAmount =\r\n              '-' + this.formPrams.settlementError.turnoverAmount\r\n          }\r\n          if (this.select02 === 2) {\r\n            this.formPrams.settlementError.integralDeductionAmount =\r\n              '-' + this.formPrams.settlementError.integralDeductionAmount\r\n          }\r\n          if (this.select03 === 2) {\r\n            this.formPrams.settlementError.redenvelopeOffset =\r\n              '-' + this.formPrams.settlementError.redenvelopeOffset\r\n          }\r\n          if (this.select04 === 2) {\r\n            this.formPrams.settlementError.platformCouponOffset =\r\n              '-' + this.formPrams.settlementError.platformCouponOffset\r\n          }\r\n          storesettlementerrorSave(this.formPrams).then(res => {\r\n            if (res.code === 200) {\r\n              this.done()\r\n              this.getTableData(orderSettlementPage, this.queryParams)\r\n              this.$successMessage('添加成功！')\r\n            } else {\r\n              this.done()\r\n              this.$errorMessage(res.message)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.queryParams.settlementCycleId = this.$route.query.id\r\n    this.queryParams.storeId = this.$route.query.storeId\r\n    if (this.$route.query.isEdit) {\r\n      this.isEdit = this.$route.query.isEdit\r\n    }\r\n    this.getTableData(orderSettlementPage, this.queryParams)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-input .el-select {\r\n  width: 55px !important;\r\n}\r\n.add-exception {\r\n  padding: 10px;\r\n  &__price {\r\n    display: inline-block;\r\n    width: 100px;\r\n    font-size: #666;\r\n  }\r\n}\r\n.cms-layout .add-exception .el-form-item__content > .el-input {\r\n  width: 150px;\r\n}\r\n.cms-layout .el-form-item__content .el-cascader {\r\n  width: 30px;\r\n}\r\n.cms-prompt {\r\n  cursor: pointer;\r\n  width: 100%;\r\n  background-color: #f4f8fb;\r\n  border: dotted 1px #e0e0e0;\r\n  padding: 0 10px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  transition: all 0.15s;\r\n}\r\n.cms-prompt-icon {\r\n  font-size: 12px;\r\n  color: #6798bd;\r\n  display: flex;\r\n  align-items: center;\r\n  float: left;\r\n  img {\r\n    position: relative;\r\n    top: 2px;\r\n    margin-right: 5px;\r\n  }\r\n  span {\r\n    display: inline-block;\r\n    margin-top: 11px;\r\n  }\r\n}\r\n.cms-prompt-info {\r\n  float: left;\r\n  li {\r\n    font-size: 12px;\r\n    letter-spacing: 0px;\r\n    color: #999999;\r\n    margin-left: 13px;\r\n    margin-bottom: 5px;\r\n    &:first-child {\r\n      margin-top: 11px;\r\n    }\r\n  }\r\n}\r\n.demo-table-expand {\r\n  padding-left: 58px;\r\n  font-size: 0;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 30%;\r\n  padding: 0;\r\n}\r\n.green {\r\n  color: green;\r\n}\r\n.red {\r\n  color: red;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/statistics/settlement/sale.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cms-list-layout\",staticStyle:{\"padding-top\":\"6px\"}},[_c('section',{staticClass:\"cms-list-query\"},[_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"订单号\")]),_vm._v(\" \"),_c('el-input',{on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.query($event)}},model:{value:(_vm.queryParams.orderCode),callback:function ($$v) {_vm.$set(_vm.queryParams, \"orderCode\", $$v)},expression:\"queryParams.orderCode\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"交易流水号\")]),_vm._v(\" \"),_c('el-input',{on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.query($event)}},model:{value:(_vm.queryParams.outTradeNum),callback:function ($$v) {_vm.$set(_vm.queryParams, \"outTradeNum\", $$v)},expression:\"queryParams.outTradeNum\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('cms-button',{attrs:{\"size\":\"small\",\"colorPicker\":true},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('cms-button',{attrs:{\"size\":\"small\",\"colorPicker\":true},on:{\"click\":_vm.exportData}},[_c('i',{staticClass:\"iconfont icon-Excel\"}),_vm._v(\" 导出\\n      \")])],1)]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"dataTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"},on:{\"selection-change\":_vm.getCheckItems,\"row-click\":_vm.checkRows}},[_c('el-table-column',{attrs:{\"type\":\"expand\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"right\",\"label-width\":\"160px\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"结算批次号：\"}},[_c('span',[_vm._v(_vm._s(_vm.businessNumber))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商家：\"}},[_c('span',[_vm._v(_vm._s(_vm.storeName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"主营类目：\"}},[_c('span',[_vm._v(_vm._s(props.row.store.productCategory.cateName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"订单号：\"}},[_c('span',[_vm._v(_vm._s(props.row.orderCode))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"交易流水号：\"}},[_c('span',[_vm._v(_vm._s(props.row.outTradeNum))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"支付方式：\"}},[(props.row.payMode == 1)?_c('span',[_vm._v(\"支付宝\")]):_vm._e(),_vm._v(\" \"),(props.row.payMode == 2)?_c('span',[_vm._v(\"微信\")]):_vm._e(),_vm._v(\" \"),(props.row.payMode == 3)?_c('span',[_vm._v(\"银联\")]):_vm._e(),_vm._v(\" \"),(props.row.payMode == 4)?_c('span',[_vm._v(\"余额\")]):_vm._e()]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"下单时间：\"}},[_c('span',[_vm._v(_vm._s(_vm.$moment(props.row.orderTime, 'YYYY-MM-DD HH:mm:ss')))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"交易成功时间：\"}},[_c('span',[_vm._v(_vm._s(_vm.$moment(props.row.finishTime, 'YYYY-MM-DD HH:mm:ss')))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品数量：\"}},[_c('span',[_vm._v(_vm._s(props.row.productCount))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"成交金额：\"}},[_c('span',{staticClass:\"green\"},[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(props.row.orderPayAmount)))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('span')]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('span')]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"积分抵扣（金额/数量）：\"}},[_c('span',{staticClass:\"green\"},[_vm._v(\"￥\"+_vm._s(_vm.$cms.float(props.row.useIntegral))+\"/\"+_vm._s(props.row.integralDiscount))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"红包抵扣（金额/数量）：\"}},[_c('span',{staticClass:\"green\"},[_vm._v(\"￥\"+_vm._s(_vm.$cms.float(props.row.useRedPacket))+\"/\"+_vm._s(props.row.redPacketDiscount))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"平台优惠券抵扣：\"}},[_c('span',{staticClass:\"green\"},[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(props.row.platformDiscount)))])])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"结算批次号\",\"width\":\"160\"}},[_c('div',{},[_c('span',[_vm._v(_vm._s(_vm.businessNumber))])])]),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"商家\",\"min-width\":\"150\",\"align\":\"center\"}},[_c('div',{},[_c('span',[_vm._v(_vm._s(_vm.storeName))])])]),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"orderCode\",\"label\":\"订单号\",\"min-width\":\"170\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"outTradeNum\",\"label\":\"交易流水号\",\"min-width\":\"210\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"orderPayAmount\",\"label\":\"成交金额\",\"min-width\":\"130\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_c('span',[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(scope.row.orderPayAmount)))])])}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"finishTime\",\"label\":\"交易成功时间\",\"min-width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_c('span',[_vm._v(_vm._s(_vm.$moment(scope.row.finishTime, 'YYYY-MM-DD HH:mm:ss')))])])}}])}),_vm._v(\" \"),(_vm.isEdit)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\",\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_c('cms-button',{attrs:{\"slot\":\"reference\",\"type\":\"info\",\"size\":\"small\"},on:{\"click\":function($event){_vm.openException(scope.row)}},slot:\"reference\"},[_vm._v(\"异常处理\")])],1)}}])}):_vm._e()],1),_vm._v(\" \"),_c('cms-pagination',{attrs:{\"total\":_vm.total},on:{\"change\":_vm.getPage}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"异常数据添加\",\"visible\":_vm.exceptionHand,\"width\":\"700px\",\"before-close\":_vm.done},on:{\"update:visible\":function($event){_vm.exceptionHand=$event}}},[_c('div',{staticClass:\"add-exception\"},[_c('div',{ref:\"prompt\",staticClass:\"cms-prompt\",attrs:{\"id\":\"prompt\"}},[_c('div',{staticClass:\"cms-prompt-icon\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/images/icon-prompt.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"温馨提示:\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"cms-prompt-info\"},[_c('li',[_vm._v(\"避免后期争议，平台填写的异常数据须由平台和商家确认\")])])]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.formPrams,\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":\"订单类型：\"}},[_c('span',[_vm._v(\"订单\")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"订单：\"}},[_c('span',[_vm._v(_vm._s(_vm.formPrams.settlementError.businessCode))])]),_vm._v(\" \"),_c('el-form-item',{staticClass:\"default\",attrs:{\"label\":\"异常类型：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formPrams.settlementError.businessType),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"businessType\", $$v)},expression:\"formPrams.settlementError.businessType\"}},[_c('el-option',{attrs:{\"label\":\"金额异常\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"订单未结算\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"订单重复结算\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"原因：\",\"prop\":\"settlementError.reason\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"4\",\"maxlength\":\"200\",\"resize\":\"none\",\"placeholder\":\"请填写200字以内的修改说明\"},model:{value:(_vm.formPrams.settlementError.reason),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"reason\", $$v)},expression:\"formPrams.settlementError.reason\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"成交金额：\",\"prop\":\"settlementError.turnoverAmount\"}},[_c('span',{staticClass:\"add-exception__price\"},[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(_vm.formData.orderPayAmount)))]),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"6\",\"placeholder\":\"0.00\",\"max\":_vm.formData.orderPayAmount},model:{value:(_vm.formPrams.settlementError.turnoverAmount),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"turnoverAmount\", $$v)},expression:\"formPrams.settlementError.turnoverAmount\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.select01),callback:function ($$v) {_vm.select01=$$v},expression:\"select01\"}},[_c('el-option',{attrs:{\"label\":\"+\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"-\",\"value\":2}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"积分：\",\"prop\":\"settlementError.integralDeductionAmount\"}},[_c('span',{staticClass:\"add-exception__price\"},[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(_vm.formData.useIntegral)))]),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"6\",\"placeholder\":\"0.00\",\"max\":_vm.formData.useIntegral},model:{value:(_vm.formPrams.settlementError.integralDeductionAmount),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"integralDeductionAmount\", $$v)},expression:\"formPrams.settlementError.integralDeductionAmount\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.select02),callback:function ($$v) {_vm.select02=$$v},expression:\"select02\"}},[_c('el-option',{attrs:{\"label\":\"+\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"-\",\"value\":2}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"红包：\",\"prop\":\"settlementError.redenvelopeOffset\"}},[_c('span',{staticClass:\"add-exception__price\"},[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(_vm.formData.useRedPacket)))]),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"6\",\"placeholder\":\"0.00\",\"max\":_vm.formData.useRedPacket},model:{value:(_vm.formPrams.settlementError.redenvelopeOffset),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"redenvelopeOffset\", $$v)},expression:\"formPrams.settlementError.redenvelopeOffset\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.select03),callback:function ($$v) {_vm.select03=$$v},expression:\"select03\"}},[_c('el-option',{attrs:{\"label\":\"+\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"-\",\"value\":2}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"平台优惠：\",\"prop\":\"settlementError.platformCouponOffset\"}},[_c('span',{staticClass:\"add-exception__price\"},[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(_vm.formData.platformDiscount)))]),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"6\",\"placeholder\":\"0.00\",\"max\":_vm.formData.platformDiscount},model:{value:(_vm.formPrams.settlementError.platformCouponOffset),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"platformCouponOffset\", $$v)},expression:\"formPrams.settlementError.platformCouponOffset\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.select04),callback:function ($$v) {_vm.select04=$$v},expression:\"select04\"}},[_c('el-option',{attrs:{\"label\":\"+\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"-\",\"value\":2}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.done}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.subException}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-68d6ddba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/statistics/settlement/sale.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68d6ddba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./sale.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./sale.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./sale.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-68d6ddba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./sale.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-68d6ddba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/statistics/settlement/sale.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"cms-list-layout\" style=\"padding-top:6px\">\r\n    <section class=\"cms-list-query\">\r\n      <div class=\"query-group\">\r\n        <label>售后服务单号</label>\r\n        <el-input v-model=\"queryParams.refundNumber\" @keyup.enter=\"query\"></el-input>\r\n      </div>\r\n      <div class=\"query-group\">\r\n        <label>订单号</label>\r\n        <el-input v-model=\"queryParams.orderCode\" @keyup.enter=\"query\"></el-input>\r\n      </div>\r\n      <div class=\"query-group\">\r\n        <label>售后类型</label>\r\n        <el-select v-model=\"queryParams.refundType\" placeholder=\"请选择\" @change=\"query\">\r\n          <el-option label=\"仅退款\" :value=\"1\"></el-option>\r\n          <el-option label=\"退款退货\" :value=\"2\"></el-option>\r\n          <el-option label=\"换货\" :value=\"3\"></el-option>\r\n        </el-select>\r\n      </div>\r\n      <div class=\"query-group\">\r\n        <cms-button size=\"small\" :colorPicker=\"true\" @click=\"query\">查询</cms-button>\r\n      </div>\r\n      <div class=\"query-group\">\r\n        <cms-button size=\"small\" :colorPicker=\"true\" @click=\"exportData\">\r\n          <i class=\"iconfont icon-Excel\"></i> 导出\r\n        </cms-button>\r\n      </div>\r\n    </section>\r\n    <el-table\r\n      :data=\"tableData\"\r\n      style=\"width: 100%\"\r\n      stripe\r\n      v-loading=\"loading\"\r\n      @selection-change=\"getCheckItems\"\r\n      @row-click=\"checkRows\"\r\n      ref=\"dataTable\"\r\n    >\r\n      <el-table-column type=\"expand\" align=\"right\">\r\n        <template slot-scope=\"props\">\r\n          <el-form label-position=\"right\" label-width=\"160px\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"结算批次号：\">\r\n              <span>{{businessNumber }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商家：\">\r\n              <span>{{storeName }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"主营类目：\">\r\n              <span>{{ props.row.store.productCategory.cateName }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"售后服务单号：\">\r\n              <span>{{ props.row.orderRefundNum }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"订单号：\">\r\n              <span>{{ props.row.order.orderCode }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"售后类型：\">\r\n              <span v-if=\"props.row.refundType == 1\">仅退款</span>\r\n              <span v-if=\"props.row.refundType == 2\">退款退货</span>\r\n              <span v-if=\"props.row.refundType == 3\">换货</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"申请时间：\">\r\n              <span>{{$moment(props.row.applyTime, 'YYYY-MM-DD HH:mm:ss')}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"完成时间：\">\r\n              <span>{{$moment(props.row.finishTime, 'YYYY-MM-DD HH:mm:ss')}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品数量：\">\r\n              <span>{{props.row.productRefundCount}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"退款金额：\">\r\n              <span class=\"red\">- ￥ {{ $cms.float(props.row.refundAmount) }}</span>\r\n            </el-form-item>\r\n            <el-form-item label>\r\n              <span></span>\r\n            </el-form-item>\r\n            <el-form-item label>\r\n              <span></span>\r\n            </el-form-item>\r\n            <el-form-item label=\"积分返还（金额/数量）：\">\r\n              <span\r\n                class=\"red\"\r\n              >- ￥{{$cms.float(props.row.refundIntegralAmount)}}/{{props.row.refundIntegral>0?props.row.refundIntegral:0}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"红包返还（金额/数量）：\">\r\n              <span\r\n                class=\"red\"\r\n              >- ￥{{$cms.float(props.row.refundRedPacketAmount)}}/{{props.row.refundRedPacket>0?props.row.refundRedPacket:0}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"平台优惠券返还：\">\r\n              <span class=\"red\">- ￥ {{$cms.float(props.row.refundPlatformDiscount)}}</span>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"结算批次号\" width=\"160\">\r\n        <div slot-scope>\r\n          <span>{{businessNumber}}</span>\r\n        </div>\r\n      </el-table-column>\r\n      <el-table-column label=\"商家\" min-width=\"150\" align=\"center\">\r\n        <div slot-scope>\r\n          <span>{{storeName}}</span>\r\n        </div>\r\n      </el-table-column>\r\n      <el-table-column prop=\"orderRefundNum\" label=\"售后服务单号\" min-width=\"170\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"order.orderCode\" label=\"订单号\" min-width=\"170\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"refundAmount\" label=\"退款金额\" min-width=\"130\" align=\"center\">\r\n        <div slot-scope=\"scope\">\r\n          <span>￥ {{$cms.float(scope.row.refundAmount)}}</span>\r\n        </div>\r\n      </el-table-column>\r\n      <el-table-column prop=\"finishTime\" label=\"完成时间\" min-width=\"150\" align=\"center\">\r\n        <div slot-scope=\"scope\">\r\n          <span>{{$moment(scope.row.finishTime, 'YYYY-MM-DD HH:mm:ss')}}</span>\r\n        </div>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"isEdit\" label=\"操作\" width=\"150\" fixed=\"right\" align=\"center\">\r\n        <div slot-scope=\"scope\">\r\n          <cms-button\r\n            type=\"info\"\r\n            size=\"small\"\r\n            slot=\"reference\"\r\n            @click=\"openException(scope.row)\"\r\n          >异常处理</cms-button>\r\n        </div>\r\n      </el-table-column>\r\n    </el-table>\r\n    <cms-pagination @change=\"getPage\" :total=\"total\"></cms-pagination>\r\n    <el-dialog title=\"异常数据添加\" :visible.sync=\"exceptionHand\" width=\"700px\" :before-close=\"done\">\r\n      <div class=\"add-exception\">\r\n        <div class=\"cms-prompt\" ref=\"prompt\" id=\"prompt\">\r\n          <div class=\"cms-prompt-icon\">\r\n            <img src=\"../../../assets/images/icon-prompt.png\" alt>\r\n            <span>温馨提示:</span>\r\n          </div>\r\n          <ul class=\"cms-prompt-info\">\r\n            <li>避免后期争议，平台填写的异常数据须由平台和商家确认</li>\r\n          </ul>\r\n        </div>\r\n        <el-form ref=\"form\" :rules=\"rules\" :model=\"formPrams\" label-width=\"160px\">\r\n          <el-form-item label=\"订单类型：\">\r\n            <span>售后服务单</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"订单：\">\r\n            <span>{{formPrams.settlementError.businessCode}}</span>\r\n          </el-form-item>\r\n          <el-form-item label=\"异常类型：\" class=\"default\">\r\n            <el-select v-model=\"formPrams.settlementError.businessType\" placeholder=\"请选择\">\r\n              <el-option label=\"金额异常\" :value=\"1\"></el-option>\r\n              <el-option label=\"订单未结算\" :value=\"2\"></el-option>\r\n              <el-option label=\"订单重复结算\" :value=\"3\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"原因：\" prop=\"settlementError.reason\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              rows=\"4\"\r\n              maxlength=\"200\"\r\n              resize=\"none\"\r\n              v-model=\"formPrams.settlementError.reason\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"退款金额：\" prop=\"settlementError.turnoverAmount\">\r\n            <span class=\"add-exception__price\">￥ {{$cms.float(formData.refundAmount)}}</span>\r\n            <el-input\r\n              maxlength=\"6\"\r\n              placeholder=\"0.00\"\r\n              :max=\"formData.refundAmount\"\r\n              v-model=\"formPrams.settlementError.turnoverAmount\"\r\n            >\r\n              <el-select v-model=\"select01\" slot=\"prepend\" placeholder=\"请选择\">\r\n                <el-option label=\"+\" :value=\"1\"></el-option>\r\n                <el-option label=\"-\" :value=\"2\"></el-option>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"积分：\" prop=\"settlementError.integralDeductionAmount\">\r\n            <span class=\"add-exception__price\">￥ {{$cms.float(formData.refundIntegralAmount)}}</span>\r\n            <el-input\r\n              maxlength=\"6\"\r\n              placeholder=\"0.00\"\r\n              :max=\"formData.refundIntegralAmount\"\r\n              v-model=\"formPrams.settlementError.integralDeductionAmount\"\r\n            >\r\n              <el-select v-model=\"select02\" slot=\"prepend\" placeholder=\"请选择\">\r\n                <el-option label=\"+\" :value=\"1\"></el-option>\r\n                <el-option label=\"-\" :value=\"2\"></el-option>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"红包：\" prop=\"settlementError.redenvelopeOffset\">\r\n            <span class=\"add-exception__price\">￥ {{$cms.float(formData.refundRedPacketAmount)}}</span>\r\n            <el-input\r\n              maxlength=\"6\"\r\n              placeholder=\"0.00\"\r\n              :max=\"formData.refundRedPacketAmount\"\r\n              v-model=\"formPrams.settlementError.redenvelopeOffset\"\r\n            >\r\n              <el-select v-model=\"select03\" slot=\"prepend\" placeholder=\"请选择\">\r\n                <el-option label=\"+\" :value=\"1\"></el-option>\r\n                <el-option label=\"-\" :value=\"2\"></el-option>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"平台优惠：\" prop=\"settlementError.platformCouponOffset\">\r\n            <span class=\"add-exception__price\">￥ {{$cms.float(formData.refundPlatformDiscount)}}</span>\r\n            <el-input\r\n              maxlength=\"6\"\r\n              placeholder=\"0.00\"\r\n              :max=\"formData.refundPlatformDiscount\"\r\n              v-model=\"formPrams.settlementError.platformCouponOffset\"\r\n            >\r\n              <el-select v-model=\"select04\" slot=\"prepend\" placeholder=\"请选择\">\r\n                <el-option label=\"+\" :value=\"1\"></el-option>\r\n                <el-option label=\"-\" :value=\"2\"></el-option>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"mini\" @click=\"done\">取 消</el-button>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"subException\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  refundSettlementPage,\r\n  storesettlementerrorSave,\r\n  refundsettlementExport\r\n} from '@/api/finance/finance.js'\r\nimport list from '@/mixins/list'\r\nimport form from '@/mixins/form'\r\nimport rules from '@/rules/index.js'\r\nvar defaultData = {\r\n  page: 1,\r\n  size: 10,\r\n  settlementCycleId: '',\r\n  refundNumber: '', // 退货退款编号\r\n  orderCode: '', // 订单号\r\n  storeId: '',\r\n  refundType: ''\r\n}\r\nvar defaultForm = {\r\n  settlementError: {\r\n    settlementId: '', // 商家结算id\r\n    businessCode: '', // 订单编号\r\n    businessType: 2, // 订单类型. 1:订单 2:售后服务单\r\n    errorType: 1, // 异常类型. 1:金额异常 2:订单未结算 3:订单重复结算\r\n    reason: '', // 原因\r\n    turnoverAmount: '', // 成交金额(差价)\r\n    integralDeductionAmount: '', // 积分抵扣金额(差价)\r\n    redenvelopeOffset: '', // 红包抵扣金额(差价)\r\n    platformCouponOffset: '' //\t平台优惠券抵扣金额(差价)\r\n  }\r\n}\r\n\r\nexport default {\r\n  mixins: [list, form],\r\n  data() {\r\n    return {\r\n      formData: {\r\n        refundIntegralAmount: '',\r\n        refundAmount: '',\r\n        refundRedPacketAmount: '',\r\n        refundPlatformDiscount: ''\r\n      },\r\n      queryParams: Object.assign({}, defaultData),\r\n      formPrams: Object.assign({}, defaultForm),\r\n      loading: false,\r\n      isEdit: false,\r\n      businessNumber: this.$route.query.businessNumber,\r\n      storeName: this.$route.query.storeName,\r\n      exceptionHand: false,\r\n      rules: {\r\n        'settlementError.turnoverAmount': [rules.required(), rules.decimal()],\r\n        'settlementError.integralDeductionAmount': [\r\n          rules.required(),\r\n          rules.decimal()\r\n        ],\r\n        'settlementError.redenvelopeOffset': [\r\n          rules.required(),\r\n          rules.decimal()\r\n        ],\r\n        'settlementError.platformCouponOffset': [\r\n          rules.required(),\r\n          rules.decimal()\r\n        ]\r\n      },\r\n      select01: 1,\r\n      select02: 1,\r\n      select03: 1,\r\n      select04: 1\r\n    }\r\n  },\r\n  methods: {\r\n    exportData() {\r\n      // 导出\r\n      delete this.queryParams.page\r\n      delete this.queryParams.size\r\n      refundsettlementExport(this.queryParams).then(res => {\r\n        const blob = new Blob([res])\r\n        var a = document.createElement('a')\r\n        a.download = '售后单明细.xls'\r\n        a.href = window.URL.createObjectURL(blob)\r\n        a.click()\r\n      })\r\n    },\r\n    changeData() {\r\n      // 通过ref来触发\r\n      this.getTableData(refundSettlementPage, this.queryParams)\r\n    },\r\n    done() {\r\n      this.exceptionHand = false\r\n      this.formPrams = Object.assign({}, defaultForm)\r\n      this.rest()\r\n      this.select01 = 1\r\n      this.select02 = 1\r\n      this.select03 = 1\r\n      this.select04 = 1\r\n    },\r\n    openException(data) {\r\n      this.formPrams.settlementError.businessCode = data.orderRefundNum\r\n      this.formPrams.settlementError.settlementId = this.$route.query.sid\r\n      this.formData = data\r\n      this.exceptionHand = true\r\n    },\r\n    subException() {\r\n      this.$refs.form.validate((valid, item) => {\r\n        if (valid) {\r\n          if (this.select01 === 2) {\r\n            this.formPrams.settlementError.turnoverAmount =\r\n              '-' + this.formPrams.settlementError.turnoverAmount\r\n          }\r\n          if (this.select02 === 2) {\r\n            this.formPrams.settlementError.integralDeductionAmount =\r\n              '-' + this.formPrams.settlementError.integralDeductionAmount\r\n          }\r\n          if (this.select03 === 2) {\r\n            this.formPrams.settlementError.redenvelopeOffset =\r\n              '-' + this.formPrams.settlementError.redenvelopeOffset\r\n          }\r\n          if (this.select04 === 2) {\r\n            this.formPrams.settlementError.platformCouponOffset =\r\n              '-' + this.formPrams.settlementError.platformCouponOffset\r\n          }\r\n          storesettlementerrorSave(this.formPrams).then(res => {\r\n            if (res.code === 200) {\r\n              this.done()\r\n              this.getTableData(refundSettlementPage, this.queryParams)\r\n              this.$successMessage('添加成功！')\r\n            } else {\r\n              this.done()\r\n              this.$errorMessage(res.message)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.queryParams.settlementCycleId = this.$route.query.id\r\n    this.queryParams.storeId = this.$route.query.storeId\r\n    if (this.$route.query.isEdit) {\r\n      this.isEdit = this.$route.query.isEdit\r\n    }\r\n    this.getTableData(refundSettlementPage, this.queryParams)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-input .el-select {\r\n  width: 55px !important;\r\n}\r\n.add-exception {\r\n  padding: 10px;\r\n  &__price {\r\n    display: inline-block;\r\n    width: 100px;\r\n    font-size: #666;\r\n  }\r\n}\r\n.cms-layout .add-exception .el-form-item__content > .el-input {\r\n  width: 150px;\r\n}\r\n.cms-layout .el-form-item__content .el-cascader {\r\n  width: 30px;\r\n}\r\n.cms-prompt {\r\n  cursor: pointer;\r\n  width: 100%;\r\n  background-color: #f4f8fb;\r\n  border: dotted 1px #e0e0e0;\r\n  padding: 0 10px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  transition: all 0.15s;\r\n}\r\n.cms-prompt-icon {\r\n  font-size: 12px;\r\n  color: #6798bd;\r\n  display: flex;\r\n  align-items: center;\r\n  float: left;\r\n  img {\r\n    position: relative;\r\n    top: 2px;\r\n    margin-right: 5px;\r\n  }\r\n  span {\r\n    display: inline-block;\r\n    margin-top: 11px;\r\n  }\r\n}\r\n.cms-prompt-info {\r\n  float: left;\r\n  li {\r\n    font-size: 12px;\r\n    letter-spacing: 0px;\r\n    color: #999999;\r\n    margin-left: 13px;\r\n    margin-bottom: 5px;\r\n    &:first-child {\r\n      margin-top: 11px;\r\n    }\r\n  }\r\n}\r\n.demo-table-expand {\r\n  padding-left: 58px;\r\n  font-size: 0;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 30%;\r\n  padding: 0;\r\n}\r\n.green {\r\n  color: green;\r\n}\r\n.red {\r\n  color: red;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/statistics/settlement/saleAfter.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cms-list-layout\",staticStyle:{\"padding-top\":\"6px\"}},[_c('section',{staticClass:\"cms-list-query\"},[_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"售后服务单号\")]),_vm._v(\" \"),_c('el-input',{on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.query($event)}},model:{value:(_vm.queryParams.refundNumber),callback:function ($$v) {_vm.$set(_vm.queryParams, \"refundNumber\", $$v)},expression:\"queryParams.refundNumber\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"订单号\")]),_vm._v(\" \"),_c('el-input',{on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.query($event)}},model:{value:(_vm.queryParams.orderCode),callback:function ($$v) {_vm.$set(_vm.queryParams, \"orderCode\", $$v)},expression:\"queryParams.orderCode\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('label',[_vm._v(\"售后类型\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.query},model:{value:(_vm.queryParams.refundType),callback:function ($$v) {_vm.$set(_vm.queryParams, \"refundType\", $$v)},expression:\"queryParams.refundType\"}},[_c('el-option',{attrs:{\"label\":\"仅退款\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"退款退货\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"换货\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('cms-button',{attrs:{\"size\":\"small\",\"colorPicker\":true},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"query-group\"},[_c('cms-button',{attrs:{\"size\":\"small\",\"colorPicker\":true},on:{\"click\":_vm.exportData}},[_c('i',{staticClass:\"iconfont icon-Excel\"}),_vm._v(\" 导出\\n      \")])],1)]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"dataTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"},on:{\"selection-change\":_vm.getCheckItems,\"row-click\":_vm.checkRows}},[_c('el-table-column',{attrs:{\"type\":\"expand\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"right\",\"label-width\":\"160px\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"结算批次号：\"}},[_c('span',[_vm._v(_vm._s(_vm.businessNumber))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商家：\"}},[_c('span',[_vm._v(_vm._s(_vm.storeName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"主营类目：\"}},[_c('span',[_vm._v(_vm._s(props.row.store.productCategory.cateName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"售后服务单号：\"}},[_c('span',[_vm._v(_vm._s(props.row.orderRefundNum))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"订单号：\"}},[_c('span',[_vm._v(_vm._s(props.row.order.orderCode))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"售后类型：\"}},[(props.row.refundType == 1)?_c('span',[_vm._v(\"仅退款\")]):_vm._e(),_vm._v(\" \"),(props.row.refundType == 2)?_c('span',[_vm._v(\"退款退货\")]):_vm._e(),_vm._v(\" \"),(props.row.refundType == 3)?_c('span',[_vm._v(\"换货\")]):_vm._e()]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"申请时间：\"}},[_c('span',[_vm._v(_vm._s(_vm.$moment(props.row.applyTime, 'YYYY-MM-DD HH:mm:ss')))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"完成时间：\"}},[_c('span',[_vm._v(_vm._s(_vm.$moment(props.row.finishTime, 'YYYY-MM-DD HH:mm:ss')))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品数量：\"}},[_c('span',[_vm._v(_vm._s(props.row.productRefundCount))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"退款金额：\"}},[_c('span',{staticClass:\"red\"},[_vm._v(\"- ￥ \"+_vm._s(_vm.$cms.float(props.row.refundAmount)))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('span')]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('span')]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"积分返还（金额/数量）：\"}},[_c('span',{staticClass:\"red\"},[_vm._v(\"- ￥\"+_vm._s(_vm.$cms.float(props.row.refundIntegralAmount))+\"/\"+_vm._s(props.row.refundIntegral>0?props.row.refundIntegral:0))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"红包返还（金额/数量）：\"}},[_c('span',{staticClass:\"red\"},[_vm._v(\"- ￥\"+_vm._s(_vm.$cms.float(props.row.refundRedPacketAmount))+\"/\"+_vm._s(props.row.refundRedPacket>0?props.row.refundRedPacket:0))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"平台优惠券返还：\"}},[_c('span',{staticClass:\"red\"},[_vm._v(\"- ￥ \"+_vm._s(_vm.$cms.float(props.row.refundPlatformDiscount)))])])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"结算批次号\",\"width\":\"160\"}},[_c('div',{},[_c('span',[_vm._v(_vm._s(_vm.businessNumber))])])]),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商家\",\"min-width\":\"150\",\"align\":\"center\"}},[_c('div',{},[_c('span',[_vm._v(_vm._s(_vm.storeName))])])]),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"orderRefundNum\",\"label\":\"售后服务单号\",\"min-width\":\"170\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"order.orderCode\",\"label\":\"订单号\",\"min-width\":\"170\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"refundAmount\",\"label\":\"退款金额\",\"min-width\":\"130\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_c('span',[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(scope.row.refundAmount)))])])}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"finishTime\",\"label\":\"完成时间\",\"min-width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_c('span',[_vm._v(_vm._s(_vm.$moment(scope.row.finishTime, 'YYYY-MM-DD HH:mm:ss')))])])}}])}),_vm._v(\" \"),(_vm.isEdit)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\",\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_c('cms-button',{attrs:{\"slot\":\"reference\",\"type\":\"info\",\"size\":\"small\"},on:{\"click\":function($event){_vm.openException(scope.row)}},slot:\"reference\"},[_vm._v(\"异常处理\")])],1)}}])}):_vm._e()],1),_vm._v(\" \"),_c('cms-pagination',{attrs:{\"total\":_vm.total},on:{\"change\":_vm.getPage}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"异常数据添加\",\"visible\":_vm.exceptionHand,\"width\":\"700px\",\"before-close\":_vm.done},on:{\"update:visible\":function($event){_vm.exceptionHand=$event}}},[_c('div',{staticClass:\"add-exception\"},[_c('div',{ref:\"prompt\",staticClass:\"cms-prompt\",attrs:{\"id\":\"prompt\"}},[_c('div',{staticClass:\"cms-prompt-icon\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/images/icon-prompt.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"温馨提示:\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"cms-prompt-info\"},[_c('li',[_vm._v(\"避免后期争议，平台填写的异常数据须由平台和商家确认\")])])]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.formPrams,\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":\"订单类型：\"}},[_c('span',[_vm._v(\"售后服务单\")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"订单：\"}},[_c('span',[_vm._v(_vm._s(_vm.formPrams.settlementError.businessCode))])]),_vm._v(\" \"),_c('el-form-item',{staticClass:\"default\",attrs:{\"label\":\"异常类型：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formPrams.settlementError.businessType),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"businessType\", $$v)},expression:\"formPrams.settlementError.businessType\"}},[_c('el-option',{attrs:{\"label\":\"金额异常\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"订单未结算\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"订单重复结算\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"原因：\",\"prop\":\"settlementError.reason\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"4\",\"maxlength\":\"200\",\"resize\":\"none\"},model:{value:(_vm.formPrams.settlementError.reason),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"reason\", $$v)},expression:\"formPrams.settlementError.reason\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"退款金额：\",\"prop\":\"settlementError.turnoverAmount\"}},[_c('span',{staticClass:\"add-exception__price\"},[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(_vm.formData.refundAmount)))]),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"6\",\"placeholder\":\"0.00\",\"max\":_vm.formData.refundAmount},model:{value:(_vm.formPrams.settlementError.turnoverAmount),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"turnoverAmount\", $$v)},expression:\"formPrams.settlementError.turnoverAmount\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.select01),callback:function ($$v) {_vm.select01=$$v},expression:\"select01\"}},[_c('el-option',{attrs:{\"label\":\"+\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"-\",\"value\":2}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"积分：\",\"prop\":\"settlementError.integralDeductionAmount\"}},[_c('span',{staticClass:\"add-exception__price\"},[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(_vm.formData.refundIntegralAmount)))]),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"6\",\"placeholder\":\"0.00\",\"max\":_vm.formData.refundIntegralAmount},model:{value:(_vm.formPrams.settlementError.integralDeductionAmount),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"integralDeductionAmount\", $$v)},expression:\"formPrams.settlementError.integralDeductionAmount\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.select02),callback:function ($$v) {_vm.select02=$$v},expression:\"select02\"}},[_c('el-option',{attrs:{\"label\":\"+\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"-\",\"value\":2}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"红包：\",\"prop\":\"settlementError.redenvelopeOffset\"}},[_c('span',{staticClass:\"add-exception__price\"},[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(_vm.formData.refundRedPacketAmount)))]),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"6\",\"placeholder\":\"0.00\",\"max\":_vm.formData.refundRedPacketAmount},model:{value:(_vm.formPrams.settlementError.redenvelopeOffset),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"redenvelopeOffset\", $$v)},expression:\"formPrams.settlementError.redenvelopeOffset\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.select03),callback:function ($$v) {_vm.select03=$$v},expression:\"select03\"}},[_c('el-option',{attrs:{\"label\":\"+\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"-\",\"value\":2}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"平台优惠：\",\"prop\":\"settlementError.platformCouponOffset\"}},[_c('span',{staticClass:\"add-exception__price\"},[_vm._v(\"￥ \"+_vm._s(_vm.$cms.float(_vm.formData.refundPlatformDiscount)))]),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"6\",\"placeholder\":\"0.00\",\"max\":_vm.formData.refundPlatformDiscount},model:{value:(_vm.formPrams.settlementError.platformCouponOffset),callback:function ($$v) {_vm.$set(_vm.formPrams.settlementError, \"platformCouponOffset\", $$v)},expression:\"formPrams.settlementError.platformCouponOffset\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.select04),callback:function ($$v) {_vm.select04=$$v},expression:\"select04\"}},[_c('el-option',{attrs:{\"label\":\"+\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"-\",\"value\":2}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.done}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.subException}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7b5f860a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/statistics/settlement/saleAfter.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b5f860a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./saleAfter.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./saleAfter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./saleAfter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b5f860a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./saleAfter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b5f860a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/statistics/settlement/saleAfter.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"cms-list-layout\">\r\n    <cms-breadcrumb to=\"/statisticsSheet/list\" type='list'>\r\n      <li>{{$route.name}}</li>\r\n    </cms-breadcrumb>\r\n    <cms-prompt  collapse='true'>\r\n      <li>结算单构成含交易成功且已过售后处理时效订单（售后时效详见商城设置）</li>\r\n      <li>结算单构成含已完成的退款或退款退货的售后服务单</li>\r\n    </cms-prompt>\r\n    <el-tabs v-model=\"activeName\">\r\n      <el-tab-pane label=\"销售订单\" name=\"sale\">\r\n        <sale ref='sale' @change=\"eventChange\"></sale>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"售后服务单\" name=\"after\" lazy>\r\n        <after ref=\"after\"  @change=\"eventChange\"></after>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport sale from './sale'\r\nimport after from './saleAfter'\r\nexport default {\r\n  name: 'statisticsView',\r\n  components: {\r\n    sale,\r\n    'after': after\r\n  },\r\n  data() {\r\n    return {\r\n      activeName: 'sale'\r\n    }\r\n  },\r\n  methods: {\r\n    eventChange(ev) {\r\n      // 出售中列表状态更新\r\n      if (ev === 'after') {\r\n        if (this.$refs['after']) {\r\n          this.$refs['after'].changeData() // 调用列表更新\r\n        }\r\n      }\r\n      if (ev === 'sale') {\r\n        if (this.$refs['sale']) {\r\n          this.$refs['sale'].changeData() // 调用列表更新\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/statistics/settlement/view.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cms-list-layout\"},[_c('cms-breadcrumb',{attrs:{\"to\":\"/statisticsSheet/list\",\"type\":\"list\"}},[_c('li',[_vm._v(_vm._s(_vm.$route.name))])]),_vm._v(\" \"),_c('cms-prompt',{attrs:{\"collapse\":\"true\"}},[_c('li',[_vm._v(\"结算单构成含交易成功且已过售后处理时效订单（售后时效详见商城设置）\")]),_vm._v(\" \"),_c('li',[_vm._v(\"结算单构成含已完成的退款或退款退货的售后服务单\")])]),_vm._v(\" \"),_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"销售订单\",\"name\":\"sale\"}},[_c('sale',{ref:\"sale\",on:{\"change\":_vm.eventChange}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"售后服务单\",\"name\":\"after\",\"lazy\":\"\"}},[_c('after',{ref:\"after\",on:{\"change\":_vm.eventChange}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-322a2f17\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/statistics/settlement/view.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-322a2f17\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./view.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./view.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./view.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-322a2f17\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./view.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/statistics/settlement/view.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}