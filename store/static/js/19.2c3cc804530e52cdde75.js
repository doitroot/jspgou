webpackJsonp([19],{AF8F:function(t,s){},UxHQ:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("lcoF"),i=e("lWcx"),r=e("4ZUh"),o={mixins:[a.a],components:{thumbImg:i.a},data:function(){return{formData:{},loading:!1,starsText:["差评","差评","中评","好评","好评"]}},methods:{getFormData:function(t){var s=this;this.loading=!0,Object(r.a)({id:t}).then(function(t){200===t.code?s.formData=t.data:s.$errorMessage(t.message),s.loading=!1})},showColors:function(t){return t<=2?"fontRed":3===t?"fontBlue":""},update:function(){var t=this,s=[];this.formData.commentdList.forEach(function(t){var e={id:t.id,storeContent:t.storeContent};s.push(e)});var e={id:this.formData.id,express:this.formData.express,matchV:this.formData.matchV,service:this.formData.service,commentdList:s};Object(r.c)(e).then(function(s){200===s.code?(2===t.formData.order.commentStatus?t.$successMessage("发表成功"):t.$successMessage("修改成功"),t.$routerLink("/comment/list","list")):t.$errorMessage(s.message)})}},created:function(){this.getFormData(this.$route.query.id)}},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("cms-breadcrumb",{attrs:{to:"/comment/list",type:"list"}},[e("li",[t._v(t._s(t.$route.name))])]),t._v(" "),e("div",{staticClass:"cms-list-layout"},[t.loading?t._e():e("table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"comment-table"},[e("tbody",[e("tr",{staticClass:"comment-th"},[e("td",{staticStyle:{"padding-left":"10px"}},[!t.loading&&t.formData.order?e("div",[t.formData.order.commentStatus?e("span",{staticClass:"comment-status"},[t._v("\n               "+t._s(2==t.formData.order.commentStatus?"已评价":"双方已评")+"\n             ")]):t._e(),t._v(" "),e("span",[t._v(t._s(t.formData.orderCode))])]):t._e()]),t._v(" "),e("td",{staticClass:"comment-time"},[e("span",{staticStyle:{"margin-left":"10px"}},[t._v("商品评价")]),t._v(" "),e("p",[e("span",{staticStyle:{"margin-right":"80px"}},[t._v("评价人："+t._s(t.formData.memberName))]),t._v(" "),e("span",{staticStyle:{"margin-right":"10px"}},[t._v("评论时间："+t._s(t.$moment(t.formData.createTime)))])])])]),t._v(" "),t._l(t.formData.commentdList,function(s,a){return e("tr",{key:a,staticStyle:{border:"1px solid #EBEEF5"}},[e("td",{staticClass:"comment-goods"},[e("div",{staticClass:"comment__inner"},[e("img",{staticClass:"product-img",attrs:{src:t.$cms.filterUrl(s.product.coverImage)}}),t._v(" "),e("div",{staticClass:"product-title"},[e("h3",{staticClass:"title-h"},[t._v(t._s(s.product.name))]),t._v(" "),s.productSkuName?e("p",{staticClass:"title-p",staticStyle:{"margin-top":"5px"}},[t._v("\n                 规格:"+t._s(s.productSkuName))]):t._e()])])]),t._v(" "),e("td",{staticClass:"comment-item"},[e("div",{staticClass:"comment-remark",staticStyle:{display:"flex","border-bottom":"1px solid #EBEEF5"}},[e("div",[e("el-rate",{attrs:{disabled:"","show-text":!0,texts:t.starsText},model:{value:s.matchV,callback:function(e){t.$set(s,"matchV",e)},expression:"info.matchV"}}),t._v(" "),e("p",{staticClass:"comment-title",class:t.showColors(s.matchV)},[t._v(t._s(s.content))])],1),t._v(" "),e("div",{staticStyle:{width:"50%"}},[e("div",{staticClass:"comment-imgs"},[e("thumb-img",{attrs:{data:s.spaceDataList}})],1)])]),t._v(" "),e("div",{staticClass:"comment-remark"},[e("div",{staticStyle:{width:"50%"}},[e("p",{staticStyle:{"margin-bottom":"5px","font-size":"14px"}},[t._v("您的回复:")]),t._v(" "),e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请填写您对买家的回复吧,不超过500字",maxlength:"500"},model:{value:s.storeContent,callback:function(e){t.$set(s,"storeContent",e)},expression:"info.storeContent"}})],1)])])])}),t._v(" "),e("tr",{staticClass:"comment-all"},[e("td",{attrs:{colspan:"2"}},[e("div",{staticStyle:{display:"flex","margin-left":"10px","align-items":"center"}},[e("span",[t._v("店铺评价")]),t._v(" "),e("div",{staticClass:"comment-stars"},[e("label",{staticClass:"stars-label"},[t._v("商品符合度:")]),t._v(" "),e("el-rate",{staticClass:"starts-rate",attrs:{"show-text":!0,disabled:"",texts:t.starsText},model:{value:t.formData.matchV,callback:function(s){t.$set(t.formData,"matchV",s)},expression:"formData.matchV"}}),t._v(" "),e("label",{staticClass:"stars-label"},[t._v("发货速度:")]),t._v(" "),e("el-rate",{staticClass:"starts-rate",attrs:{"show-text":!0,disabled:"",texts:t.starsText},model:{value:t.formData.express,callback:function(s){t.$set(t.formData,"express",s)},expression:"formData.express"}}),t._v(" "),e("label",{staticClass:"stars-label"},[t._v("服务态度:")]),t._v(" "),e("el-rate",{staticClass:"starts-rate",attrs:{"show-text":!0,disabled:"",texts:t.starsText},model:{value:t.formData.service,callback:function(s){t.$set(t.formData,"service",s)},expression:"formData.service"}})],1)])])])],2)]),t._v(" "),e("div",{staticStyle:{"text-align":"right","margin-top":"30px",width:"48%"}},[e("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:t.update}},[t._v("\n       "+t._s(2==t.formData.order.commentStatus?"发表回复":"修改回复")+"\n     ")])],1)])],1)},staticRenderFns:[]};var n=e("C7Lr")(o,c,!1,function(t){e("kZLn")},"data-v-4f12a80d",null);s.default=n.exports},kZLn:function(t,s){},lWcx:function(t,s,e){"use strict";var a={name:"thumbImg",props:{value:[String,Number],params:{default:function(){return{}},type:Object},data:{type:[Array,Object]},props:{default:function(){return{id:"id",url:"url"}},type:Object}},data:function(){return{state:!1,resource:{name:"全部图片",id:""},pictureItems:[]}},methods:{showViewer:function(){this.$viewer({list:this.data})},deleteItems:function(t){this.pictureItems.splice(t,1),this.pictureItems.length>0?(this.$emit("change",this.pictureItems,this.index,this.params),this.$emit("input",this.pictureItems[0].id)):(this.$emit("change",null,this.index,this.params),this.$emit("input",""))}},watch:{data:{handler:function(){"object"===this.$cms.validateObjcet(this.data)?(this.pictureItems=[],this.data[this.props.id]&&""!==this.data[this.props.id]&&this.pictureItems.push(this.data)):this.pictureItems=this.data},deep:!0,immediate:!0}}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"viwer-box"},t._l(t.pictureItems,function(s,a){return e("div",{key:a,staticClass:"viwer-warpper rectangular"},[e("img",{staticClass:"thumb-img",attrs:{src:t.$cms.filterUrl(s.url)}}),t._v(" "),e("div",{staticClass:"thumb-cover"},[e("i",{staticClass:"el-icon-zoom-in",on:{click:function(s){return s.stopPropagation(),t.showViewer(s)}}})])])}),0)])},staticRenderFns:[]};var r=e("C7Lr")(a,i,!1,function(t){e("AF8F")},"data-v-7ab7fd6b",null);s.a=r.exports}});
//# sourceMappingURL=19.2c3cc804530e52cdde75.js.map