webpackJsonp([87],{bT9y:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("aA9S"),o=r.n(a),s=r("x1ym"),i=r("lcoF"),l=r("QkjJ"),u=r("115F"),n={buyServiceTime:3,promoteType:2},m={mixins:[i.a],components:{payBox:u.a},data:function(){return{formData:o()({},n),orderNum:"",saveRules:{buyServiceTime:[s.a.required()]}}},computed:{prices:function(){var e=this.$route.query.data.price*[0,3,6,12,24][this.formData.buyServiceTime];return this.$cms.float(e)}},methods:{createOrder:function(){var e=this;Object(l.s)(this.formData).then(function(t){200===t.code&&(e.orderNum=t.data.orderNum,0===t.data.orderAmount?(e.$successMessage("开通成功"),e.$routerLink("/marketingService/list","list")):e.$refs.pay.showPay())})}},created:function(){this.formData.promoteType=this.$route.query.data.promoteType}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[r("cms-breadcrumb",{attrs:{to:"/marketingService/list"}},[r("li",[e._v(e._s(e.$route.name))])]),e._v(" "),r("div",{staticClass:"cms-form-layout"},[r("cms-prompt",{attrs:{collapse:"true"}},[r("li",[e._v("带 * 为必填项")])]),e._v(" "),r("el-form",{ref:"form",attrs:{rules:e.saveRules,model:e.formData,"label-width":"210px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"服务项目",prop:"name"}},[1==e.$route.query.data.promoteType?r("span",[e._v("单品折扣")]):e._e(),e._v(" "),2==e.$route.query.data.promoteType?r("span",[e._v("单品一口价")]):e._e(),e._v(" "),3==e.$route.query.data.promoteType?r("span",[e._v("满减")]):e._e(),e._v(" "),4==e.$route.query.data.promoteType?r("span",[e._v("优惠券")]):e._e(),e._v(" "),5==e.$route.query.data.promoteType?r("span",[e._v("满赠")]):e._e(),e._v(" "),6==e.$route.query.data.promoteType?r("span",[e._v("包邮")]):e._e()]),e._v(" "),r("el-form-item",{attrs:{label:"开通服务时长",prop:"buyServiceTime"}},[r("el-select",{model:{value:e.formData.buyServiceTime,callback:function(t){e.$set(e.formData,"buyServiceTime",t)},expression:"formData.buyServiceTime"}},[r("el-option",{attrs:{label:"3个月",value:1}}),e._v(" "),r("el-option",{attrs:{label:"6个月",value:2}}),e._v(" "),r("el-option",{attrs:{label:"1年",value:3}}),e._v(" "),r("el-option",{attrs:{label:"2年",value:4}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"支付金额",prop:"enName"}},[e._v("\n       "+e._s(e.prices)+"元\n      ")])],1),e._v(" "),r("div",{staticClass:"cms-form-footer"},[r("el-button",{on:{click:e.createOrder}},[e._v("支付")]),e._v(" "),r("pay-box",{ref:"pay",attrs:{orderNum:e.orderNum,payScene:"storePromote"}})],1)],1)],1)},staticRenderFns:[]},c=r("C7Lr")(m,p,!1,null,null,null);t.default=c.exports}});
//# sourceMappingURL=87.b7ae936a110350cc47ea.js.map