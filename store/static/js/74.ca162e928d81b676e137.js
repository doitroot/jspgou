webpackJsonp([74],{iBhW:function(e,t){},s2Xh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("aA9S"),s=a.n(l),r=a("x1ym"),i=a("lcoF"),o=a("s9+M"),m={levelName:"",levelExp:"",id:"",levelRights:[{type:"",rewardTypeCode:"",sendwayType:"",minValue:10,maxValue:50,couponId:""}]},c={mixins:[i.a],data:function(){return{checked1:!1,checked2:!1,interestsDialog:!1,queryData:{memberLevel:{levelName:"",levelExp:"",id:""},levelRightList:[{type:"",rewardTypeCode:"",sendwayType:"",minValue:10,maxValue:50,couponId:""}]},formData:s()({},m),rules:{levelName:[r.a.required("此项为必填")],levelExp:[r.a.required("此项为必填"),r.a.number()]}}},methods:{getFormData:function(e){var t=this;Object(o.d)({id:e}).then(function(e){t.formData=s()(m,e.data),t.formData.levelRights.length<1&&(t.formData.levelRights=t.queryData.levelRightList)})},submitData:function(){1===this.formData.levelRights[0].type&&""!==this.formData.levelRights[0].rewardType?(this.checked2=!1,this.checked1=!0):2===this.formData.levelRights[0].type&&""!==this.formData.levelRights[0].rewardType&&(this.checked1=!1,this.checked2=!0),this.interestsDialog=!1},setInterests:function(e){this.interestsDialog=!0,this.formData.levelRights[0].type=e},update:function(){if(this.queryData.memberLevel.levelName=this.formData.levelName,this.queryData.memberLevel.levelExp=this.formData.levelExp,this.queryData.memberLevel.id=this.formData.id,""===this.formData.levelRights[0].type){var e={};e.memberLevel=this.queryData.memberLevel,console.log(111),this.updateForm(o.f,e,"/memberGrade/list","list")}else this.queryData.levelRightList=this.formData.levelRights,this.updateForm(o.f,this.queryData,"/memberGrade/list","list")}},created:function(){this.getFormData(this.id)}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("cms-breadcrumb",{attrs:{to:"/memberGrade"},on:{click:e.rest}},[a("li",[e._v(e._s(e.$route.name))])]),e._v(" "),a("div",{staticClass:"cms-form-layout"},[a("cms-prompt",{attrs:{collapse:"true"}},[a("li",[e._v("带 * 为必填")]),e._v(" "),a("li",[e._v("加入会员等级权益必须进行权益设置")])]),e._v(" "),a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.formData,"label-width":"210px"}},[a("el-form-item",{attrs:{label:"会员等级名称",prop:"levelName",error:e.errorMessage.levelName}},[a("el-input",{ref:"first",attrs:{autofocus:!0},model:{value:e.formData.levelName,callback:function(t){e.$set(e.formData,"levelName",t)},expression:"formData.levelName"}}),e._v(" "),a("div",{staticStyle:{color:"#666666"}},[e._v("会员账户"),a("span",{staticStyle:{color:"#999999"}},[e._v("用于登录商城，请确保唯一")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"等级升级条件",prop:"levelExp",error:e.errorMessage.levelExp}},[a("el-input",{model:{value:e.formData.levelExp,callback:function(t){e.$set(e.formData,"levelExp",t)},expression:"formData.levelExp"}})],1)],1),e._v(" "),a("h3",{staticClass:"cms-segmentation"},[e._v("会员等级权益")]),e._v(" "),a("el-form",{ref:"form",staticClass:"grade-items",attrs:{model:e.formData}},[a("div",{staticClass:"grade-item"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grade-img"},[a("img",{attrs:{src:"https://img13.360buyimg.com/n2/jfs/t4039/255/1270201086/64578/259c6361/5871db9dN47fe1b30.jpg"}})])]),e._v(" "),a("el-col",{attrs:{span:14}},[a("span",{staticClass:"grade-item-title"},[e._v("购物福利")]),a("br"),e._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[e._v("订单支付完成之后有机会获得不同奖励")])])],1),e._v(" "),a("el-row",{staticClass:"grade-item-cont"},[a("el-col",{attrs:{span:24}},[a("span",[e._v("随机获得50-100积分")]),a("br"),e._v(" "),a("span",[e._v("仅限2018-12-30 23:59:59内使用")])])],1),e._v(" "),a("el-row",{staticClass:"grade-item-foot"},[a("el-col",{attrs:{span:24}},[a("el-checkbox",{staticStyle:{margin:"0 15px"},model:{value:e.checked1,callback:function(t){e.checked1=t},expression:"checked1"}}),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.setInterests(1)}}},[e._v("权益设置")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.rest}},[e._v("清空设置")])],1)],1)],1),e._v(" "),a("div",{staticClass:"grade-item"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grade-img"},[a("img",{attrs:{src:"https://img12.360buyimg.com/n7/jfs/t17989/208/1590957743/451183/f4572fbf/5ad05c50N3acc4ab3.jpg"}})])]),e._v(" "),a("el-col",{attrs:{span:14}},[a("span",{staticClass:"grade-item-title"},[e._v("生日特权")]),a("br"),e._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[e._v("生日享有系统赠送的奖励")])])],1),e._v(" "),a("el-row",{staticClass:"grade-item-cont"},[a("el-col",{attrs:{span:24}},[a("span",[e._v("可获得100元优惠券")]),a("br"),e._v(" "),a("span",[e._v("仅限生日当天使用（当天23:59:59）")])])],1),e._v(" "),a("el-row",{staticClass:"grade-item-foot"},[a("el-col",{attrs:{span:24}},[a("el-checkbox",{staticStyle:{margin:"0 15px"},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.setInterests(2)}}},[e._v("权益设置")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.rest}},[e._v("清空设置")])],1)],1)],1)]),e._v(" "),a("div",{staticClass:"cms-form-footer"},[a("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:e.update}},[e._v("保存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"权益设置",visible:e.interestsDialog,width:"40%"},on:{"update:visible":function(t){e.interestsDialog=t}}},[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.formData,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"权益奖励类型:",prop:"rewardType",error:e.errorMessage.rewardType}},[a("el-radio-group",{model:{value:e.formData.levelRights[0].rewardType,callback:function(t){e.$set(e.formData.levelRights[0],"rewardType",t)},expression:"formData.levelRights[0].rewardType"}},[a("el-radio",{attrs:{label:1}},[e._v("成长值")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("积分")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("优惠券")])],1),e._v(" "),a("div",{staticClass:"detail"},[e._v("优惠券额度为全平台通用")])],1),e._v(" "),a("el-form-item",{attrs:{label:"派发方式:",prop:"sendwayType",error:e.errorMessage.sendwayType}},[a("el-radio-group",{model:{value:e.formData.levelRights[0].sendwayType,callback:function(t){e.$set(e.formData.levelRights[0],"sendwayType",t)},expression:"formData.levelRights[0].sendwayType"}},[a("el-radio",{attrs:{label:1}},[e._v("系统自为")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"奖励额度:",prop:"rewardTypeCode",error:e.errorMessage.sendwayType}},[a("div",[a("el-radio",{attrs:{label:"1"},model:{value:e.formData.levelRights[0].rewardTypeCode,callback:function(t){e.$set(e.formData.levelRights[0],"rewardTypeCode",t)},expression:"formData.levelRights[0].rewardTypeCode"}},[e._v("固定")]),e._v(" "),a("el-input",{staticStyle:{width:"70%","margin-left":"10px"},attrs:{type:"namber",min:e.formData.levelRights[0].minValue,max:e.formData.levelRights[0].maxValue}}),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.formData.levelRights[0].rewardTypeCode,callback:function(t){e.$set(e.formData.levelRights[0],"rewardTypeCode",t)},expression:"formData.levelRights[0].rewardTypeCode"}},[e._v("随机")])],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.interestsDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitData}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var v=a("C7Lr")(c,n,!1,function(e){a("iBhW")},"data-v-15401d84",null);t.default=v.exports}});
//# sourceMappingURL=74.ca162e928d81b676e137.js.map