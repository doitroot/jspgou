webpackJsonp([77],{H2sw:function(e,a){},"v/rK":function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=r("aA9S"),o=r.n(t),s=r("x1ym"),l=r("lcoF"),n=r("EOYE"),i={enabled:!1,username:"",password:"",email:"",phone:"",nickname:"",pwd:"",resourceDataId:"",birthday:"",gender:""},m={mixins:[l.a],data:function(){var e=this;return{imageUrl:"",formData:o()({},i),rules:{email:[s.a.required("此项必填"),s.a.email(),s.a.custom(function(e,a,r){Object(n.a)({email:a}).then(function(e){200===e.code&&(e.data?r():r(new Error("邮箱已存在，不允许重复添加")))})})],phone:[s.a.custom(function(e,a,r){Object(n.b)({phone:a}).then(function(e){200===e.code&&(e.data?r():r(new Error("手机已存在，不允许重复添加")))})})],pwd:[s.a.required("此项必填"),s.a.custom(function(a,r,t){r===e.formData.password?t():t(new Error("密码输入不一致，请重新输入"))})],gender:[s.a.required("此项必填")],username:[s.a.required("此项必填"),s.a.custom(function(e,a,r){Object(n.c)({username:a}).then(function(e){200===e.code&&(e.data?r():r(new Error("账户已存在，不允许重复添加")))})})],status:[s.a.required("此项必填")],password:[s.a.required("此项必填")]}}},methods:{handleAvatarSuccess:function(e,a){console.log(e),console.log(a),this.imageUrl=URL.createObjectURL(a.raw)},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type,r=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&r},save:function(e){var a={member:{enabled:this.formData.enabled,username:this.formData.username,password:this.formData.password,email:this.formData.email,phone:this.formData.phone,nickname:this.formData.nickname},memberExt:{resourceDataId:this.formData.resourceDataId,birthday:this.formData.birthday,gender:this.formData.gender}};this.saveForm(n.m,a,e,"/shopMember/list","list")}},created:function(){}},c={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",[r("cms-breadcrumb",{attrs:{to:"/shopMember/list",type:"list"},on:{click:e.rest}},[r("li",[e._v(e._s(e.$route.name))])]),e._v(" "),r("div",{staticClass:"cms-form-layout"},[r("cms-prompt",[r("li",[e._v("带 * 为必填项")]),e._v(" "),r("li",[e._v("新增用户积分、成长值默认为0")])]),e._v(" "),r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.formData,"label-width":"210px"}},[r("el-form-item",{attrs:{label:"会员头像",prop:"resourceDataId"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!0,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?r("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),r("el-form-item",{attrs:{label:"会员账户",prop:"username",error:e.errorMessage.username}},[r("el-input",{model:{value:e.formData.username,callback:function(a){e.$set(e.formData,"username",a)},expression:"formData.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password",error:e.errorMessage.password}},[r("el-input",{attrs:{type:"password"},model:{value:e.formData.password,callback:function(a){e.$set(e.formData,"password",a)},expression:"formData.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"pwd",error:e.errorMessage.pwd}},[r("el-input",{attrs:{type:"password"},model:{value:e.formData.pwd,callback:function(a){e.$set(e.formData,"pwd",a)},expression:"formData.pwd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"email",error:e.errorMessage.email}},[r("el-input",{model:{value:e.formData.email,callback:function(a){e.$set(e.formData,"email",a)},expression:"formData.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机",prop:"phone"}},[r("el-input",{model:{value:e.formData.phone,callback:function(a){e.$set(e.formData,"phone",a)},expression:"formData.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"姓名",prop:"nickname"}},[r("el-input",{model:{value:e.formData.nickname,callback:function(a){e.$set(e.formData,"nickname",a)},expression:"formData.nickname"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"gender"}},[r("el-radio-group",{model:{value:e.formData.gender,callback:function(a){e.$set(e.formData,"gender",a)},expression:"formData.gender"}},[r("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:2}},[e._v("女")]),e._v(" "),r("el-radio",{attrs:{label:3}},[e._v("保密")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[r("el-date-picker",{attrs:{type:"date",size:"small",placeholder:"年/月/日"},model:{value:e.formData.birthday,callback:function(a){e.$set(e.formData,"birthday",a)},expression:"formData.birthday"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否启用",prop:"enabled"}},[r("cms-switch",{attrs:{activeValue:0,inactiveValue:1},model:{value:e.formData.enabled,callback:function(a){e.$set(e.formData,"enabled",a)},expression:"formData.enabled"}})],1)],1),e._v(" "),r("div",{staticClass:"cms-form-footer"},[r("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(a){e.save(!0)}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var d=r("C7Lr")(m,c,!1,function(e){r("H2sw")},null,null);a.default=d.exports}});
//# sourceMappingURL=77.325e582e8bcb59f83401.js.map