webpackJsonp([12],{"02nN":function(t,e){},"2CGr":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("5HJ5"),n=a("NyU8"),r={mixins:[s.a],data:function(){return{queryParams:{page:1,size:10,status:3,name:"",categoryId:"",itemCode:"",storeId:"",sellGoodsSale:"",storeCategoryId:"",brandName:"",itemNumber:""}}},methods:{productOffShelves:function(){var t=this;this.batchStatus?this.$confirm("是否确定下架选中的商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.n)({ids:t.ids}).then(function(e){t.dialogVisible=!1,200===e.code?(t.$successMessage("操作成功"),t.$emit("change","shelves"),t.getTableData(n.o,t.queryParams)):t.$errorMessage("操作失败")})}).catch(function(){}):this.$errorMessage("至少选择一条数据")},productOffShelve:function(t){var e=this;this.$confirm("是否确定下架该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.n)({ids:[t]}).then(function(t){e.dialogVisible=!1,200===t.code?(e.$successMessage("操作成功"),e.$emit("change","shelves"),e.getTableData(n.o,e.queryParams)):e.$errorMessage("操作失败")})}).catch(function(){})},deleteData:function(t){var e=this;this.$confirm("删除的商品将会放入回收站中，是否确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.p)({ids:[t]}).then(function(t){200===t.code?(e.$successMessage("删除成功"),e.$emit("change","recycle"),e.getTableData(n.o,e.queryParams)):e.$errorMessage("删除失败,"+t.message)})}).catch(function(){})},deleteDatas:function(){var t=this;this.batchStatus?this.$confirm("删除的商品将会放入回收站中，是否确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.p)({ids:t.ids}).then(function(e){200===e.code?(t.$successMessage("删除成功"),t.$emit("change","recycle"),t.getTableData(t.callback,t.queryParams,t.isPage)):t.$errorMessage("删除失败,"+e.message)})}).catch(function(){}):this.$errorMessage("至少选择一条数据")},addProduct:function(){this.$store.dispatch("clearProductInfo"),this.$store.dispatch("setCache",!1),this.$store.dispatch("setStep","step1"),this.$routerLink("/product/save","save")},updateProduct:function(t){this.$store.dispatch("clearProductInfo"),this.$store.dispatch("setCache",!1),this.$store.dispatch("setStep","step2"),this.$routerLink("/product/update","update",{productId:t})},showProductImg:function(t){if(t.length>0){var e=t.filter(function(t){return!0===t.isCover});return e[0].imageResouce?this.$cms.filterUrl(e[0].imageResouce.url):"/static/error.png"}return"/static/error.png"},changeData:function(){this.getTableData(n.o,this.queryParams)}},created:function(){this.getTableData(n.o,this.queryParams)},mounted:function(){}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("cms-prompt",[a("li",[t._v("显示本店出售中商品列表信息")]),t._v(" "),a("li",[t._v("可对商品进行修改、删除、下架及查看详情等操作")])]),t._v(" "),a("section",{staticClass:"cms-list-query"},[a("div",{staticClass:"query-group"},[a("label",[t._v("商品名称")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.name,callback:function(e){t.$set(t.queryParams,"name",e)},expression:"queryParams.name"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("label",[t._v("SPU编号")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.itemCode,callback:function(e){t.$set(t.queryParams,"itemCode",e)},expression:"queryParams.itemCode"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("label",[t._v("品牌")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.brandName,callback:function(e){t.$set(t.queryParams,"brandName",e)},expression:"queryParams.brandName"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:t.query}},[t._v("查询")])],1)]),t._v(" "),a("section",{staticClass:"cms-batch"},[a("cms-button",{attrs:{icon:"add",type:"success",size:"small"},on:{click:t.addProduct}},[t._v("添加商品")]),t._v(" "),a("cms-button",{attrs:{icon:"error",type:"error",size:"small"},on:{click:function(e){t.deleteDatas()}}},[t._v("批量删除")]),t._v(" "),a("cms-button",{attrs:{icon:"down",type:"warning",size:"small"},on:{click:function(e){t.productOffShelves()}}},[t._v("批量下架")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.getCheckItems,"row-click":t.checkRows}},[a("el-table-column",{attrs:{type:"selection",width:"46",fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"itemCode",label:"SPU编号",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称","min-width":"340","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-table"},[a("div",{staticClass:"product-img"},[a("img",{attrs:{src:t.showProductImg(e.row.resources),alt:e.row.name}})]),t._v(" "),a("div",{staticClass:"product-desc"},[a("div",{staticClass:"product-name"},[t._v("\n              "+t._s(e.row.name)+"\n            ")]),t._v(" "),a("div",{staticClass:"product-attr"},[e.row.brand?a("span",[t._v("品牌： "+t._s(e.row.brand.name))]):t._e(),t._v(" "),a("span",[t._v("货号： "+t._s(e.row.itemNumber))])])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"letter",label:"店铺名称","min-width":"160","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-brand"},[a("div",{staticClass:"brand-title"},[t._v(t._s(e.row.store.storeName))]),t._v(" "),e.row.store.selfShop?a("span",{staticClass:"brand-shop"},[t._v("(自营店铺)")]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分类名称","min-width":"115","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-brand"},[a("div",{staticClass:"brand-title"},[t._v(t._s(e.row.category.cateName))]),t._v(" "),e.row.category.parent?a("div",{staticClass:"brand-category"},[t._v("- "+t._s(e.row.category.parent.cateName))]):t._e(),t._v(" "),e.row.category.parent&&e.row.category.parent.parent?a("div",{staticClass:"brand-category"},[t._v("- "+t._s(e.row.category.parent.parent.cateName))]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"价格/库存/运费","min-width":"115","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-price-box"},[a("div",[a("span",{staticClass:"tag"},[t._v("价格:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v(t._s(e.row.salePrice))])]),t._v(" "),a("div",[a("span",{staticClass:"tag"},[t._v("库存:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v(t._s(e.row.inventory)+t._s(e.row.ext.unit))])]),t._v(" "),a("div",[a("span",{staticClass:"tag"},[t._v("运费:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v("固定运费")])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("el-button",{attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),t.productOffShelve(e.row.id)}}},[t._v("下架")]),t._v(" "),a("el-button",{directives:[{name:"prem",rawName:"v-prem",value:"/product/update",expression:"'/product/update'"}],attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),t.updateProduct(e.row.id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),t.deleteData(e.row.id)}}},[t._v("删除")])],1)}}])})],1),t._v(" "),a("cms-pagination",{attrs:{total:t.total},on:{change:t.getPage}})],1)},staticRenderFns:[]};var c=a("C7Lr")(r,i,!1,function(t){a("mHTg")},null,null).exports,o={mixins:[s.a],data:function(){return{queryParams:{page:1,size:10,status:[1,2],name:"",categoryId:"",itemCode:"",storeId:"",sellGoodsSale:"",storeCategoryId:"",brandName:"",itemNumber:""},dialogVisible:!1,form:{status:!0,code:"",name:"",data:"",id:""}}},methods:{productToCheck:function(t){var e=this;this.$confirm("是否提交审核该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.t)({ids:t}).then(function(t){200===t.code?(e.$successMessage("提交成功"),e.$emit("change","sale"),e.getTableData(n.o,e.queryParams)):e.$errorMessage("审核失败,"+t.message)})}).catch(function(){})},deleteData:function(t){var e=this;this.$confirm("删除的商品将会放入回收站中，是否确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.p)({ids:[t]}).then(function(t){200===t.code?(e.$successMessage("删除成功"),e.$emit("change","recycle"),e.getTableData(n.o,e.queryParams)):e.$errorMessage("删除失败,"+t.message)})}).catch(function(){})},deleteDatas:function(){var t=this;this.batchStatus?this.$confirm("删除的商品将会放入回收站中，是否确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.p)({ids:t.ids}).then(function(e){200===e.code?(t.$successMessage("删除成功"),t.$emit("change","recycle"),t.getTableData(t.callback,t.queryParams,t.isPage)):t.$errorMessage("删除失败,"+e.message)})}).catch(function(){}):this.$errorMessage("至少选择一条数据")},updateProduct:function(t){this.$store.dispatch("clearProductInfo"),this.$store.dispatch("setCache",!1),this.$store.dispatch("setStep","step2"),this.$routerLink("/product/update","update",{productId:t})},showProductImg:function(t){if(t.length>0){var e=t.filter(function(t){return!0===t.isCover});return e[0].imageResouce?this.$cms.filterUrl(e[0].imageResouce.url):"/static/error.png"}return"/static/error.png"},changeData:function(){this.getTableData(n.o,this.queryParams)}},created:function(){this.getTableData(n.o,this.queryParams)},activated:function(){}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("cms-prompt",[a("li",[t._v("显示本店正在进行平台审核阶段及审核不通过的商品列表信息")]),t._v(" "),a("li",[t._v("可对商品进行修改、删除及提交审核等操作")])]),t._v(" "),a("section",{staticClass:"cms-list-query"},[a("div",{staticClass:"query-group"},[a("label",[t._v("商品名称")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.name,callback:function(e){t.$set(t.queryParams,"name",e)},expression:"queryParams.name"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("label",[t._v("SPU编号")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.itemCode,callback:function(e){t.$set(t.queryParams,"itemCode",e)},expression:"queryParams.itemCode"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("label",[t._v("品牌")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.brandName,callback:function(e){t.$set(t.queryParams,"brandName",e)},expression:"queryParams.brandName"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:t.query}},[t._v("查询")])],1)]),t._v(" "),a("section",{staticClass:"cms-batch"},[a("cms-button",{attrs:{icon:"error",type:"error",size:"small"},on:{click:function(e){t.deleteTableDatas(t.del)}}},[t._v("批量删除")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.getCheckItems,"row-click":t.checkRows}},[a("el-table-column",{attrs:{type:"selection",width:"46",fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"itemCode",label:"SPU编号",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称","min-width":"350","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-table"},[a("div",{staticClass:"product-img"},[a("img",{attrs:{src:t.showProductImg(e.row.resources),alt:e.row.name}})]),t._v(" "),a("div",{staticClass:"product-desc"},[a("div",{staticClass:"product-name"},[t._v("\n                "+t._s(e.row.name)+"\n              ")]),t._v(" "),a("div",{staticClass:"product-attr"},[e.row.brand?a("span",[t._v("品牌： "+t._s(e.row.brand.name))]):t._e(),t._v(" "),a("span",[t._v("货号： "+t._s(e.row.itemNumber))])])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"letter",label:"店铺名称","min-width":"160","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-brand"},[a("div",{staticClass:"brand-title"},[t._v(t._s(e.row.store.storeName))]),t._v(" "),e.row.store.selfShop?a("span",{staticClass:"brand-shop"},[t._v("(自营店铺)")]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分类名称","min-width":"115","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-brand"},[a("div",{staticClass:"brand-title"},[t._v(t._s(e.row.category.cateName))]),t._v(" "),null!==e.row.category.parent?a("div",{staticClass:"brand-category"},[t._v("- "+t._s(e.row.category.parent.cateName))]):t._e(),t._v(" "),e.row.category.parent&&e.row.category.parent.parent?a("div",{staticClass:"brand-category"},[t._v("- "+t._s(e.row.category.parent.parent.cateName))]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"审核状态","min-width":"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",{staticClass:"success"},[t._v("待审核")]):t._e(),t._v(" "),2==e.row.status?a("span",{staticClass:"error"},[t._v("审核不通过")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备注","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-overflow",attrs:{title:e.row.refuseReason}},[t._v("\n            "+t._s(e.row.refuseReason)+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"价格/库存/运费","min-width":"115","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-price-box"},[a("div",[a("span",{staticClass:"tag"},[t._v("价格:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v(t._s(e.row.salePrice))])]),t._v(" "),a("div",[a("span",{staticClass:"tag"},[t._v("库存:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v(t._s(e.row.inventory)+t._s(e.row.ext.unit))])]),t._v(" "),a("div",[a("span",{staticClass:"tag"},[t._v("运费:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v("固定运费")])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"240",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[2==e.row.status?a("el-button",{attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),t.productToCheck([e.row.id])}}},[t._v("提交审核")]):t._e(),t._v(" "),2==e.row.status?a("el-button",{attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),t.updateProduct(e.row.id)}}},[t._v("修改")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),t.deleteData(e.row.id)}}},[t._v("删除")])],1)}}])})],1),t._v(" "),a("cms-pagination",{attrs:{total:t.total},on:{change:t.getPage}})],1)},staticRenderFns:[]};var u=a("C7Lr")(o,l,!1,function(t){a("4pfW")},null,null).exports,d={mixins:[s.a],data:function(){return{queryParams:{page:1,size:10,status:5,name:"",categoryId:"",itemCode:"",storeId:"",sellGoodsSale:"",storeCategoryId:"",brandName:"",itemNumber:""},value:!0}},methods:{reStoreProduct:function(t){var e=this;this.$confirm("是否确认还原商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.q)({ids:[t]}).then(function(t){200===t.code?(e.$successMessage("恢复成功"),e.getTableData(n.o,e.queryParams)):e.$errorMessage("恢复失败,"+t.message)})}).catch(function(){})},reStoreProducts:function(){var t=this;this.batchStatus?this.$confirm("是否确认还原商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.q)({ids:t.ids}).then(function(e){200===e.code?(t.$successMessage("恢复成功"),t.getTableData(t.callback,t.queryParams,t.isPage)):t.$errorMessage("恢复失败,"+e.message)})}).catch(function(){}):this.$errorMessage("至少选择一条数据")},deleteData:function(t){var e=this;this.$confirm("回收站中的商品删除将会无法还原，是否确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.f)({ids:[t]}).then(function(t){200===t.code?(e.$successMessage("删除成功"),e.getTableData(n.o,e.queryParams)):e.$errorMessage("删除失败,"+t.message)})}).catch(function(){})},deleteDatas:function(){var t=this;this.batchStatus?this.$confirm("回收站中的商品删除将会无法还原，是否确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.f)({ids:t.ids}).then(function(e){200===e.code?(t.$successMessage("删除成功"),t.getTableData(t.callback,t.queryParams,t.isPage)):t.$errorMessage("删除失败,"+e.message)})}).catch(function(){}):this.$errorMessage("至少选择一条数据")},updateProduct:function(t){this.$store.dispatch("clearProductInfo"),this.$store.dispatch("setCache",!1),this.$store.dispatch("setStep","step2"),this.$routerLink("/product/update","update",{productId:t})},showProductImg:function(t){if(t.length>0){var e=t.filter(function(t){return!0===t.isCover});return e[0].imageResouce?this.$cms.filterUrl(e[0].imageResouce.url):"/static/error.png"}return"/static/error.png"},changeData:function(){this.getTableData(n.o,this.queryParams)}},created:function(){this.getTableData(n.o,this.queryParams)}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("cms-prompt",[a("li",[t._v("显示本店回收站内的商品列表信息")]),t._v(" "),a("li",[t._v("可对商品还原（将商品更改为仓库中状态商品）及删除（从系统中彻底删除，之后将不在系统中展示，请谨慎操作）等操作")])]),t._v(" "),a("section",{staticClass:"cms-list-query"},[a("div",{staticClass:"query-group"},[a("label",[t._v("商品名称")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.name,callback:function(e){t.$set(t.queryParams,"name",e)},expression:"queryParams.name"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("label",[t._v("SPU编号")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.itemCode,callback:function(e){t.$set(t.queryParams,"itemCode",e)},expression:"queryParams.itemCode"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("label",[t._v("品牌")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.brandName,callback:function(e){t.$set(t.queryParams,"brandName",e)},expression:"queryParams.brandName"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:t.query}},[t._v("查询")])],1)]),t._v(" "),a("section",{staticClass:"cms-batch"},[a("cms-button",{attrs:{icon:"error",type:"error",size:"small"},on:{click:function(e){t.deleteDatas()}}},[t._v("批量删除")]),t._v(" "),a("cms-button",{attrs:{icon:"back",type:"success",size:"small"},on:{click:function(e){t.reStoreProducts()}}},[t._v("批量还原")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.getCheckItems,"row-click":t.checkRows}},[a("el-table-column",{attrs:{type:"selection",width:"46",fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"itemCode",label:"SPU编号",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称","min-width":"320","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-table"},[a("div",{staticClass:"product-img"},[a("img",{attrs:{src:t.showProductImg(e.row.resources),alt:e.row.name}})]),t._v(" "),a("div",{staticClass:"product-desc"},[a("div",{staticClass:"product-name"},[t._v("\n              "+t._s(e.row.name)+"\n            ")]),t._v(" "),a("div",{staticClass:"product-attr"},[e.row.brand?a("span",[t._v("品牌： "+t._s(e.row.brand.name))]):t._e(),t._v(" "),a("span",[t._v("货号： "+t._s(e.row.itemNumber))])])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"letter",label:"店铺名称","min-width":"160","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-brand"},[a("div",{staticClass:"brand-title"},[t._v(t._s(e.row.store.storeName))]),t._v(" "),e.row.store.selfShop?a("span",{staticClass:"brand-shop"},[t._v("(自营店铺)")]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分类名称","min-width":"115","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-brand"},[a("div",{staticClass:"brand-title"},[t._v(t._s(e.row.category.cateName))]),t._v(" "),e.row.category.parent?a("div",{staticClass:"brand-category"},[t._v("- "+t._s(e.row.category.parent.cateName))]):t._e(),t._v(" "),e.row.category.parent&&e.row.category.parent.parent?a("div",{staticClass:"brand-category"},[t._v("- "+t._s(e.row.category.parent.parent.cateName))]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"价格/库存/运费","min-width":"115","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-price-box"},[a("div",[a("span",{staticClass:"tag"},[t._v("价格:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v(t._s(e.row.salePrice))])]),t._v(" "),a("div",[a("span",{staticClass:"tag"},[t._v("库存:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v(t._s(e.row.inventory)+t._s(e.row.ext.unit))])]),t._v(" "),a("div",[a("span",{staticClass:"tag"},[t._v("运费:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v("固定运费")])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"240",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("cms-button",{attrs:{icon:"down",size:"small",type:"info"},on:{click:function(a){a.stopPropagation(),t.reStoreProduct(e.row.id)}}},[t._v("还原")]),t._v(" "),a("cms-button",{directives:[{name:"prem",rawName:"v-prem",value:"/productMange/delete",expression:"'/productMange/delete'"}],attrs:{icon:"error",size:"small",type:"info"},on:{click:function(a){a.stopPropagation(),t.deleteData(e.row.id)}}},[t._v("删除")])],1)}}])})],1),t._v(" "),a("cms-pagination",{attrs:{total:t.total},on:{change:t.getPage}})],1)},staticRenderFns:[]};var m=a("C7Lr")(d,v,!1,function(t){a("x337")},null,null).exports,p={mixins:[s.a],data:function(){return{queryParams:{page:1,size:10,status:4,name:"",categoryId:"",itemCode:"",storeId:"",sellGoodsSale:"",storeCategoryId:"",brandName:"",itemNumber:""}}},methods:{productReviewPass:function(t){var e=this;this.$confirm("是否确定重新提交上架该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.t)({ids:[t]}).then(function(t){200===t.code?(e.$successMessage("提交成功,请耐心等待审核"),e.$emit("change","audit"),e.getTableData(n.o,e.queryParams)):e.$errorMessage(t.message)})}).catch(function(){})},productReviewPasses:function(){var t=this;this.batchStatus?this.$confirm("是否确定重新上架该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.t)({ids:t.ids}).then(function(e){200===e.code?(t.$successMessage("提交成功,请耐心等待审核"),t.$emit("change","audit"),t.getTableData(n.o,t.queryParams)):t.$errorMessage(e.message)})}).catch(function(){}):this.$errorMessage("至少选择一条数据")},deleteData:function(t){var e=this;this.$confirm("删除的商品将会放入回收站中，是否确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.p)({ids:[t]}).then(function(t){200===t.code?(e.$successMessage("删除成功"),e.$emit("change","recycle"),e.getTableData(n.o,e.queryParams)):e.$errorMessage("删除失败,"+t.message)})}).catch(function(){})},deleteDatas:function(){var t=this;this.batchStatus?this.$confirm("删除的商品将会放入回收站中，是否确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.p)({ids:t.ids}).then(function(e){200===e.code?(t.$successMessage("删除成功"),t.$emit("change","recycle"),t.getTableData(t.callback,t.queryParams,t.isPage)):t.$errorMessage("删除失败,"+e.message)})}).catch(function(){}):this.$errorMessage("至少选择一条数据")},updateProduct:function(t){this.$store.dispatch("clearProductInfo"),this.$store.dispatch("setCache",!1),this.$store.dispatch("setStep","step2"),this.$routerLink("/product/update","update",{productId:t})},showProductImg:function(t){if(t.length>0){var e=t.filter(function(t){return!0===t.isCover});return e[0].imageResouce?this.$cms.filterUrl(e[0].imageResouce.url):"/static/error.png"}return"/static/error.png"},changeData:function(){this.getTableData(n.o,this.queryParams)}},created:function(){this.getTableData(n.o,this.queryParams)},activated:function(){}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("cms-prompt",[a("li",[t._v("显示本店违规下架的商品列表信息")]),t._v(" "),a("li",[t._v("可对商品进行重新提交审核、修改及删除等操作")])]),t._v(" "),a("section",{staticClass:"cms-list-query"},[a("div",{staticClass:"query-group"},[a("label",[t._v("商品名称")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.name,callback:function(e){t.$set(t.queryParams,"name",e)},expression:"queryParams.name"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("label",[t._v("SPU编号")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.itemCode,callback:function(e){t.$set(t.queryParams,"itemCode",e)},expression:"queryParams.itemCode"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("label",[t._v("品牌")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.query(e):null}},model:{value:t.queryParams.brandName,callback:function(e){t.$set(t.queryParams,"brandName",e)},expression:"queryParams.brandName"}})],1),t._v(" "),a("div",{staticClass:"query-group"},[a("cms-button",{attrs:{size:"small",colorPicker:!0},on:{click:t.query}},[t._v("查询")])],1)]),t._v(" "),a("section",{staticClass:"cms-batch"},[a("cms-button",{attrs:{icon:"error",type:"error",size:"small"},on:{click:function(e){t.deleteDatas()}}},[t._v("批量删除")]),t._v(" "),a("cms-button",{attrs:{icon:"up",type:"success",size:"small"},on:{click:function(e){t.productReviewPasses()}}},[t._v("批量上架")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.getCheckItems,"row-click":t.checkRows}},[a("el-table-column",{attrs:{type:"selection",width:"46",fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"itemCode",label:"SPU编号",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称","min-width":"340","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-table"},[a("div",{staticClass:"product-img"},[a("img",{attrs:{src:t.showProductImg(e.row.resources),alt:e.row.name}})]),t._v(" "),a("div",{staticClass:"product-desc"},[a("div",{staticClass:"product-name"},[t._v("\n              "+t._s(e.row.name)+"\n            ")]),t._v(" "),a("div",{staticClass:"product-attr"},[e.row.brand?a("span",[t._v("品牌： "+t._s(e.row.brand.name))]):t._e(),t._v(" "),a("span",[t._v("货号： "+t._s(e.row.itemNumber))])])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"letter",label:"店铺名称","min-width":"160","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-brand"},[a("div",{staticClass:"brand-title"},[t._v(t._s(e.row.store.storeName))]),t._v(" "),e.row.store.selfShop?a("span",{staticClass:"brand-shop"},[t._v("(自营店铺)")]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分类名称","min-width":"115","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-brand"},[a("div",{staticClass:"brand-title"},[t._v(t._s(e.row.category.cateName))]),t._v(" "),e.row.category.parent?a("div",{staticClass:"brand-category"},[t._v("- "+t._s(e.row.category.parent.cateName))]):t._e(),t._v(" "),e.row.category.parent&&e.row.category.parent.parent?a("div",{staticClass:"brand-category"},[t._v("- "+t._s(e.row.category.parent.parent.cateName))]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"价格/库存/运费","min-width":"115","class-name":"is-height"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product-price-box"},[a("div",[a("span",{staticClass:"tag"},[t._v("价格:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v(t._s(e.row.salePrice))])]),t._v(" "),a("div",[a("span",{staticClass:"tag"},[t._v("库存:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v(t._s(e.row.inventory)+t._s(e.row.ext.unit))])]),t._v(" "),a("div",[a("span",{staticClass:"tag"},[t._v("运费:")]),t._v(" "),a("span",{staticClass:"tag-val"},[t._v("固定运费")])])])]}}])}),t._v(" "),a("el-table-column",{staticClass:"is-height",attrs:{label:"备注",prop:"refuseReason","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"240",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.productReviewPass(e.row.id)}}},[t._v("提交审核")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.deleteData(e.row.id)}}},[t._v("删除")])],1)}}])})],1),t._v(" "),a("cms-pagination",{attrs:{total:t.total},on:{change:t.getPage}})],1)},staticRenderFns:[]};var h={name:"productList",components:{sale:c,audit:u,recycle:m,shelves:a("C7Lr")(p,_,!1,function(t){a("I2c8")},null,null).exports},data:function(){return{status:!0,activeName:"first"}},methods:{eventChange:function(t){"recycle"===t&&this.$refs.recycle&&this.$refs.recycle.changeData(),"shelves"===t&&this.$refs.shelves&&this.$refs.shelves.changeData(),"sale"===t&&this.$refs.sale&&this.$refs.sale.changeData(),"audit"===t&&this.$refs.audit&&this.$refs.audit.changeData()}},activated:function(){var t=this;"list"===this.$route.query.type&&(this.status=!1,setTimeout(function(){t.status=!0},1))}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cms-list-layout",staticStyle:{"padding-top":"6px"}},[t.status?a("el-tabs",{ref:"productTab",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"出售中",name:"first"}},[a("sale",{ref:"sale",on:{change:t.eventChange}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"待审核",name:"second",lazy:""}},[a("audit",{ref:"audit",on:{change:t.eventChange}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"违规下架",name:"third",lazy:""}},[a("shelves",{ref:"shelves",on:{change:t.eventChange}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"回收站",name:"fourth",lazy:""}},[a("recycle",{ref:"recycle",on:{change:t.eventChange}})],1)],1):t._e()],1)},staticRenderFns:[]};var g=a("C7Lr")(h,f,!1,function(t){a("02nN")},null,null);e.default=g.exports},"4pfW":function(t,e){},I2c8:function(t,e){},mHTg:function(t,e){},x337:function(t,e){}});
//# sourceMappingURL=12.9c7015c56534a9386de2.js.map