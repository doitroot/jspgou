webpackJsonp([76],{DjtF:function(e,o){},Thml:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=t("aA9S"),r=t.n(a),n=t("x1ym"),u=t("lcoF"),s=t("QkjJ"),c={coupon:{conOrderAmount:"",discountAmount:"",getMode:1,getNum:1,expirateType:2,issueNum:"",name:"",useBeginTime:"",useEndTime:"",useDay:5,couponType:1,couponScope:1},ctgIds:[],activeTimer:[]},m={components:{categoryCascader:t("CPCM").a},mixins:[u.a],data:function(){var e=this;return{timer:[],formData:r()({},c),rules:{"coupon.name":[n.a.required("请填写优惠券名称"),n.a.len(1,20)],"coupon.couponType":[n.a.required()],"coupon.useDay":[n.a.number("请输入大于或等于0的正整数")],"coupon.conOrderAmount":[n.a.number("请输入大于0的正整数"),n.a.required()],"coupon.issueNum":[n.a.required(),n.a.number("请输入大于或等于0的正整数")],"coupon.getNum":[n.a.number("请输入大于或等于0的正整数"),n.a.required()],"coupon.useBeginTime":[n.a.required()],"coupon.discountAmount":[n.a.required(),n.a.number("请输入大于或等于0的正整数"),{validator:function(o,t,a){parseInt(t)>parseInt(e.formData.coupon.conOrderAmount)?a(new Error("面值不能大于使用条件")):a()},trigger:"blur"}]}}},methods:{getActiveTimer:function(e){this.formData.coupon.useBeginTime=e[0],this.formData.coupon.useEndTime=e[1]},save:function(e){this.saveForm(s.l,this.formData,e,"/coupon/list","list")},restData:function(){this.rest(),this.formData=this.$cms.deepCopy(c),this.activeTimer=[]}},created:function(){this.formData=r()({},c)}},i={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("cms-breadcrumb",{attrs:{to:"/coupon/list",type:"list"},on:{click:e.rest}},[t("li",[e._v(e._s(e.$route.name))])]),e._v(" "),t("div",{staticClass:"cms-form-layout"},[t("cms-prompt",{attrs:{collapse:!1}},[t("li",[e._v("可进行添加商家优惠券")])]),e._v(" "),t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.formData,"label-width":"210px"}},[t("el-form-item",{attrs:{label:"优惠券名称",prop:"coupon.name",error:e.errorMessage.coupon_name}},[t("el-input",{attrs:{maxlength:"30"},model:{value:e.formData.coupon.name,callback:function(o){e.$set(e.formData.coupon,"name",o)},expression:"formData.coupon.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"有效期",prop:"coupon.useBeginTime"}},[t("cms-picker",{staticStyle:{width:"380px"},attrs:{disabledType:"before"},on:{change:e.getActiveTimer},model:{value:e.activeTimer,callback:function(o){e.activeTimer=o},expression:"activeTimer"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"使用条件",prop:"coupon.conOrderAmount",error:e.errorMessage.coupon_conOrderAmount}},[t("el-input",{attrs:{maxlength:"6"},model:{value:e.formData.coupon.conOrderAmount,callback:function(o){e.$set(e.formData.coupon,"conOrderAmount",o)},expression:"formData.coupon.conOrderAmount"}},[t("template",{slot:"prepend"},[e._v("满")]),e._v(" "),t("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"面值",prop:"coupon.discountAmount",error:e.errorMessage.coupon_discountAmount}},[t("el-input",{attrs:{maxlength:"6"},model:{value:e.formData.coupon.discountAmount,callback:function(o){e.$set(e.formData.coupon,"discountAmount",o)},expression:"formData.coupon.discountAmount"}},[t("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"发放限制",prop:"coupon.issueNum"}},[t("el-input",{attrs:{maxlength:"6"},model:{value:e.formData.coupon.issueNum,callback:function(o){e.$set(e.formData.coupon,"issueNum",o)},expression:"formData.coupon.issueNum"}}),e._v(" "),t("div",{staticClass:"gray"},[e._v("输入几表示限制几张，输入0表示不限制")])],1),e._v(" "),t("el-form-item",{attrs:{label:"领取限制",prop:"coupon.getNum",error:e.errorMessage.coupon_getNum}},[t("el-input",{attrs:{maxlength:"2"},model:{value:e.formData.coupon.getNum,callback:function(o){e.$set(e.formData.coupon,"getNum",o)},expression:"formData.coupon.getNum"}},[t("template",{slot:"prepend"},[e._v("每用户")]),e._v(" "),t("template",{slot:"append"},[e._v("张")])],2)],1)],1),e._v(" "),t("div",{staticClass:"cms-form-footer"},[t("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(o){e.save(!1)}}},[e._v("保存并新增")]),e._v(" "),t("cms-button",{directives:[{name:"color",rawName:"v-color"}],on:{click:function(o){e.save(!0)}}},[e._v("保存")]),e._v(" "),t("cms-button",{attrs:{type:"rest"},on:{click:e.restData}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var l=t("C7Lr")(m,i,!1,function(e){t("DjtF")},null,null);o.default=l.exports}});
//# sourceMappingURL=76.373a1abe330ca7b86f20.js.map